<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

    <property name="autoIncrement" value="true"/>

    <changeSet id="20221007-001" author="drkarim-data-fi">
        <sql>
        CREATE TABLE IF NOT EXISTS public.pmtct_anc
        (
        id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
        anc_no character varying(255) COLLATE pg_catalog."default",
        created_by character varying(255) COLLATE pg_catalog."default",
        created_date timestamp without time zone,
        facility_id bigint,
        hospital_number character varying(255) COLLATE pg_catalog."default",
        last_modified_by character varying(255) COLLATE pg_catalog."default",
        last_modified_date timestamp without time zone,
        uuid character varying(255) COLLATE pg_catalog."default",
        lmp date,
        gaweeks integer,
        gravida integer,
        parity integer,
        archived bigint,
        syphilis_info jsonb,
        pmtct_hts_info jsonb,
        partner_notification jsonb,
        person_uuid character varying(255) COLLATE pg_catalog."default",
        first_anc_date date,
        expected_delivery_date date,
        hiv_diognosic_time character varying(100) COLLATE pg_catalog."default",
        CONSTRAINT pmtct_anc_pkey PRIMARY KEY (id)
        )

        TABLESPACE pg_default;

        ALTER TABLE IF EXISTS public.pmtct_anc
        OWNER to postgres;
    </sql>
    </changeSet>

    <changeSet id="20221007-002" author="drkarim-data-fi">
    <sql>
        CREATE TABLE IF NOT EXISTS public.pmtct_enrollment
        (
            id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
            anc_no character varying(255) COLLATE pg_catalog."default",
            created_by character varying(255) COLLATE pg_catalog."default",
            created_date timestamp without time zone,
            facility_id bigint,
            hospital_number character varying(255) COLLATE pg_catalog."default",
            last_modified_by character varying(255) COLLATE pg_catalog."default",
            last_modified_date timestamp without time zone,
            uuid character varying(255) COLLATE pg_catalog."default",
            pmtct_enrollment_date date,
            systolic character varying(255) COLLATE pg_catalog."default",
            diastolic character varying(255) COLLATE pg_catalog."default",
            body_weight character varying(255) COLLATE pg_catalog."default",
            fundal_height character varying(255) COLLATE pg_catalog."default",
            fetal_presentation character varying(255) COLLATE pg_catalog."default",
            gaweeks integer,
            visit_type character varying(255) COLLATE pg_catalog."default",
            visit_status character varying(255) COLLATE pg_catalog."default",
            tb_status character varying(255) COLLATE pg_catalog."default",
            next_appointment_date date,
            nutritional_support character varying(255) COLLATE pg_catalog."default",
            infant_feeding character varying(255) COLLATE pg_catalog."default",
            fpl character varying(255) COLLATE pg_catalog."default",
            referred_to character varying(255) COLLATE pg_catalog."default",
            agreed2_partner_notification character varying(255) COLLATE pg_catalog."default",
            viral_load_sample character varying(255) COLLATE pg_catalog."default",
            viral_load_sample_date date,
            CONSTRAINT pmtct_enrollment_pkey PRIMARY KEY (id)
            )

            TABLESPACE pg_default;

        ALTER TABLE IF EXISTS public.pmtct_enrollment
            OWNER to postgres;
    </sql>
    </changeSet>
    <changeSet id="20220610-003" author="drkarim-data-fi">
        <sql>
            CREATE TABLE IF NOT EXISTS public.pmtct_delivery
            (
                id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
                anc_no character varying(255) COLLATE pg_catalog."default",
                created_by character varying(255) COLLATE pg_catalog."default",
                created_date timestamp without time zone,
                facility_id bigint,
                hospital_number character varying(255) COLLATE pg_catalog."default",
                last_modified_by character varying(255) COLLATE pg_catalog."default",
                last_modified_date timestamp without time zone,
                uuid character varying(255) COLLATE pg_catalog."default",

                date_of_delivery  date,
                booking_status  character varying(255) COLLATE pg_catalog."default",
                gA_weeks bigint,
                rom_delivery_interval character varying(255) COLLATE pg_catalog."default",
                mode_of_delivery character varying(255) COLLATE pg_catalog."default",
                episiotomy character varying(255) COLLATE pg_catalog."default",
                vaginal_tear character varying(255) COLLATE pg_catalog."default",
                feeding_decision character varying(255) COLLATE pg_catalog."default",
                maternal_outcome character varying(255) COLLATE pg_catalog."default",
                child_status character varying(255) COLLATE pg_catalog."default",
                hiv_exposed_infant_given_hb_within24hrs character varying(255) COLLATE pg_catalog."default",
                child_give_arv_within72hrs character varying(255) COLLATE pg_catalog."default",
                delivery_time character varying(255) COLLATE pg_catalog."default",
                on_art character varying(255) COLLATE pg_catalog."default",
                art_started_ld_ward character varying(255) COLLATE pg_catalog."default",
                hb_status character varying(255) COLLATE pg_catalog."default",
                hc_Status character varying(255) COLLATE pg_catalog."default",
                referral_source character varying(255) COLLATE pg_catalog."default",

            CONSTRAINT pmtct_delivery_pkey PRIMARY KEY (id)
            )
            TABLESPACE pg_default;
            ALTER TABLE IF EXISTS public.pmtct_delivery
                OWNER to postgres;
        </sql>
    </changeSet>

    <changeSet id="20221710-004" author="drkarim-data-fi">
        <sql>
            CREATE TABLE IF NOT EXISTS public.pmtct_visit
            (
                id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
                anc_no character varying(255) COLLATE pg_catalog."default",
                created_by character varying(255) COLLATE pg_catalog."default",
                created_date timestamp without time zone,
                facility_id bigint,
                hospital_number character varying(255) COLLATE pg_catalog."default",
                last_modified_by character varying(255) COLLATE pg_catalog."default",
                last_modified_date timestamp without time zone,
                uuid character varying(255) COLLATE pg_catalog."default",
                date_of_visit date,
                pulse  character varying(255) COLLATE pg_catalog."default",
                respiratory_rate character varying(255) COLLATE pg_catalog."default",
                temperature character varying(255) COLLATE pg_catalog."default",
                body_weight character varying(255) COLLATE pg_catalog."default",
                height character varying(255) COLLATE pg_catalog."default",
                systolic character varying(255) COLLATE pg_catalog."default",
                diastolic character varying(255) COLLATE pg_catalog."default",
                clinical_notes character varying(255) COLLATE pg_catalog."default",
                who_staging character varying(255) COLLATE pg_catalog."default",
                functional_status character varying(255) COLLATE pg_catalog."default",
                level_of_adherence character varying(255) COLLATE pg_catalog."default",
                on_anti_tb_drugs character varying(255) COLLATE pg_catalog."default",
                opportunistic_infection JSONB,
                ard JSONB,
                next_clinical_appointment_date date,


                CONSTRAINT pmtct_visit_pkey PRIMARY KEY (id)
                )
                TABLESPACE pg_default;
            ALTER TABLE IF EXISTS public.pmtct_visit
                OWNER to postgres;
        </sql>
    </changeSet>

<!--    <changeSet id="20221007-003" author="drkarim-data-fi">-->
<!--        <sql>-->

<!--        </sql>-->
<!--    </changeSet>-->

</databaseChangeLog>
