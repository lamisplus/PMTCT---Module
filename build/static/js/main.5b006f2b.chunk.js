(this.webpackJsonpLamisPlus=this.webpackJsonpLamisPlus||[]).push([[0],{466:function(e,t,a){},697:function(e,t,a){},698:function(e,t,a){},940:function(e,t,a){"use strict";a.r(t);var r=a(2),s=a.n(r),c=a(25),n=a.n(c),i=a(63),o=a(13),l=(a(54),a(697),a(698),a(699),a(7)),d=a(1019),j=a(1020),b=a(1057),u=a(1043),m=a(1021),h=a(17),O=a(29),p=a(4),x=a(203),f=a.n(x),g=a(12),v=a.n(g),N=new URLSearchParams(window.location.search).get("jwt"),y="/api/v1/",S=(a(139),a(38)),C=a(239),T=a.n(C),R=a(249),D=a.n(R),I=a(240),w=a.n(I),A=a(247),P=a.n(A),k=a(164),B=a.n(k),E=a(163),H=a.n(E),Y=a(241),F=a.n(Y),L=a(242),M=a.n(L),z=a(244),V=a.n(z),W=a(245),_=a.n(W),q=a(246),G=a.n(q),U=a(250),K=a.n(U),X=a(243),Q=a.n(X),J=a(248),Z=a.n(J),$=a(251),ee=a.n($),te=(a(55),a(571)),ae=a(484),re=a(1011),se=(a(343),a(20)),ce=a.n(se),ne=a(238),ie=a.n(ne),oe=a(129),le=a(1);ce.a.locale("en"),ie()();var de={Add:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(w.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(H.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(F.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Q.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(V.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(_.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(G.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(H.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(ee.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))}))},je=(Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),s=(a[0],a[1]),c=Object(r.useState)(!0),n=Object(l.a)(c,2),i=(n[0],n[1]);function o(){return(o=Object(O.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),v.a.get("".concat(y,"pmtct/pmtct-from-person"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){i(!1),s(e.data)})).catch((function(e){i(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]);var d=function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),c=t.getFullYear()-s.getFullYear(),n=t.getMonth()-s.getMonth();return(n<0||0===n&&t.getDate()<s.getDate())&&c--,0===c?n+" month(s)":c+" year(s)"},j=function(e){var t=e.identifier.find((function(e){return"HospitalNumber"==e.type}));return t?t.value:""};return Object(le.jsx)("div",{children:Object(le.jsx)(f.a,{icons:de,title:"Find Patient ",columns:[{title:"Patient Name",field:"name"},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:function(e){return new Promise((function(t,a){return v.a.get("".concat(y,"pmtct/anc/pmtct-from-person?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchValue=").concat(e.search),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){return e})).then((function(a){t({data:a.data.records.map((function(e){return{name:Object(le.jsxs)(S.b,{to:{pathname:"/enroll-patient",state:{patientId:e.id,patientObj:e}},title:"Enroll Patient",children:[" ",e.firstName+" "+e.surname]}),hospital_number:j(e.identifier),gender:e&&e.sex?e.sex:"",age:0===e.dateOfBirth||void 0===e.dateOfBirth||null===e.dateOfBirth||""===e.dateOfBirth?0:d(ce()(e.dateOfBirth).format("DD-MM-YYYY")),actions:Object(le.jsx)("div",{children:Object(le.jsx)(S.b,{to:{pathname:"/enroll-patient",state:{patientId:e.id,patientObj:e}},children:Object(le.jsxs)(re.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(le.jsx)(ae.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)(oe.b,{})}),Object(le.jsx)(ae.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Enroll Patient"})})]})})})}})),page:e.page,totalCount:a.data.totalRecords})}))}))},options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})})}),be=a(485);ce.a.locale("en"),ie()();var ue={Add:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(w.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(H.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(F.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Q.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(V.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(_.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(G.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(H.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(ee.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))}))},me=(Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),s=(a[0],a[1]),c=Object(r.useState)(!0),n=Object(l.a)(c,2),i=(n[0],n[1]);function o(){return(o=Object(O.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),v.a.get("".concat(y,"pmtct/pmtct-from-person"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){i(!1),s(e.data)})).catch((function(e){i(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]);return Object(le.jsx)("div",{children:Object(le.jsx)(f.a,{icons:ue,title:"Find Patient ",columns:[{title:"Patient Name",field:"name"},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:function(e){return new Promise((function(t,a){return v.a.get("".concat(y,"pmtct/anc/all-active-anc?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchValue=").concat(e.search),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){return e})).then((function(a){t({data:a.data.records.map((function(e){return{name:Object(le.jsxs)(S.b,{to:{pathname:"/patient-history",state:{patientObj:e}},title:"Click to view patient dashboard",children:[" ",e.firstName+" "+e.surname]}),hospital_number:e.hospitalNumber,gender:e&&e.sex?e.sex:"Female",age:e.age,actions:Object(le.jsx)("div",{children:Object(le.jsx)(S.b,{to:{pathname:"/patient-history",state:{patientObj:e}},children:Object(le.jsxs)(re.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(le.jsx)(ae.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)(be.a,{})}),Object(le.jsx)(ae.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}})),page:e.page,totalCount:a.data.totalRecords})}))}))},options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})})}),he=(a(486),a(1016)),Oe=a(1017),pe=a(1018),xe=a(1012),fe=a(124),ge=a.n(fe),ve=a(207),Ne=a.n(ve);ge.a.setOptions({colors:ge.a.map(ge.a.getOptions().colors,(function(e){return{radialGradient:{cx:.5,cy:.3,r:.7},stops:[[0,e],[1,ge.a.color(e).brighten(-.3).get("rgb")]]}}))});var ye={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Number of Adults and Children currently receiving ART by Age"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",connectorColor:"black"},showInLegend:!0}},series:[{name:"Currently Receiving ART By Age",data:[{name:"25 + ",sliced:!0,y:61.41},{name:"20-24 ",y:11.84},{name:"10-19 ",y:10.85},{name:"\u2264 9 ",y:4.67}]}]},Se={chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1},title:{text:"Number of Adults and Children newly enrolled on ART by Sex",align:"center",verticalAlign:"middle",y:-160},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{dataLabels:{enabled:!0,distance:-50,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{fontWeight:"bold",color:"white"}},startAngle:-90,endAngle:90,center:["50%","75%"],size:"110%",showInLegend:!0}},series:[{type:"pie",name:"Newly Enrolled on ART ",innerSize:"50%",data:[["Male",58.9],["Female",13.29]]}]},Ce=Object(te.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}},card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"}}})),Te=function(e){Ce();var t=Object(r.useState)(""),a=Object(l.a)(t,2),c=(a[0],a[1],Object(r.useState)(!1)),n=Object(l.a)(c,2),i=(n[0],n[1],Object(r.useState)({activeItem:"gamepad"})),o=Object(l.a)(i,2),d=o[0],j=(o[1],d.activeItem,s.a.useState(null)),b=Object(l.a)(j,2),u=b[0];b[1],Boolean(u);return Object(le.jsx)("div",{spacing:5,style:{padding:20},children:Object(le.jsx)(he.a,{children:Object(le.jsx)(Oe.a,{md:12,children:Object(le.jsxs)(he.a,{children:[Object(le.jsx)(Oe.a,{lg:6,md:6,sm:12,xs:12,className:"mb-4",children:Object(le.jsx)(xe.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsx)(Ne.a,{highcharts:ge.a,options:Se})})})}),Object(le.jsx)(Oe.a,{lg:6,md:6,sm:12,xs:12,className:"mb-4",children:Object(le.jsx)(xe.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsx)(Ne.a,{highcharts:ge.a,options:ye})})})})]})})})})},Re={chart:{type:"column"},title:{text:"Viral Load Cascade among new patients eligible after 6 months"},subtitle:{text:""},legend:{align:"right",verticalAlign:"middle",layout:"vertical"},xAxis:{categories:["Number Eligble","Number of Sample Collected","Number Tested","Number Suppressed"],labels:{x:-10}},yAxis:{allowDecimals:!1,title:{text:"Amount"}},series:[{name:"Number Eligble",data:[20,40,30,3]},{name:"Number of Sample Collected",data:[62,41,22,22]},{name:"Number Tested",data:[200,45,30,20]},{name:"Number Suppressed",data:[40,40,10,90]}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{align:"center",verticalAlign:"bottom",layout:"horizontal"},yAxis:{labels:{align:"left",x:0,y:-5},title:{text:null}},subtitle:{text:null},credits:{enabled:!1}}}]}},De={chart:{type:"column"},title:{text:"Viral Load Cascade among patients currently on ART eligible after 12 months of last VL result"},subtitle:{text:""},legend:{align:"right",verticalAlign:"middle",layout:"vertical"},xAxis:{categories:["Number Eligble","Number of Sample Collected","Number Tested","Number Suppressed"],labels:{x:-10}},yAxis:{allowDecimals:!1,title:{text:"Amount"}},series:[{name:"Number Eligble",data:[200,40,30,3]},{name:"Number of Sample Collected",data:[62,41,22,22]},{name:"Number Tested",data:[2e3,450,300,200]},{name:"Number Suppressed",data:[40,40,100,90]}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{align:"center",verticalAlign:"bottom",layout:"horizontal"},yAxis:{labels:{align:"left",x:0,y:-5},title:{text:null}},subtitle:{text:null},credits:{enabled:!1}}}]}},Ie=function(){return Object(le.jsx)(r.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-xl-3 col-xxl-4 col-lg-6 col-sm-6",children:Object(le.jsx)("div",{className:"widget-stat card",children:Object(le.jsx)("div",{className:"card-body p-4",children:Object(le.jsxs)("div",{className:"media ai-icon",children:[Object(le.jsx)("span",{className:"me-3 bgl-primary text-danger",children:Object(le.jsx)("i",{class:"fa fa-user-plus","aria-hidden":"true"})}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("p",{className:"mb-1",children:"NEWLY DIAGNOSED HIV+"}),Object(le.jsx)("h4",{className:"mb-0",children:"3280"})]})]})})})}),Object(le.jsx)("div",{className:"col-xl-3 col-xxl-4 col-lg-6 col-sm-6",children:Object(le.jsx)("div",{className:"widget-stat card",children:Object(le.jsx)("div",{className:"card-body p-4",children:Object(le.jsxs)("div",{className:"media ai-icon",children:[Object(le.jsx)("span",{className:"me-3 bgl-warning text-warning",children:Object(le.jsx)("i",{class:"fa fa-heartbeat","aria-hidden":"true"})}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("p",{className:"mb-1",children:"CURRENT ON ART"}),Object(le.jsx)("h4",{className:"mb-0",children:"2570"})]})]})})})}),Object(le.jsx)("div",{className:"col-xl-3 col-xxl-4 col-lg-6 col-sm-6",children:Object(le.jsx)("div",{className:"widget-stat card",children:Object(le.jsx)("div",{className:"card-body  p-4",children:Object(le.jsxs)("div",{className:"media ai-icon",children:[Object(le.jsx)("span",{className:"me-3 bgl-danger text-danger",children:Object(le.jsx)("i",{class:"fa fa-compress","aria-hidden":"true"})}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("p",{className:"mb-1",children:"VIRALLY SUPPRESSED"}),Object(le.jsx)("h4",{className:"mb-0",children:"50"})]})]})})})}),Object(le.jsx)("div",{className:"col-xl-3 col-xxl-4 col-lg-6 col-sm-6",children:Object(le.jsx)("div",{className:"widget-stat card",children:Object(le.jsx)("div",{className:"card-body p-4",children:Object(le.jsxs)("div",{className:"media ai-icon",children:[Object(le.jsx)("span",{className:"me-3 bgl-success text-success",children:Object(le.jsx)("i",{class:"fa fa-users","aria-hidden":"true"})}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("p",{className:"mb-1",children:"CURRENTLY ACTIVE"}),Object(le.jsx)("h4",{className:"mb-0",children:"2340"})]})]})})})}),Object(le.jsx)(Te,{}),Object(le.jsx)("div",{className:"col-xl-6 col-xxl-4 col-lg-6 col-sm-6",children:Object(le.jsx)(Ne.a,{highcharts:ge.a,options:Re})}),Object(le.jsx)("div",{className:"col-xl-6 col-xxl-4 col-lg-6 col-sm-6",children:Object(le.jsx)(Ne.a,{highcharts:ge.a,options:De})})]})})},we=a(362),Ae={borderRadius:"2px",fontSize:14},Pe=function(){var e=Object(r.useState)("home"),t=Object(l.a)(e,2),a=t[0],s=t[1];return Object(le.jsxs)(r.Fragment,{children:[Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsx)("h4",{children:"PMTCT"})})})}),Object(le.jsx)(S.b,{to:"register-patient",children:Object(le.jsx)(ae.a,{variant:"contained",color:"primary",className:" float-end mb-10",startIcon:Object(le.jsx)(we.a,{size:"10"}),style:{backgroundColor:"#014d88"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"New Patient"})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(d.a,{children:Object(le.jsx)(j.a,{xl:12,children:Object(le.jsx)(b.a,{style:Ae,children:Object(le.jsx)(b.a.Body,{children:Object(le.jsx)("div",{className:"custom-tab-1",children:Object(le.jsxs)(u.a,{id:"controlled-tab-example",activeKey:a,onSelect:function(e){return s(e)},className:"mb-3",children:[Object(le.jsx)(m.a,{eventKey:"home",title:"Find Patients",children:Object(le.jsx)(je,{})}),Object(le.jsx)(m.a,{eventKey:"anc",title:"Active ANC Patients",children:Object(le.jsx)(me,{})}),Object(le.jsx)(m.a,{eventKey:"visualization",title:"Data Visualisation",children:Object(le.jsx)(Ie,{})})]})})})})})})]})},ke=a(9),Be=a(1050),Ee=a(1058),He=(a(16),a(1014)),Ye=a(1015),Fe=a(411),Le=a(165),Me=a(14),ze=a(10),Ve=a(1022),We=(a(1049),a(1023)),_e=(a(1024),a(1025),a(1026)),qe=a(1027),Ge=a(1028),Ue=a(59),Ke=a.n(Ue),Xe=a(190),Qe=a.n(Xe),Je=a(1044),Ze=a(215);a(216),a(1059),a(1061),a(1060),a(488),a(1062),Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"12.8px"}}}));ce.a.locale("en"),ie()();var $e=Object(ke.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}))((function(e){var t=e.classes,a=e.patientObj?e.patientObj:{},s=(e.permissions&&e.permissions,Object(r.useState)(a)),c=Object(l.a)(s,2),n=c[0],i=(c[1],Object(r.useState)(e.patientObj.biometricStatus)),o=Object(l.a)(i,2),d=(o[0],o[1],Object(r.useState)(!1)),j=Object(l.a)(d,2),b=j[0],u=j[1],m=Object(r.useState)([]),p=Object(l.a)(m,2),x=(p[0],p[1]),f=Object(r.useState)(!1),g=Object(l.a)(f,2),C=(g[0],g[1],Object(r.useState)(!1)),T=Object(l.a)(C,2),R=(T[0],T[1],Object(r.useState)()),D=Object(l.a)(R,2),I=(D[0],D[1]),w=Object(r.useState)(!1),A=Object(l.a)(w,2);A[0],A[1],Object(r.useEffect)((function(){!function(){k.apply(this,arguments)}(),P()}),[e.patientObj]);var P=function(){v.a.get("".concat(y,"modules/check?moduleName=biometric"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){u(e.data),!0===e.data&&v.a.get("".concat(y,"biometrics/devices"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){x(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){}))};function k(){return(k=Object(O.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("".concat(y,"hiv/status/patient-current/").concat(n.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){I(e.data)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(le.jsx)("div",{className:t.root,children:Object(le.jsx)(He.a,{children:Object(le.jsx)(Ye.a,{children:Object(le.jsx)(he.a,{children:Object(le.jsx)(Oe.a,{md:12,children:Object(le.jsxs)(he.a,{className:"mt-1",children:[Object(le.jsxs)(Oe.a,{md:12,className:t.root2,children:[Object(le.jsx)("b",{style:{fontSize:"25px"},children:n.fullname}),Object(le.jsx)(S.b,{to:"/",children:Object(le.jsx)(ae.a,{variant:"contained",color:"primary",className:" float-end ms-2 mr-2 mt-2",startIcon:Object(le.jsx)(oe.a,{}),style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(le.jsx)(Oe.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:[" ","Patient ID : ",Object(le.jsx)("b",{children:n.hospitalNumber})]})}),Object(le.jsx)(Oe.a,{md:4,className:t.root2,children:Object(le.jsx)("span",{})}),Object(le.jsx)(Oe.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:[" ","Age : ",Object(le.jsx)("b",{children:n.age})]})}),Object(le.jsx)(Oe.a,{md:4,children:Object(le.jsxs)("span",{children:[" ","Gender :"," ",Object(le.jsx)("b",{children:n.sex&&null!==n.sex?n.sex:"Female"})]})}),Object(le.jsx)(Oe.a,{md:4,className:t.root2,children:Object(le.jsx)("span",{children:" "})}),Object(le.jsx)(Oe.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:[" ","Address : ",Object(le.jsxs)("b",{children:[function(e){var t=e.address.find((function(e){return e.city}));return t?t.city:""}(n.address)," "]})]})}),Object(le.jsx)(Oe.a,{md:12,children:!0===b?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{children:Object(le.jsx)(Le.a,{variant:"caption",children:Object(le.jsxs)(Fe.a,{color:!0===e.patientObj.biometricStatus?"green":"red",size:"mini",children:["Biometric Status",Object(le.jsx)(Fe.a.Detail,{children:!0===e.patientObj.biometricStatus?"Captured":"Not Capture"})]})})})}):Object(le.jsx)(le.Fragment,{})})]})})})})})})})),et=a(1041),tt=Object(te.a)((function(e){return{navItemText:{padding:e.spacing(2)}}}));var at=function(e){tt();var t="",a=e.patientObj?e.patientObj:{},s=Object(r.useState)(a),c=Object(l.a)(s,2),n=c[0],i=(c[1],Object(r.useState)()),o=Object(l.a)(i,2),d=(o[0],o[1]);Object(r.useEffect)((function(){j(),t=e.patientObj&&e.patientObj.sex?e.patientObj.sex:null,d("Female"===t)}),[e.patientObj]);var j=function(){v.a.get("".concat(y,"observation/person/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){var t=e.data,a=t.filter((function(e){return"mental health"===e.type})),r=t.filter((function(e){return"initial evaluation"===e.type}));a.length>1&&!0,r.length>1&&!0})).catch((function(e){}))};return Object(le.jsx)("div",{children:Object(le.jsxs)(et.a,{size:"mini",color:"black",inverted:!0,children:[Object(le.jsx)(et.a.Item,{onClick:function(){e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))},children:" Home"}),null!==n.hivStatus&&"Positive"===n.hivStatus&&Object(le.jsxs)(le.Fragment,{children:[!0!==n.pmtctRegStatus&&Object(le.jsx)(et.a.Item,{onClick:function(){e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"anc-pnc"}))},children:"PMTCT Enrollment"}),Object(le.jsx)(et.a.Item,{onClick:function(){e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"consultation"}))},children:"Follow Up Visit"}),Object(le.jsx)(et.a.Item,{onClick:function(){e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"labour-delivery"}))},children:"Labour and Delivery"})]}),null!==n.hivStatus&&"Negative"===n.hivStatus&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(et.a.Item,{onClick:function(){e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"pmtct-hts"}))},children:"PMTCT-HTS"})})]})})},rt=a(1054),st=a(1055),ct=a(1034),nt=a(1035),it=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),ot=function(e){e.patientObj&&e.patientObj;var t=Object(r.useState)({}),a=Object(l.a)(t,2),s=a[0],c=a[1],n=Object(r.useState)([]),i=Object(l.a)(n,2),d=(i[0],i[1]),j=Object(r.useState)(!0),b=Object(l.a)(j,2),u=(b[0],b[1]),m=Object(p.a)({},s),x=it(),f=Object(r.useState)({}),g=Object(l.a)(f,2),S=(g[0],g[1]),C=Object(r.useState)(!1),T=Object(l.a)(C,2),R=T[0],D=T[1],I=Object(r.useState)([]),w=Object(l.a)(I,2),A=w[0],P=w[1],k=Object(r.useState)([]),B=Object(l.a)(k,2),E=B[0],H=B[1],Y=Object(r.useState)([]),F=Object(l.a)(Y,2),L=F[0],M=F[1],z=Object(r.useState)([]),V=Object(l.a)(z,2),W=V[0],_=(V[1],Object(r.useState)({})),q=Object(l.a)(_,2),G=q[0],U=q[1],K=Object(r.useState)(!1),X=Object(l.a)(K,2),Q=X[0],J=X[1],Z=Object(r.useState)({adr:"",adrOnsetDate:""}),$=Object(l.a)(Z,2),ee=($[0],$[1],Object(r.useState)([])),te=Object(l.a)(ee,2),re=(te[0],te[1],Object(r.useState)({bodyWeight:"",diastolic:"",height:"",systolic:"",pulse:"",temperature:"",respiratoryRate:""})),se=Object(l.a)(re,2),ne=se[0],ie=se[1],oe=Object(r.useState)({adr:[{ard:"",onSetDate:""}],ancNo:"",bodyWeight:"",clinicalNotes:"",dateOfVisit:"",diastolic:"",functionalStatus:"",height:"",levelOfAdherence:"",nextClinicalAppointmentDate:"",onAntiTbDrugs:"",opportunisticInfection:[{illness:"",onSetDate:""}],pulse:"",respiratoryRate:"",systolic:"",temperature:"",whoStaging:""}),de=Object(l.a)(oe,2),je=de[0],be=de[1],ue=Object(r.useState)({bodyWeight:"",diastolic:"",encounterDate:"",facilityId:1,height:"",personId:e.patientObj.id,serviceTypeId:1,systolic:"",pulse:"",temperature:"",respiratoryRate:""}),me=Object(l.a)(ue,2),he=me[0],Oe=me[1];function pe(){return(pe=Object(O.a)(Object(h.a)().mark((function t(){return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u(!0),v.a.get("".concat(y,"hiv/art/clinic-visit/person?pageNo=0&pageSize=10&personId=").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){u(!1),d(e.data)})).catch((function(e){u(!1)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){Ne.apply(this,arguments)}(),ve(),function(){ye.apply(this,arguments)}(),xe(),ge(),function(){pe.apply(this,arguments)}(),fe()}),[]);var xe=function(){v.a.get("".concat(y,"patient/vital-sign/person/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){var t=e.data[e.data.length-1];t.encounterDate===ce()(new Date).format("YYYY-MM-DD")===!0&&(U(t),J(!0))})).catch((function(e){}))},fe=function(){v.a.get("".concat(y,"hiv/patient/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){e.data})).catch((function(e){}))},ge=function(){v.a.get("".concat(y,"hiv/patients"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){var a=t.data.filter((function(t){return t.id===e.patientObj.id}));S(a[0])})).catch((function(e){}))},ve=function(){v.a.get("".concat(y,"application-codesets/v2/CLINICAL_STAGE"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){P(e.data)})).catch((function(e){}))};function Ne(){return(Ne=Object(O.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("".concat(y,"application-codesets/v2/FUNCTIONAL%20_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){H(e.data)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(){return(ye=Object(O.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("".concat(y,"application-codesets/v2/PrEP_LEVEL_OF_ADHERENCE"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){M(e.data)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Se=function(e){be(Object(p.a)(Object(p.a)({},je),{},Object(ze.a)({},e.target.name,e.target.value)))},Ce=function(e){Oe(Object(p.a)(Object(p.a)({},he),{},Object(ze.a)({},e.target.name,e.target.value)))};return Object(le.jsxs)("div",{children:[Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"col-md-8 ",children:Object(le.jsx)("h2",{children:"Mother Follow-up Visit"})})}),Object(le.jsx)(rt.a,{children:Object(le.jsx)(rt.a.Column,{children:Object(le.jsxs)(st.a,{children:[Object(le.jsx)(Fe.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"VITAL  SIGNS"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date of Visit *"}),Object(le.jsx)(Ge.a,{type:"date",name:"encounterDate",id:"encounterDate",value:he.encounterDate,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ce,min:e.patientObj&&e.patientObj.artCommence?e.patientObj.artCommence.visitDate:null,max:ce()(new Date).format("YYYY-MM-DD"),required:!0}),""!==s.encounterDate?Object(le.jsx)("span",{className:x.error,children:s.encounterDate}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Q&&Object(le.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(le.jsx)("input",{type:"checkbox",className:"form-check-input",name:"currentVitalSigns",id:"currentVitalSigns",onChange:function(t){t.target.checked?Oe(Object(p.a)({},G)):Oe({bodyWeight:"",diastolic:"",encounterDate:"",facilityId:"",height:"",personId:e.patientObj.id,serviceTypeId:"",systolic:"",pulse:"",temperature:"",respiratoryRate:""})}}),Object(le.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"use current Vital Signs"})]})}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Pulse"}),Object(le.jsxs)(ct.a,{children:[Object(le.jsx)(Ge.a,{type:"number",name:"pulse",id:"pulse",onChange:Ce,min:"40",max:"120",value:he.pulse,onKeyUp:function(e){if("pulse"===e.target.name&&(e.target.value<40||e.target.value>120)){ie(Object(p.a)(Object(p.a)({},ne),{},{pulse:"Pulse must not be greater than 120 and less than 40"}))}else ie(Object(p.a)(Object(p.a)({},ne),{},{pulse:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"bmp"})]}),""!==ne.pulse?Object(le.jsx)("span",{className:x.error,children:ne.pulse}):"",""!==s.pulse?Object(le.jsx)("span",{className:x.error,children:s.pulse}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Respiratory Rate "}),Object(le.jsxs)(ct.a,{children:[Object(le.jsx)(Ge.a,{type:"number",name:"respiratoryRate",id:"respiratoryRate",onChange:Ce,min:"10",max:"70",value:he.respiratoryRate,onKeyUp:function(e){if("respiratoryRate"===e.target.name&&(e.target.value<10||e.target.value>70)){ie(Object(p.a)(Object(p.a)({},ne),{},{respiratoryRate:"Respiratory Rate must not be greater than 70 and less than 10"}))}else ie(Object(p.a)(Object(p.a)({},ne),{},{respiratoryRate:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"bmp"})]}),""!==ne.respiratoryRate?Object(le.jsx)("span",{className:x.error,children:ne.respiratoryRate}):"",""!==s.respiratoryRate?Object(le.jsx)("span",{className:x.error,children:s.respiratoryRate}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Temperature "}),Object(le.jsxs)(ct.a,{children:[Object(le.jsx)(Ge.a,{type:"number",name:"temperature",id:"temperature",onChange:Ce,min:"35",max:"47",value:he.temperature,onKeyUp:function(e){if("temperature"===e.target.name&&(e.target.value<35||e.target.value>47)){ie(Object(p.a)(Object(p.a)({},ne),{},{temperature:"Temperature must not be greater than 47 and less than 35"}))}else ie(Object(p.a)(Object(p.a)({},ne),{},{temperature:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsxs)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:[Object(le.jsx)("sup",{children:"o"}),"c"]})]}),""!==ne.temperature?Object(le.jsx)("span",{className:x.error,children:ne.temperature}):"",""!==s.temperature?Object(le.jsx)("span",{className:x.error,children:s.temperature}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Body Weight"}),Object(le.jsxs)(ct.a,{children:[Object(le.jsx)(Ge.a,{type:"number",name:"bodyWeight",id:"bodyWeight",onChange:Ce,min:"3",max:"150",value:he.bodyWeight,onKeyUp:function(e){if("bodyWeight"===e.target.name&&(e.target.value<3||e.target.value>150)){ie(Object(p.a)(Object(p.a)({},ne),{},{bodyWeight:"Body weight must not be greater than 150 and less than 3"}))}else ie(Object(p.a)(Object(p.a)({},ne),{},{bodyWeight:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"kg"})]}),""!==ne.bodyWeight?Object(le.jsx)("span",{className:x.error,children:ne.bodyWeight}):"",""!==s.bodyWeight?Object(le.jsx)("span",{className:x.error,children:s.bodyWeight}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Height"}),Object(le.jsxs)(ct.a,{children:[Object(le.jsx)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"cm"}),Object(le.jsx)(Ge.a,{type:"number",name:"height",id:"height",onChange:Ce,value:he.height,min:"48.26",max:"216.408",onKeyUp:function(e){if("height"===e.target.name&&(e.target.value<48.26||e.target.value>216.408)){ie(Object(p.a)(Object(p.a)({},ne),{},{height:"Height cannot be greater than 216.408 and less than 48.26"}))}else ie(Object(p.a)(Object(p.a)({},ne),{},{height:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(nt.a,{addonType:"append",style:{backgroundColor:"#992E62",color:"#fff",border:"1px solid #992E62",borderRadius:"0rem"},children:""!==he.height?(he.height/100).toFixed(2)+"m":"m"})]}),""!==ne.height?Object(le.jsx)("span",{className:x.error,children:ne.height}):"",""!==s.height?Object(le.jsx)("span",{className:x.error,children:s.height}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 mt-2 col-md-4",children:""!==he.bodyWeight&&""!==he.height&&Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(Fe.a,{children:[" "," "]}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:["BMI : ",Math.round(he.bodyWeight/(he.height*he.height/100))]})})]})})]}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-12",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Blood Pressure"}),Object(le.jsxs)(ct.a,{children:[Object(le.jsx)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"systolic(mmHg)"}),Object(le.jsx)(Ge.a,{type:"number",name:"systolic",id:"systolic",min:"90",max:"240",onChange:Ce,value:he.systolic,onKeyUp:function(e){if("systolic"===e.target.name&&(e.target.value<90||e.target.value>240)){ie(Object(p.a)(Object(p.a)({},ne),{},{systolic:"Blood Pressure systolic must not be greater than 240 and less than 90"}))}else ie(Object(p.a)(Object(p.a)({},ne),{},{systolic:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"diastolic(mmHg)"}),Object(le.jsx)(Ge.a,{type:"number",name:"diastolic",id:"diastolic",min:0,max:140,onChange:Ce,value:he.diastolic,onKeyUp:function(e){if("diastolic"===e.target.name&&(e.target.value<60||e.target.value>140)){ie(Object(p.a)(Object(p.a)({},ne),{},{diastolic:"Blood Pressure diastolic must not be greater than 140 and less than 60"}))}else ie(Object(p.a)(Object(p.a)({},ne),{},{diastolic:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}})]}),""!==ne.systolic?Object(le.jsx)("span",{className:x.error,children:ne.systolic}):"",""!==s.systolic?Object(le.jsx)("span",{className:x.error,children:s.systolic}):"",""!==ne.diastolic?Object(le.jsx)("span",{className:x.error,children:ne.diastolic}):"",""!==s.diastolic?Object(le.jsx)("span",{className:x.error,children:s.diastolic}):""]})})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Point of Entry*"}),Object(le.jsxs)(Ge.a,{type:"select",name:"whoStaging",id:"whoStaging",value:je.whoStaging,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==s.whoStaging?Object(le.jsx)("span",{className:x.error,children:s.whoStaging}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date of Delivery *"}),Object(le.jsxs)(Ge.a,{type:"select",name:"functionalStatus",id:"functionalStatus",value:je.functionalStatus,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),E.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==s.functionalStatus?Object(le.jsx)("span",{className:x.error,children:s.functionalStatus}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"FP Counselling *"}),Object(le.jsxs)(Ge.a,{type:"select",name:"levelOfAdherence",id:"levelOfAdherence",value:je.levelOfAdherence,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),L.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==s.levelOfAdherence?Object(le.jsx)("span",{className:x.error,children:s.levelOfAdherence}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"FP Method *"}),Object(le.jsxs)(Ge.a,{type:"select",name:"levelOfAdherence",id:"levelOfAdherence",value:je.levelOfAdherence,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),L.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==s.levelOfAdherence?Object(le.jsx)("span",{className:x.error,children:s.levelOfAdherence}):""]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)(Fe.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"VIRAL LOAD AT 32-36 WEEKS GA "})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Viral Load Collection Date*"}),Object(le.jsx)(Ge.a,{type:"date",name:"nextAppointment",id:"nextAppointment",value:he.nextAppointment,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:he.encounterDate}),""!==s.nextAppointment?Object(le.jsx)("span",{className:x.error,children:s.nextAppointment}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"GA at VL Collection*"}),Object(le.jsx)(Ge.a,{type:"number",name:"nextAppointment",id:"nextAppointment",value:he.nextAppointment,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:he.encounterDate}),""!==s.nextAppointment?Object(le.jsx)("span",{className:x.error,children:s.nextAppointment}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Result *"}),Object(le.jsx)(Ge.a,{type:"date",name:"nextAppointment",id:"nextAppointment",value:he.nextAppointment,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:he.encounterDate}),""!==s.nextAppointment?Object(le.jsx)("span",{className:x.error,children:s.nextAppointment}):""]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(Fe.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"VIRAL LOAD - Other AT ANY TIME POINT DURING PMTCT"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Viral Load Collection Date*"}),Object(le.jsx)(Ge.a,{type:"date",name:"nextAppointment",id:"nextAppointment",value:he.nextAppointment,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:he.encounterDate}),""!==s.nextAppointment?Object(le.jsx)("span",{className:x.error,children:s.nextAppointment}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"GA at VL Collection*"}),Object(le.jsx)(Ge.a,{type:"number",name:"nextAppointment",id:"nextAppointment",value:he.nextAppointment,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:he.encounterDate}),""!==s.nextAppointment?Object(le.jsx)("span",{className:x.error,children:s.nextAppointment}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Result *"}),Object(le.jsx)(Ge.a,{type:"date",name:"nextAppointment",id:"nextAppointment",value:he.nextAppointment,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:he.encounterDate}),""!==s.nextAppointment?Object(le.jsx)("span",{className:x.error,children:s.nextAppointment}):""]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)(Fe.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:" DSD MODEL & OUTCOME"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"DSD Model"}),Object(le.jsxs)(Ge.a,{type:"select",name:"dsdModel",id:"dsdModel",value:je.dsdModel,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"Facility",children:"Facility "}),Object(le.jsx)("option",{value:"Community",children:"Community "})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"DSD Model Type"}),Object(le.jsxs)(Ge.a,{type:"select",name:"dsdModelType",id:"dsdModelType",value:je.dsdModelType,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(le.jsx)("option",{value:"",children:"Select "}),W.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.code)}))]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Maternal Outcome "}),Object(le.jsxs)(Ge.a,{type:"select",name:"dsdModelType",id:"dsdModelType",value:je.dsdModelType,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(le.jsx)("option",{value:"",children:"Select "}),W.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.code)}))]})]})}),Object(le.jsx)("div",{className:" mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date of Outcome*"}),Object(le.jsx)(Ge.a,{type:"date",name:"nextAppointment",id:"nextAppointment",value:he.nextAppointment,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:he.encounterDate}),""!==s.nextAppointment?Object(le.jsx)("span",{className:x.error,children:s.nextAppointment}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Name of ART Facility"}),Object(le.jsx)(Ge.a,{type:"text",name:"nextAppointment",id:"nextAppointment",value:he.nextAppointment,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:he.encounterDate}),""!==s.nextAppointment?Object(le.jsx)("span",{className:x.error,children:s.nextAppointment}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Client Visit Status"}),Object(le.jsxs)(Ge.a,{type:"select",name:"dsdModelType",id:"dsdModelType",value:je.dsdModelType,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(le.jsx)("option",{value:"",children:"Select "}),W.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.code)}))]})]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:x.button,disabled:R,startIcon:Object(le.jsx)(Ke.a,{}),style:{backgroundColor:"#014d88"},onClick:function(t){t.preventDefault(),m.encounterDate=he.encounterDate?"":"This field is required",m.nextAppointment=je.nextAppointment?"":"This field is required",m.whoStaging=je.whoStaging?"":"This field is required",m.clinicalNotes=je.clinicalNotes?"":"This field is required",m.functionalStatus=je.functionalStatus?"":"This field is required",m.levelOfAdherence=je.levelOfAdherence?"":"This field is required",m.systolic=he.systolic?"":"This field is required",m.height=he.height?"":"This field is required",m.bodyWeight=he.bodyWeight?"":"This field is required",c(Object(p.a)({},m)),Object.values(m).every((function(e){return""==e}))&&(D(!0),je.visitDate=he.encounterDate,je.vitalSignDto=he,v.a.post("".concat(y,"hiv/art/clinic-visit/"),je,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){fe(),D(!1),o.b.success("Clinic Visit save successful"),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){if(D(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},children:R?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})]})})})]})},lt=(a(1036),a(189)),dt=(a(1063),a(261)),jt=a.n(dt);Object(te.a)((function(e){return{error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}}));Object(te.a)((function(e){return{error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}}));var bt=a(1051),ut=(Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),{borderRadius:"2px",fontSize:14}),mt=function(e){var t=Object(r.useState)("home"),a=Object(l.a)(t,2),s=a[0],c=a[1],n=e.patientObj;return Object(r.useEffect)((function(){c(e.activeContent.activeTab)}),[e.activeContent.id]),Object(le.jsx)(r.Fragment,{children:Object(le.jsx)(d.a,{children:Object(le.jsx)(j.a,{xl:12,children:Object(le.jsx)(b.a,{style:ut,children:Object(le.jsx)(b.a.Body,{children:Object(le.jsx)("div",{className:"custom-tab-1",children:Object(le.jsxs)(u.a,{id:"controlled-tab-example",activeKey:s,onSelect:function(e){return c(e)},className:"mb-3",children:[Object(le.jsx)(m.a,{eventKey:"home",title:"MOTHER FOLLOW UP VISIT ",children:Object(le.jsx)(ot,{patientObj:n,setActiveContent:e.setActiveContent})}),Object(le.jsx)(m.a,{eventKey:"history",title:" CHILD FOLLOW UP VISIT",children:Object(le.jsx)(ot,{patientObj:n,setActiveContent:e.setActiveContent})})]})})})})})})})},ht=a(122),Ot=a.n(ht),pt=(a(465),a(1037)),xt=a(1047),ft=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),gt=function(e){var t=e.patientObj;console.log(t);Object(i.g)();var a=ft(),s=Object(r.useState)(!1),c=Object(l.a)(s,2),n=c[0],d=c[1],j=Object(r.useState)({}),b=Object(l.a)(j,2),u=b[0],m=(b[1],Object(r.useState)({agreed2PartnerNotification:"",ancNo:t.ancNo,bodyWeight:"",diastolic:"",fetalPresentation:"",fpl:"",fundalHeight:"",id:"",infantFeeding:"",nextAppointmentDate:"",nutritionalSupport:"",pmtctEnrollmentDate:"",referredTo:"",systolic:"",tbStatus:"",viralLoadSample:"",viralLoadSampleDate:"",visitStatus:"",visitType:""})),h=Object(l.a)(m,2),O=h[0],x=h[1],f=function(e){x(Object(p.a)(Object(p.a)({},O),{},Object(ze.a)({},e.target.name,e.target.value)))},g=Object(r.useState)({bodyWeight:"",diastolic:"",fundalHeight:"",systolic:""}),S=Object(l.a)(g,2),C=S[0],T=S[1];return Object(le.jsx)("div",{children:Object(le.jsx)(Ve.a,{className:a.root,children:Object(le.jsx)(pe.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:"PMTCT Enrollment"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"ANC ID *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"ancNo",id:"ancNo",onChange:f,value:t.ancNo,disabled:!0})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date of Enrollment"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"date",name:"pmtctEnrollmentDate",id:"pmtctEnrollmentDate",onChange:f,value:O.pmtctEnrollmentDate,max:ce()(new Date).format("YYYY-MM-DD")})})]})}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-12",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Blood Pressure"}),Object(le.jsxs)(ct.a,{children:[Object(le.jsx)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"systolic(mmHg)"}),Object(le.jsx)(Ge.a,{type:"text",name:"systolic",id:"systolic",min:"90",max:"240",onChange:f,value:O.systolic,onKeyUp:function(e){if("systolic"===e.target.name&&(e.target.value<90||e.target.value>240)){T(Object(p.a)(Object(p.a)({},C),{},{systolic:"Blood Pressure systolic must not be greater than 240 and less than 90"}))}else T(Object(p.a)(Object(p.a)({},C),{},{systolic:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"diastolic(mmHg)"}),Object(le.jsx)(Ge.a,{type:"text",name:"diastolic",id:"diastolic",min:0,max:140,onChange:f,value:O.diastolic,onKeyUp:function(e){if("diastolic"===e.target.name&&(e.target.value<60||e.target.value>140)){T(Object(p.a)(Object(p.a)({},C),{},{diastolic:"Blood Pressure diastolic must not be greater than 140 and less than 60"}))}else T(Object(p.a)(Object(p.a)({},C),{},{diastolic:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}})]}),""!==C.systolic?Object(le.jsx)("span",{className:a.error,children:C.systolic}):"",""!==u.systolic?Object(le.jsx)("span",{className:a.error,children:u.systolic}):"",""!==C.diastolic?Object(le.jsx)("span",{className:a.error,children:C.diastolic}):"",""!==u.diastolic?Object(le.jsx)("span",{className:"float-end",children:Object(le.jsx)("span",{className:a.error,children:u.diastolic})}):""]})})}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Body Weight"}),Object(le.jsxs)(ct.a,{children:[Object(le.jsx)(Ge.a,{type:"text",name:"bodyWeight",id:"bodyWeight",onChange:f,min:"3",max:"150",value:O.bodyWeight,onKeyUp:function(e){if("bodyWeight"===e.target.name&&(e.target.value<3||e.target.value>150)){T(Object(p.a)(Object(p.a)({},C),{},{bodyWeight:"Body weight must not be greater than 150 and less than 3"}))}else T(Object(p.a)(Object(p.a)({},C),{},{bodyWeight:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"kg"})]}),""!==C.bodyWeight?Object(le.jsx)("span",{className:a.error,children:C.bodyWeight}):"",""!==u.bodyWeight?Object(le.jsx)("span",{className:a.error,children:u.bodyWeight}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Fundal Height"}),Object(le.jsxs)(ct.a,{children:[Object(le.jsx)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"cm"}),Object(le.jsx)(Ge.a,{type:"text",name:"fundalHeight",id:"fundalHeight",onChange:f,value:O.fundalHeight,min:"48.26",max:"216.408",onKeyUp:function(e){if("fundalHeight"===e.target.name&&(e.target.value<48.26||e.target.value>216.408)){T(Object(p.a)(Object(p.a)({},C),{},{fundalHeight:"Height cannot be greater than 216.408 and less than 48.26"}))}else T(Object(p.a)(Object(p.a)({},C),{},{fundalHeight:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(nt.a,{addonType:"append",style:{backgroundColor:"#992E62",color:"#fff",border:"1px solid #992E62",borderRadius:"0rem"},children:""!==O.fundalHeight&&"NaN"!==O.fundalHeight?(O.fundalHeight/100).toFixed(2)+"m":"m"})]}),""!==C.fundalHeight?Object(le.jsx)("span",{className:a.error,children:C.fundalHeight}):"",""!==u.fundalHeight?Object(le.jsx)("span",{className:a.error,children:u.fundalHeight}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 mt-2 col-md-3",children:""!==O.bodyWeight&&""!==O.fundalHeight&&Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(qe.a,{children:[" "," "]}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(nt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:["BMI : ",(O.bodyWeight/(O.fundalHeight/100*(O.fundalHeight/100))).toFixed(2)]})})]})}),""!==O.bodyWeight&&""!==O.fundalHeight&&Object(le.jsx)("div",{className:"form-group mb-3 mt-2 col-md-12",children:function(e){if(e<18.5)return Object(le.jsx)(xt.a,{size:"mini",color:"brown",content:"Underweight"});(e>=18.5&&e<=24.9||e>25)&&xt.a}((O.bodyWeight/(O.fundalHeight/100*(O.fundalHeight/100))).toFixed(2))})]}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Fetal Presentation"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"fetalPresentation",id:"fetalPresentation",onChange:f,value:O.fetalPresentation})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Gestational Age(weeks) *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"gAge",id:"encounterDate",onChange:f,value:O.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Type of Visit"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"visitType",id:"visitType",onChange:f,value:O.visitType})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Visit Status"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"visitStatus",id:"visitStatus",onChange:f,value:O.visitStatus})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Viral Load Sample Collected?"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"viralLoadSample",id:"viralLoadSample",onChange:f,value:O.viralLoadSample})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date Sample Collected*"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"date",name:"viralLoadSampleDate",id:"viralLoadSampleDate",onChange:f,value:O.viralLoadSampleDate,max:ce()(new Date).format("YYYY-MM-DD")})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"TB Status"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"tbStatus",id:"tbStatus",onChange:f,value:O.tbStatus})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date of next appointment*"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"date",name:"nextAppointmentDate",id:"nextAppointmentDate",onChange:f,value:O.nextAppointmentDate,max:ce()(new Date).format("YYYY-MM-DD")})})]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("h3",{children:"Counseling/Other Services Provided"}),Object(le.jsx)("hr",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Nutritional Support"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"nutritionalSupport",id:"nutritionalSupport",onChange:f,value:O.nutritionalSupport})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Infant Feeding"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"infantFeeding",id:"infantFeeding",onChange:f,value:O.infantFeeding})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Family Planing Method Used"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"fpl",id:"fpl",onChange:f,value:O.fpl})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Referred to"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"referredTo",id:"referredTo",onChange:f,value:O.referredTo})})]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("h3",{children:"Partner Information"}),Object(le.jsx)("hr",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Agreed to partner notification"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"agreed2PartnerNotification",id:"agreed2PartnerNotification",onChange:f,value:O.agreed2PartnerNotification})})]})})]}),n?Object(le.jsx)(pt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(le.jsx)(Ke.a,{}),onClick:function(t){t.preventDefault(),d(!0),v.a.post("".concat(y,"pmtct/anc/pmtct-enrollment"),O,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){d(!1),o.b.success("Enrollment save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){d(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})}))},children:n?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:a.button,startIcon:Object(le.jsx)(Ot.a,{}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})},vt=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),Nt=function(e){var t=e.patientObj;console.log(t);Object(i.g)();var a=vt(),s=Object(r.useState)(!1),c=Object(l.a)(s,2),n=c[0],d=c[1],j=Object(r.useState)({}),b=Object(l.a)(j,2),u=(b[0],b[1],Object(r.useState)({bodyWeight:"",diastolic:"",encounterDate:"",facilityId:1,height:"",personId:"",pulse:"",respiratoryRate:"",systolic:"",temperature:"",visitId:""})),m=Object(l.a)(u,2),h=m[0],O=m[1],x=function(e){O(Object(p.a)(Object(p.a)({},h),{},Object(ze.a)({},e.target.name,e.target.value)))};return Object(le.jsx)("div",{children:Object(le.jsx)(Ve.a,{className:a.root,children:Object(le.jsx)(pe.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:"ANC Enrollment"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"ANC No *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date of 1st ANC *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"date",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate,max:ce()(new Date).format("YYYY-MM-DD")})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Gravida"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"number",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Parity"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"number",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date Of Last Menstrual Period* "}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"date",name:"encounterDate",id:"encounterDate",onChange:x,max:ce()(new Date).format("YYYY-MM-DD"),value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Expected Date Of Delivery "}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"Date",name:"encounterDate",id:"encounterDate",onChange:x,max:ce()(new Date).format("YYYY-MM-DD"),value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Gestational Age (Weeks)"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Time of HIV Diagnosis"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Source of Referral"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("h3",{children:"Syphilis Information"}),Object(le.jsx)("hr",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Tested for syphilis?"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Test Result"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"date",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate,max:ce()(new Date).format("YYYY-MM-DD")})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Treated for Syphilis"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Referred for syphilis treatment"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("h3",{children:"PMTCT HTS"}),Object(le.jsx)("hr",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Previously known HIV positive?"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date tested HIV positive"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"date",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate,max:ce()(new Date).format("YYYY-MM-DD")})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Accepted HIV Testing?"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"HIV test result"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"HIV Restesting?"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Received HIV test result?"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("h3",{children:"Hepatitis Information"}),Object(le.jsx)("hr",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Tested for Hepatitis B"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Hepatitis B test result"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Tested for Hepatitis C"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Hepatitis C test result"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate})})]})}),Object(le.jsx)("h3",{children:"Partner Notification"}),Object(le.jsx)("hr",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Agreed to partner notification?"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate,children:Object(le.jsx)("option",{value:"",children:"Select"})})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Partner's HIV status"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate,children:Object(le.jsx)("option",{value:"",children:"Select"})})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Partner referred to?"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:x,value:h.encounterDate,children:Object(le.jsx)("option",{value:"",children:"Select"})})})]})})]}),n?Object(le.jsx)(pt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(le.jsx)(Ke.a,{}),onClick:function(t){t.preventDefault(),d(!0),v.a.post("".concat(y,"patient/vital-sign/"),h,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){d(!1),e.patientObj.commenced=!0,o.b.success("Vital signs save successful"),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){d(!1),o.b.error("Something went wrong")}))},children:n?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:a.button,startIcon:Object(le.jsx)(Ot.a,{}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})},yt=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),St=function(e){var t=e.patientObj,a=yt(),s=Object(r.useState)([]),c=Object(l.a)(s,2),n=c[0],i=c[1],d=Object(r.useState)([]),j=Object(l.a)(d,2),b=j[0],u=j[1],m=Object(r.useState)([]),h=Object(l.a)(m,2),O=h[0],x=h[1],f=Object(r.useState)(!1),g=Object(l.a)(f,2),S=g[0],C=g[1],T=Object(r.useState)({}),R=Object(l.a)(T,2),D=R[0],I=R[1],w=Object(r.useState)([]),A=Object(l.a)(w,2),P=A[0],k=A[1],B=Object(r.useState)([]),E=Object(l.a)(B,2),H=E[0],Y=E[1],F=Object(r.useState)({ancNo:t.ancNo,artStartedLdWard:"",bookingStatus:"",childGivenArvWithin72:"",childStatus:"",dateOfDelivery:"",deliveryTime:"",episiotomy:"",feedingDecision:"",gaweeks:"",hbstatus:"",hcstatus:"",hivExposedInfantGivenHbWithin24hrs:"",maternalOutcome:"",modeOfDelivery:"",onArt:"",referalSource:"",romDeliveryInterval:"",vaginalTear:""}),L=Object(l.a)(F,2),M=L[0],z=L[1];Object(r.useEffect)((function(){W(),q(),G(),_(),V()}),[e.patientObj.id]);var V=function(){v.a.get("".concat(y,"application-codesets/v2/BOOKING STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){Y(e.data)})).catch((function(e){}))},W=function(){v.a.get("".concat(y,"application-codesets/v2/MODE_DELIVERY"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){i(e.data)})).catch((function(e){}))},_=function(){v.a.get("".concat(y,"application-codesets/v2/CHILD_STATUS_DELIVERY"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){k(e.data)})).catch((function(e){}))},q=function(){v.a.get("".concat(y,"application-codesets/v2/FEEDING DECISION"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){u(e.data)})).catch((function(e){}))},G=function(){v.a.get("".concat(y,"application-codesets/v2/MATERNAL_OUTCOME"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){x(e.data)})).catch((function(e){}))},U=function(e){I(Object(p.a)(Object(p.a)({},D),{},Object(ze.a)({},e.target.name,""))),z(Object(p.a)(Object(p.a)({},M),{},Object(ze.a)({},e.target.name,e.target.value)))};return Object(le.jsx)("div",{children:Object(le.jsx)(Ve.a,{className:a.root,children:Object(le.jsx)(pe.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:"labour and Delivery"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"ANC ID  *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"ancNo",id:"ancNo",onChange:U,value:M.ancNo,disabled:!0})}),""!==D.ancNo?Object(le.jsx)("span",{className:a.error,children:D.ancNo}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Booking Status"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"bookingStatus",id:"bookingStatus",onChange:U,value:M.bookingStatus,children:[Object(le.jsx)("option",{value:"",children:"Select "}),H.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]})}),""!==D.bookingStatus?Object(le.jsx)("span",{className:a.error,children:D.bookingStatus}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date of Delivery"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"date",name:"dateOfDelivery",id:"dateOfDelivery",onChange:U,value:M.dateOfDelivery,max:ce()(new Date).format("YYYY-MM-DD")})}),""!==D.dateOfDelivery?Object(le.jsx)("span",{className:a.error,children:D.dateOfDelivery}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Gestational Age (weeks)"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:U,value:M.gaweeks})}),""!==D.gaweeks?Object(le.jsx)("span",{className:a.error,children:D.gaweeks}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"ROM to Delivery Interval "}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"number",name:"romDeliveryInterval",id:"romDeliveryInterval",onChange:U,value:M.romDeliveryInterval})}),""!==D.romDeliveryInterval?Object(le.jsx)("span",{className:a.error,children:D.romDeliveryInterval}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Mode of Delivery"}),Object(le.jsxs)(Ge.a,{type:"select",name:"modeOfDelivery",id:"modeOfDelivery",value:M.modeOfDelivery,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),n.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==D.modeOfDelivery?Object(le.jsx)("span",{className:a.error,children:D.modeOfDelivery}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Episiotomy"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"episiotomy",id:"episiotomy",onChange:U,value:M.episiotomy,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==D.episiotomy?Object(le.jsx)("span",{className:a.error,children:D.episiotomy}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Vaginal Tear"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"vaginalTear",id:"vaginalTear",onChange:U,value:M.vaginalTear,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==D.vaginalTear?Object(le.jsx)("span",{className:a.error,children:D.vaginalTear}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Feeding decision"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"feedingDecision",id:"feedingDecision",onChange:U,value:M.feedingDecision,children:[Object(le.jsx)("option",{value:"",children:"Select "}),b.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]})}),""!==D.feedingDecision?Object(le.jsx)("span",{className:a.error,children:D.feedingDecision}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Maternal Outcome"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"maternalOutcome",id:"maternalOutcome",onChange:U,value:M.maternalOutcome,children:[Object(le.jsx)("option",{value:"",children:"Select "}),O.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]})}),""!==D.maternalOutcome?Object(le.jsx)("span",{className:a.error,children:D.maternalOutcome}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Child given ARV within 72 hrs"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"childGivenArvWithin72",id:"childGivenArvWithin72",onChange:U,value:M.childGivenArvWithin72,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==D.childGivenArvWithin72?Object(le.jsx)("span",{className:a.error,children:D.childGivenArvWithin72}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Child status"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"childStatus",id:"childStatus",onChange:U,value:M.childStatus,children:[Object(le.jsx)("option",{value:"",children:"Select "}),P.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]})}),""!==D.childStatus?Object(le.jsx)("span",{className:a.error,children:D.childStatus}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"On ART?"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"onArt",id:"onArt",onChange:U,value:M.onArt,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==D.onArt?Object(le.jsx)("span",{className:a.error,children:D.onArt}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"HIV exposed infant given Hep B within 24 hrs of birth"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"hivExposedInfantGivenHbWithin24hrs",id:"hivExposedInfantGivenHbWithin24hrs",onChange:U,value:M.hivExposedInfantGivenHbWithin24hrs,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==D.hivExposedInfantGivenHbWithin24hrs?Object(le.jsx)("span",{className:a.error,children:D.hivExposedInfantGivenHbWithin24hrs}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Time of Diagnosis"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"time",name:"deliveryTime",id:"deliveryTime",onChange:U,value:M.deliveryTime})}),""!==D.deliveryTime?Object(le.jsx)("span",{className:a.error,children:D.deliveryTime}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"ART started in L&D ward"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"artStartedLdWard",id:"artStartedLdWard",onChange:U,value:M.artStartedLdWard,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==D.artStartedLdWard?Object(le.jsx)("span",{className:a.error,children:D.artStartedLdWard}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Source of Referral"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"referalSource",id:"referalSource",onChange:U,value:M.referalSource})}),""!==D.referalSource?Object(le.jsx)("span",{className:a.error,children:D.referalSource}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Hepatitis B Status"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"hbstatus",id:"hbstatus",onChange:U,value:M.hbstatus,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Yes"}),Object(le.jsx)("option",{value:"Negative",children:"No"})]})}),""!==D.hbstatus?Object(le.jsx)("span",{className:a.error,children:D.hbstatus}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Hepatitis C Status"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"hcstatus",id:"hcstatus",onChange:U,value:M.hcstatus,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Yes"}),Object(le.jsx)("option",{value:"Negative",children:"No"})]})}),""!==D.hcstatus?Object(le.jsx)("span",{className:a.error,children:D.hcstatus}):""]})})]}),S?Object(le.jsx)(pt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(le.jsx)(Ke.a,{}),style:{backgroundColor:"#014d88"},onClick:function(t){t.preventDefault(),!function(){var e=Object(p.a)({},D);return e.artStartedLdWard=M.artStartedLdWard?"":"This field is required",e.referalSource=M.referalSource?"":"This field is required",e.romDeliveryInterval=M.romDeliveryInterval?"":"This field is required",e.vaginalTear=M.vaginalTear?"":"This field is required",e.onArt=M.onArt?"":"This field is required",e.modeOfDelivery=M.modeOfDelivery?"":"This field is required",e.maternalOutcome=M.maternalOutcome?"":"This field is required",e.hivExposedInfantGivenHbWithin24hrs=M.hivExposedInfantGivenHbWithin24hrs?"":"This field is required",e.hcstatus=M.hcstatus?"":"This field is required",e.hbstatus=M.hbstatus?"":"This field is required",e.gaweeks=M.gaweeks?"":"This field is required",e.feedingDecision=M.feedingDecision?"":"This field is required",e.episiotomy=M.episiotomy?"":"This field is required",e.deliveryTime=M.deliveryTime?"":"This field is required",e.dateOfDelivery=M.dateOfDelivery?"":"This field is required",e.childStatus=M.childStatus?"":"This field is required",e.childGivenArvWithin72=M.childGivenArvWithin72?"":"This field is required",e.bookingStatus=M.bookingStatus?"":"This field is required",I(Object(p.a)({},e)),Object.values(e).every((function(e){return""==e}))}()?o.b.error("All field are required",{position:o.b.POSITION.BOTTOM_CENTER}):(C(!0),v.a.post("".concat(y,"pmtct/anc/pmtct-delivery"),M,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){C(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){C(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})})))},children:S?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:a.button,startIcon:Object(le.jsx)(Ot.a,{}),style:{backgroundColor:"#992E62"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})},Ct=a(1040),Tt=a(1038),Rt=a(1045),Dt=a(1039),It=a.p+"static/media/fingerprintimage.73ff98ea.png",wt=a(107),At=a.n(wt),Pt=Object(te.a)((function(e){return{root:{width:"100%","& .dropdown-toggle::after, .dropleft .dropdown-toggle::before, .dropright .dropdown-toggle::before, .dropup .dropdown-toggle::after":{fontFamily:"FontAwesome",border:"0",verticalAlign:"middle",marginLeft:".25em",lineHeight:"1"},"& .dropdown-menu .dropdown-item":{fontSize:"14px",color:"#014d88",padding:"0.3rem 1.5rem",fontWeight:"bold"},"& .mt-4":{marginTop:"28px !important"},"& .form-control":{color:"#992E62"},"& .form-control:focus":{color:"#014d88"},"& .sharp ":{"min-width":"35px",padding:"5px",height:"35px","min-height":"35px"}},card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"}}})),kt="";var Bt=function(e){var t=Pt(),a=Object(i.g)(),c=(a.location&&a.location.state&&a.location.state.permissions,Object(r.useState)([])),n=Object(l.a)(c,2),d=n[0],j=n[1],b=Object(r.useState)({biometricType:"FINGERPRINT",patientId:e.patientId,templateType:"",device:""}),u=Object(l.a)(b,2),m=u[0],x=u[1],f=Object(r.useState)([]),g=Object(l.a)(f,2),C=g[0],T=g[1],R=Object(r.useState)([]),D=Object(l.a)(R,2),I=(D[0],D[1]),w=s.a.useState(!1),A=Object(l.a)(w,2),P=(A[0],A[1]),k=Object(r.useState)(!1),B=Object(l.a)(k,2),E=B[0],H=B[1],Y=s.a.useState(!1),F=Object(l.a)(Y,2),L=F[0],M=F[1],z=s.a.useState(!1),V=Object(l.a)(z,2),W=(V[0],V[1]),_=s.a.useState(!1),q=Object(l.a)(_,2),G=q[0],U=q[1],K=Object(r.useState)({}),X=Object(l.a)(K,2),Q=X[0],J=X[1],Z=Object(r.useState)([]),$=Object(l.a)(Z,2),ee=$[0],te=$[1],re=Object(r.useState)([]),se=Object(l.a)(re,2),ne=se[0],ie=se[1],oe=Object(r.useState)([]),de=Object(l.a)(oe,2),je=(de[0],de[1]),be=(Object(p.a)({},G&&{bgcolor:Ze.a[500],"&:hover":{bgcolor:Ze.a[700]}}),function(){var t=Object(O.a)(Object(h.a)().mark((function t(){var a;return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("".concat(y,"application-codesets/v2/BIOMETRIC_CAPTURE_FINGERS"),{headers:{Authorization:"Bearer ".concat(N)}});case 2:a=t.sent,v.a.get("".concat(y,"biometrics/person/").concat(e.patientId),{headers:{Authorization:"Bearer ".concat(N)}}).then(function(){var e=Object(O.a)(Object(h.a)().mark((function e(t){var r,s,c;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.length>0?(te(t.data),H(!0),r=At.a.uniq(At.a.map(t.data,"templateType")),je(r),s=At.a.map(a.data,(function(e){return At.a.extend({},e,{captured:r.includes(e.display)})})),T(s)):(c=At.a.map(a.data,(function(e){return At.a.extend({},e,{captured:!1})})),T(c));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(O.a)(Object(h.a)().mark((function e(t){var r;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("getPersonBiometrics error"),console.log(t),r=At.a.map(a.data,(function(e){return At.a.extend({},e,{captured:!1})})),T(r),H(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),ue=function(){v.a.post("".concat(y,"biometrics/store-list/").concat(e.patientId),e.patientId,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){console.log("cleared store")})).catch((function(e){console.log("cleared store error"),console.log(e)}))};Object(r.useEffect)((function(){ue(),be(),me()}),[]);var me=function(){v.a.get("".concat(y,"modules/check?moduleName=biometric"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){!0===e.data&&v.a.get("".concat(y,"biometrics/devices"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){I(e.data),j(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){}))};return Object(le.jsx)("div",{className:t.root,children:Object(le.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(le.jsx)("div",{className:"",style:{padding:"5px",flex:"7",boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",minHeight:"400px"},children:E&&ee.length>0?Object(le.jsx)("div",{style:{display:"flex",width:"100%",flexWrap:"wrap"},children:ee.map((function(t,a){return Object(le.jsx)("div",{style:{minHeight:"120px",padding:"5px",width:"20%"},children:Object(le.jsxs)("div",{className:"card ",style:{borderRadius:"6px"},children:[Object(le.jsxs)("div",{className:"card-header align-items-start",style:{backgroundColor:"#fff"},children:[Object(le.jsxs)("div",{children:[Object(le.jsx)("h6",{className:"fs-18 font-w500 mb-3 user-name",children:Object(le.jsx)(S.b,{to:"#",style:{color:"#014d88",fontSize:"14px",fontFamily:'"poppins",sans-serif'},children:t.templateType})}),Object(le.jsxs)("div",{className:"fs-9 text-nowrap",style:{fontSize:"10px",color:"#992E62",fontWeight:"bold",fontFamily:'"poppins",sans-serif'},children:[Object(le.jsx)("i",{className:"fa fa-calendar-o me-3","aria-hidden":"true"}),ce()(t.lastModifiedDate).format("YYYY-MM-DD HH:mm")]})]}),Object(le.jsxs)(Ct.a,{className:"dropdown ms-auto",children:[Object(le.jsx)(Ct.a.Toggle,{as:"button",variant:"",drop:"up",className:"btn sharp btn-primary ",id:"tp-btn",style:{backgroundColor:"#014d88",borderColor:"#014d88",borderRadius:"5px",marginRight:"-18px",marginTop:"-10px"},children:Object(le.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(le.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(le.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(le.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"5",r:"2"}),Object(le.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"12",r:"2"}),Object(le.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"19",r:"2"})]})})}),Object(le.jsx)(Ct.a.Menu,{alignRight:!0,className:"dropdown-menu-right",children:Object(le.jsxs)(Ct.a.Item,{style:{color:"red"},onClick:function(){return a=t.id,r=t.templateType,void v.a.delete("".concat(y,"biometrics/").concat(a),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){o.b.success("".concat(r," deleted successfully")),At.a.find(C,{display:r}).captured=!1,T(Object(Me.a)(C));var a=At.a.reject(ee,{templateType:r});te(a),ue(),0===a.length&&e.updatePatientBiometricStatus(!1)})).catch((function(e){o.b.error("Something went wrong"),console.log(e)}));var a,r},children:[Object(le.jsx)(jt.a,{})," Delete"]})})]})]}),Object(le.jsx)("div",{className:"card-body p-0 pb-2",children:Object(le.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(le.jsx)("li",{className:"list-group-item",style:{height:"100px",display:"flex",justifyContent:"center"},children:Object(le.jsx)("img",{src:It,alt:"",style:{height:"80px"}})}),Object(le.jsxs)("li",{className:"list-group-item",children:[Object(le.jsx)(Tt.a,{variant:"info badge-xs light",className:"card-link float-end",children:"Version "}),Object(le.jsxs)("span",{className:"mb-0 title",children:["Status ",t.iso]})," :",Object(le.jsx)("span",{className:"text-black desc-text ms-2",children:Object(le.jsxs)(Tt.a,{variant:!0===t.iso?"primary badge-xs":"danger badge-xs",children:[Object(le.jsx)("i",{className:"fa fa-check-square me-2 scale4","aria-hidden":"true"})," "]})})]})]})})]})},a)}))}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"flex-grow-8",children:Object(le.jsx)("div",{className:"flex-grow-8",children:Object(le.jsx)(Rt.a,{severity:"info",children:Object(le.jsx)(Dt.a,{style:{height:"400px"},children:Object(le.jsx)("strong",{children:"No biometrics captured"})})})})})})}),Object(le.jsx)("div",{style:{flex:"3",padding:"5px",marginLeft:"5px",border:"1px solid rgba(99, 99, 99, 0.2)",boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px"},children:Object(le.jsxs)("div",{className:"col-12",children:[Object(le.jsx)(o.a,{}),Object(le.jsx)(Oe.a,{md:12,children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"device",style:{color:"#014d88",fontWeight:"bold",fontSize:"14px"},children:"Select Device "}),Object(le.jsxs)(Ge.a,{type:"select",name:"device",id:"device",onChange:function(e){var t=e.target.value,a=d.find((function(e){return e.name===t}));kt=null===a.url?y:a.url,x(Object(p.a)(Object(p.a)({},m),{},{device:t})),v.a.get("".concat(kt,"biometrics/secugen/boot?reader=").concat(t),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){"ERROR"===e.data.errorType?o.b.error(e.data.errorName+" is not plug"):M(!0)})).catch((function(e){}))},value:m.device,required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select Device "}),d.map((function(e){var t=e.id,a=e.name;return Object(le.jsx)("option",{value:a,children:a},t)}))]}),""!==Q.device?Object(le.jsx)("span",{className:t.error,children:Q.device}):""]})}),L?Object(le.jsxs)("div",{className:"row col-12",children:[Object(le.jsx)(Oe.a,{md:6,children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"device",style:{color:"#014d88",fontWeight:"bold",fontSize:"14px"},children:"Select Finger"}),Object(le.jsxs)(Ge.a,{type:"select",name:"templateType",id:"templateType",onChange:function(e){x(Object(p.a)(Object(p.a)({},m),{},Object(ze.a)({},e.target.name,e.target.value)))},value:m.templateType,required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select Finger "}),At.a.filter(C,["captured",!1]).map((function(e){return Object(le.jsx)("option",{value:e.display,children:e.display},e.id)}))]}),""!==Q.templateType?Object(le.jsx)("span",{className:t.error,children:Q.templateType}):""]})}),Object(le.jsx)(Oe.a,{md:6,children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),function(){var e=Object(p.a)({},Q);return e.templateType=m.templateType?"":"This field is required",e.device=m.device?"":"This field is required",J(Object(p.a)({},e)),Object.values(e).every((function(e){return""===e}))}()&&v.a.post("".concat(kt,"biometrics/secugen/enrollment?reader=SG_DEV_AUTO"),m,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){if(P(!0),"ERROR"===e.data.type)P(!1),W(!0),window.setTimeout((function(){W(!1)}),5e3),o.b.error(e.data.message.ERROR);else{var t=e.data.templateType;W(!1),U(!0),window.setTimeout((function(){U(!1),P(!1)}),5e3);var a=e.data;a.capturedBiometricsList=At.a.uniqBy(a.capturedBiometricsList,"templateType"),ie([].concat(Object(Me.a)(ne),[a])),At.a.find(C,{display:t}).captured=!0,T(Object(Me.a)(C)),x(Object(p.a)(Object(p.a)({},m),{},{templateType:""}))}})).catch((function(e){}))},className:"mt-4",style:{backgroundColor:"#992E62"},startIcon:Object(le.jsx)(Qe.a,{}),children:"Capture Finger"})}),Object(le.jsx)("br",{})]}):"",Object(le.jsx)(he.a,{children:ne.length>=1?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Oe.a,{md:12,style:{marginTop:"10px",paddingBottom:"20px"},children:Object(le.jsx)(Je.a,{celled:!0,horizontal:!0,children:ne.map((function(e){return Object(le.jsxs)(Je.a.Item,{style:{width:"200px",height:"200px",border:"1px dotted #014d88",margin:"5px"},children:[Object(le.jsxs)(Je.a.Header,{style:{paddingLeft:"0px",height:"0.5rem",display:"flex",justifyContent:"right",alignItems:"right"},children:[Object(le.jsx)(lt.a,{name:"cancel",color:"red"})," "]}),Object(le.jsxs)(Je.a.Content,{style:{width:"200px",height:"160px",display:"flex",justifyContent:"center",alignItems:"center"},children:[" ",Object(le.jsx)(Qe.a,{style:{color:"#992E62",fontSize:150}})]}),Object(le.jsx)(Je.a.Content,{style:{width:"200px",height:"30px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"18px",color:"#014d88",fontWeight:"bold",fontFamily:'"poppins", sans-serif'},children:e.templateType})]})}))})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(Oe.a,{md:12,children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",onClick:function(t){if(t.preventDefault(),ne.length>=1){var a=ne[ne.length-1];a.capturedBiometricsList=At.a.uniqBy(a.capturedBiometricsList,"templateType"),v.a.post("".concat(y,"biometrics/templates"),a,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){o.b.success("Biometric save successful"),ie([]),be(),e.patientObj.biometricStatus=!0,e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){o.b.error("Something went wrong saving biometrics"),console.log(e)}))}else o.b.error("You can't save less than 2 finger")},startIcon:Object(le.jsx)(Ke.a,{}),children:"Save Capture"})})]}):""})]})})]})})},Et=(a(100),a(126)),Ht=a.n(Et),Yt=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}}})),Ft=function(e){var t=Yt(),a=(Object(i.g)(),Object(r.useState)({})),s=Object(l.a)(a,2),c=s[0],n=s[1],d=Object(r.useState)(!1),j=Object(l.a)(d,2),b=(j[0],j[1]),u=Object(r.useState)(!1),m=Object(l.a)(u,2),x=(m[0],m[1],Object(r.useState)([])),f=Object(l.a)(x,2),g=f[0],S=f[1],C=Object(r.useState)([]),T=Object(l.a)(C,2),R=T[0],D=T[1],I=Object(r.useState)([]),w=Object(l.a)(I,2),A=w[0],P=w[1],k=Object(r.useState)([]),B=Object(l.a)(k,2),E=(B[0],B[1]),H=Object(r.useState)([]),Y=Object(l.a)(H,2),F=Y[0],L=Y[1],M=Object(r.useState)([]),z=Object(l.a)(M,2),V=z[0],W=z[1],_=Object(r.useState)([]),q=Object(l.a)(_,2),G=q[0],U=q[1],K=Object(p.a)({},c),X=Object(r.useState)(""),Q=Object(l.a)(X,2),J=(Q[0],Q[1]),Z=Object(r.useState)(""),$=Object(l.a)(Z,2),ee=($[0],$[1]),te=Object(r.useState)(""),ae=Object(l.a)(te,2),re=ae[0],ce=ae[1],ne=Object(r.useState)({active:!0,personId:e.patientObj.personId,clientCode:e.patientObj&&e.patientObj.clientCode?e.patientObj.clientCode:"",breastFeeding:e.patientObj&&e.patientObj.breastFeeding?e.patientObj.breastFeeding:"",dateVisit:e.patientObj&&e.patientObj.dateVisit?e.patientObj.dateVisit:"",firstTimeVisit:e.patientObj&&e.patientObj.firstTimeVisit?e.patientObj.firstTimeVisit:"",indexClient:e.patientObj&&e.patientObj.indexClient?e.patientObj.indexClient:"",numChildren:e.patientObj&&e.patientObj.numChildren?e.patientObj.numChildren:"",numWives:e.patientObj&&e.patientObj.numWives?e.patientObj.numWives:"",pregnant:e.patientObj&&e.patientObj.pregnant?e.patientObj.pregnant:"",previouslyTested:e.patientObj?e.patientObj.previouslyTested:"",referredFrom:e.patientObj?e.patientObj.referredFrom:"",riskAssessment:e.patientObj&&e.patientObj.riskAssessment?e.patientObj.riskAssessment:{},riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:"",targetGroup:e.patientObj&&e.patientObj.targetGroup?e.patientObj.targetGroup:"",testingSetting:e.patientObj?e.patientObj.testingSetting:"",typeCounseling:e.patientObj?e.patientObj.typeCounseling:"",relationshipWithIndexClient:e.patientObj?e.patientObj.relationshipWithIndexClient:"",indexClientCode:e.patientObj?e.patientObj.indexClientCode:""}),ie=Object(l.a)(ne,2),oe=ie[0],de=ie[1];Object(r.useEffect)((function(){je(),he(),Oe(),fe(),me(),ue(),be()}),[e.patientObj]);var je=function(){v.a.get("".concat(y,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){S(e.data)})).catch((function(e){}))},be=function(){v.a.get("".concat(y,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){U(e.data)})).catch((function(e){}))},ue=function(){v.a.get("".concat(y,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){W(e.data)})).catch((function(e){}))},me=function(){v.a.get("".concat(y,"application-codesets/v2/COUNSELING_TYPE"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){L(e.data)})).catch((function(e){}))},he=function(){v.a.get("".concat(y,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){D(e.data)})).catch((function(e){}))},Oe=function(){v.a.get("".concat(y,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){P(e.data)})).catch((function(e){}))},fe=function(){v.a.get("".concat(y,"application-codesets/v2/GENDER"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){E(e.data)})).catch((function(e){}))},ge=function(e){if(n(Object(p.a)(Object(p.a)({},K),{},Object(ze.a)({},e.target.name,""))),"indexClientCode"===e.target.name&&""!==e.target.value){var t=function(){var t=Object(O.a)(Object(h.a)().mark((function t(){var a,r;return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,v.a.get("".concat(y,"hts/client/").concat(a),{headers:{Authorization:"Bearer ".concat(N),"Content-Type":"text/plain"}});case 3:"Record Not Found"!==(r=t.sent).data?(ee(""),J(r.data)):(J(""),ee(r.data));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}de(Object(p.a)(Object(p.a)({},oe),{},Object(ze.a)({},e.target.name,e.target.value)))},ve=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Me.a)(e.completed),[a]))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(xe.a,{className:t.root,children:Object(le.jsxs)(pe.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"CLIENT INTAKE FORM "}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Target Group *"}),Object(le.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:ge,value:oe.targetGroup,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),g.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==c.targetGroup?Object(le.jsx)("span",{className:t.error,children:c.targetGroup}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Client Code *"}),Object(le.jsx)(Ge.a,{type:"text",name:"clientCode",id:"clientCode",value:oe.clientCode,onChange:ge,disabled:""!==e.clientCode&&null!==e.clientCode,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==c.clientCode?Object(le.jsx)("span",{className:t.error,children:c.clientCode}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Referred From *"}),Object(le.jsxs)("select",{className:"form-control",name:"referredFrom",id:"referredFrom",onChange:ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==c.referredFrom?Object(le.jsx)("span",{className:t.error,children:c.referredFrom}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Setting*"}),Object(le.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:oe.testingSetting,onChange:ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),R.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==c.testingSetting?Object(le.jsx)("span",{className:t.error,children:c.testingSetting}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Visit Date  "}),Object(le.jsx)(Ge.a,{type:"date",name:"dateVisit",id:"dateVisit",value:oe.dateVisit,onChange:ge,min:oe.dateOfRegistration,max:se(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==c.dateVisit?Object(le.jsx)("span",{className:t.error,children:c.dateVisit}):""]})}),oe.age>9&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(qe.a,{children:["Number of Children ","<5"," years"]}),Object(le.jsx)(Ge.a,{type:"number",name:"numChildren",id:"numChildren",min:0,value:oe.numChildren,onChange:ge,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),oe.age>9&&"376"==oe.sexId&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Number of wives/co-wives"}),Object(le.jsx)(Ge.a,{type:"number",name:"numWives",id:"numWives",min:0,value:oe.numWives,onChange:ge,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Index Testing"}),Object(le.jsxs)("select",{className:"form-control",name:"indexClient",id:"indexClient",value:oe.indexClient,onChange:ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==c.indexClient?Object(le.jsx)("span",{className:t.error,children:c.indexClient}):""]})}),"true"===oe.indexClient&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Relationship of the index client"}),Object(le.jsxs)("select",{className:"form-control",name:"relationshipWithIndexClient",id:"relationshipWithIndexClient",value:oe.relationshipWithIndexClient,onChange:ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),G.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Index Client Code/ID"}),Object(le.jsx)(Ge.a,{type:"text",name:"indexClientCode",id:"indexClientCode",value:oe.indexClientCode,onBlur:function(e){function t(){return(t=Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=oe.clientCode,e.next=3,v.a.get("".concat(y,"hts/client/").concat(t),{headers:{Authorization:"Bearer ".concat(N),"Content-Type":"text/plain"}});case 3:"Record Not Found"!==e.sent.data?ce("Client code already exist"):ce("");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},onChange:ge,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==re?Object(le.jsx)("span",{className:t.error,children:re}):""]})})]}),"377"===oe.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Pregnant"}),Object(le.jsxs)("select",{className:"form-control",name:"pregnant",id:"pregnant",value:oe.pregnant,onChange:ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),V.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Breast Feeding"}),Object(le.jsxs)("select",{className:"form-control",name:"breastFeeding",id:"breastFeeding",value:oe.breastFeeding,onChange:ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]})]})})]}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"First time visit"}),Object(le.jsxs)("select",{className:"form-control",name:"firstTimeVisit",id:"firstTimeVisit",value:oe.firstTimeVisit,onChange:ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==c.firstTimeVisit?Object(le.jsx)("span",{className:t.error,children:c.firstTimeVisit}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Previously tested within the last 3 months"}),Object(le.jsxs)("select",{className:"form-control",name:"previouslyTested",id:"previouslyTested",value:oe.previouslyTested,onChange:ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==c.previouslyTested?Object(le.jsx)("span",{className:t.error,children:c.previouslyTested}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Type of Counseling"}),Object(le.jsxs)("select",{className:"form-control",name:"typeCounseling",id:"typeCounseling",value:oe.typeCounseling,onChange:ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),F.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==c.typeCounseling?Object(le.jsx)("span",{className:t.error,children:c.typeCounseling}):""]})}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(bt.a,{content:"Save & Continue",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault();var a={clientCode:oe.clientCode,dateVisit:oe.dateVisit,extra:{},firstTimeVisit:oe.firstTimeVisit,indexClient:oe.indexClient,numChildren:oe.numChildren,numWives:oe.numWives,personId:e.patientObj.personId,hospitalNumber:oe.clientCode,previouslyTested:oe.previouslyTested,referredFrom:oe.referredFrom,targetGroup:oe.targetGroup,testingSetting:oe.testingSetting,typeCounseling:oe.typeCounseling,breastFeeding:oe.breastFeeding,pregnant:oe.pregnant,relationshipWithIndexClient:oe.relationshipWithIndexClient,riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:""};K.clientCode=oe.clientCode?"":"This field is required.",K.typeCounseling=oe.typeCounseling?"":"This field is required.",K.testingSetting=oe.testingSetting?"":"This field is required.",K.targetGroup=oe.targetGroup?"":"This field is required.",K.referredFrom=oe.referredFrom?"":"This field is required.",K.previouslyTested=oe.previouslyTested?"":"This field is required.",K.indexClient=oe.indexClient?"":"This field is required.",K.firstTimeVisit=oe.firstTimeVisit?"":"This field is required.",K.dateVisit=oe.dateVisit?"":"This field is required.",n(Object(p.a)({},K)),Object.values(K).every((function(e){return""==e}))?v.a.post("".concat(y,"hts"),a,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){b(!1),e.setPatientObj(t.data),e.patientAge>15?ve("pre-test-counsel","basic"):ve("hiv-test","baisc")})).catch((function(e){if(b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})}})})})]})})]})})})},Lt=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Mt=function(e){var t=Lt(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",s=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.sex:"",c=e.patientObj&&e.patientObj?e.patientObj.id:"",n=Object(r.useState)(!1),i=Object(l.a)(n,2),d=i[0],j=i[1],b=Object(r.useState)({}),u=Object(l.a)(b,2),m=u[0],h=(u[1],Object(p.a)({},m),Object(r.useState)({sexPartnerHivPositive:"",newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""})),O=Object(l.a)(h,2),x=O[0],f=O[1],g=Object(r.useState)({htsClientId:c,knowledgeAssessment:{},personId:a,riskAssessment:{},stiScreening:{},tbScreening:{},sexPartnerRiskAssessment:{}}),S=Object(l.a)(g,2),C=S[0],T=(S[1],Object(r.useState)({previousTestedHIVNegative:"",timeLastHIVNegativeTestResult:"",clientPregnant:"",clientInformHivTransRoutes:"",clientInformRiskkHivTrans:"",clientInformPreventingsHivTrans:"",clientInformPossibleTestResult:"",informConsentHivTest:""})),R=Object(l.a)(T,2),D=R[0],I=R[1],w=Object(r.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:""}),A=Object(l.a)(w,2),P=A[0],k=A[1],B=Object(r.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:""}),E=Object(l.a)(B,2),H=E[0],Y=E[1],F=Object(r.useState)({currentCough:"",weightLoss:"",lymphadenopathy:"",fever:"",nightSweats:""}),L=Object(l.a)(F,2),M=L[0],z=L[1];Object(r.useEffect)((function(){e.patientObj&&(I(e.patientObj.knowledgeAssessment&&null!==e.patientObj.knowledgeAssessment?e.patientObj.knowledgeAssessment:{}),k(e.patientObj.riskAssessment&&null!==e.patientObj.riskAssessment?e.patientObj.riskAssessment:{}),f(e.patientObj.sexPartnerRiskAssessment&&null!==e.patientObj.sexPartnerRiskAssessment?e.patientObj.sexPartnerRiskAssessment:{}),Y(e.patientObj.stiScreening&&null!==e.patientObj.stiScreening?e.patientObj.stiScreening:{}),z(e.patientObj.tbScreening&&null!==e.patientObj.tbScreening?e.patientObj.tbScreening:{}),e.patientObj.riskStratificationResponseDto&&0!==Object.keys(e.patientObj.riskStratificationResponseDto.riskAssessment).length&&null===e.patientObj.riskAssessment?k(Object(p.a)(Object(p.a)({},P),e.patientObj.riskStratificationResponseDto.riskAssessment)):k(Object(p.a)(Object(p.a)({},P),e.patientObj.riskAssessment)))}),[e.patientObj]);var V=function(t,a){e.completed.includes(a)||e.setCompleted([].concat(Object(Me.a)(e.completed),[a])),e.handleItemClick(t)},W=function(e){I(Object(p.a)(Object(p.a)({},D),{},Object(ze.a)({},e.target.name,e.target.value)))},_=function(e){k(Object(p.a)(Object(p.a)({},P),{},Object(ze.a)({},e.target.name,e.target.value)))},q=Object.values(P).filter((function(e){return"true"===e})),G=function(e){f(Object(p.a)(Object(p.a)({},x),{},Object(ze.a)({},e.target.name,e.target.value)))},U=Object.values(x).filter((function(e){return"true"===e})),K=function(e){Y(Object(p.a)(Object(p.a)({},H),{},Object(ze.a)({},e.target.name,e.target.value)))},X=Object.values(H).filter((function(e){return"true"===e})),Q=Object(r.useState)(0),J=Object(l.a)(Q,2),Z=J[0],$=J[1],ee=function(e){if("true"===e.target.value){var t=Z+1;t>=0&&t<=5&&$(t)}if("false"===e.target.value){var a=Z-1;$(a<=0?0:a)}z(Object(p.a)(Object(p.a)({},M),{},Object(ze.a)({},e.target.name,e.target.value)))};return console.log(x),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(xe.a,{className:t.root,children:Object(le.jsxs)(pe.a,{children:[Object(le.jsx)("h2",{children:"PRE TEST COUNSELING"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"rgb(0,181,173)",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Knowledge Assessment"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Previously tested HIV negative *"}),Object(le.jsxs)("select",{className:"form-control",name:"previousTestedHIVNegative",id:"previousTestedHIVNegative",value:D.previousTestedHIVNegative,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.previousTestedHIVNegative?Object(le.jsx)("span",{className:t.error,children:m.previousTestedHIVNegative}):""]})}),"true"===D.previousTestedHIVNegative&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Time of last HIV Negative test Result*"}),Object(le.jsxs)("select",{className:"form-control",name:"timeLastHIVNegativeTestResult",id:"timeLastHIVNegativeTestResult",value:D.timeLastHIVNegativeTestResult,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsxs)("option",{value:"<1",children:[" ","< 1"," month"]}),Object(le.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(le.jsx)("option",{value:"4-6 Months",children:"4-6 Months"}),Object(le.jsxs)("option",{value:">6 Months",children:[" ",">6"," Months"]})]}),""!==m.timeLastHIVNegativeTestResult?Object(le.jsx)("span",{className:t.error,children:m.timeLastHIVNegativeTestResult}):""]})}),"Female"===s&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Client pregnant *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientPregnant",id:"clientPregnant",value:D.clientPregnant,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.clientPregnant?Object(le.jsx)("span",{className:t.error,children:m.clientPregnant}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Client informed about HIV transmission routes *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformHivTransRoutes",id:"clientInformHivTransRoutes",value:D.clientInformHivTransRoutes,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.clientInformHivTransRoutes?Object(le.jsx)("span",{className:t.error,children:m.clientInformHivTransRoutes}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Client informed about risk factors for HIV transmission *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformRiskkHivTrans",id:"clientInformRiskkHivTrans",value:D.clientInformRiskkHivTrans,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.clientInformRiskkHivTrans?Object(le.jsx)("span",{className:t.error,children:m.clientInformRiskkHivTrans}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Client informed on preventing HIV transmission methods *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformPreventingsHivTrans",id:"clientInformPreventingsHivTrans",value:D.clientInformPreventingsHivTrans,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.clientInformPreventingsHivTrans?Object(le.jsx)("span",{className:t.error,children:m.clientInformPreventingsHivTrans}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Client informed about possible test results *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformPossibleTestResult",id:"clientInformPossibleTestResult",value:D.clientInformPossibleTestResult,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.clientInformPossibleTestResult?Object(le.jsx)("span",{className:t.error,children:m.clientInformPossibleTestResult}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Informed consent for HIV testing given *"}),Object(le.jsxs)("select",{className:"form-control",name:"informConsentHivTest",id:"informConsentHivTest",value:D.informConsentHivTest,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.informConsentHivTest?Object(le.jsx)("span",{className:t.error,children:m.informConsentHivTest}):""]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Clinical TB screening"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Current cough *"}),Object(le.jsxs)("select",{className:"form-control",name:"currentCough",id:"currentCough",value:M.currentCough,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.currentCough?Object(le.jsx)("span",{className:t.error,children:m.currentCough}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Weight loss *"}),Object(le.jsxs)("select",{className:"form-control",name:"weightLoss",id:"weightLoss",value:M.weightLoss,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.weightLoss?Object(le.jsx)("span",{className:t.error,children:m.weightLoss}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Lymphadenopathy (swelling of the lymph nodes) *"}),Object(le.jsxs)("select",{className:"form-control",name:"lymphadenopathy",id:"lymphadenopathy",value:M.lymphadenopathy,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.lymphadenopathy?Object(le.jsx)("span",{className:t.error,children:m.lymphadenopathy}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Fever *"}),Object(le.jsxs)("select",{className:"form-control",name:"fever",id:"fever",value:M.fever,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.fever?Object(le.jsx)("span",{className:t.error,children:m.fever}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Night sweats*"}),Object(le.jsxs)("select",{className:"form-control",name:"nightSweats",id:"nightSweats",value:M.nightSweats,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.nightSweats?Object(le.jsx)("span",{className:t.error,children:m.nightSweats}):""]})}),Object(le.jsxs)(xt.a,{warning:!0,children:[Object(le.jsxs)("h4",{children:["TB Screening score (calculate the sum of the TB assessment) If score ",">= 1",", test for Xper MTB RIF or refer to TB service "]}),Object(le.jsxs)("b",{children:["Score : ",Z]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Ever had sexual intercourse "}),Object(le.jsxs)("select",{className:"form-control",name:"everHadSexualIntercourse",id:"everHadSexualIntercourse",value:P.everHadSexualIntercourse,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.everHadSexualIntercourse?Object(le.jsx)("span",{className:t.error,children:m.everHadSexualIntercourse}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Blood transfusion in last 3 months *"}),Object(le.jsxs)("select",{className:"form-control",name:"bloodtransInlastThreeMonths",id:"bloodtransInlastThreeMonths",value:P.bloodtransInlastThreeMonths,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.bloodtransInlastThreeMonths?Object(le.jsx)("span",{className:t.error,children:m.bloodtransInlastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Unprotected sex with casual partner in last 3 months *"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedSexWithCasualLastThreeMonths",id:"uprotectedSexWithCasualLastThreeMonths",value:P.uprotectedSexWithCasualLastThreeMonths,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.uprotectedSexWithCasualLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:m.uprotectedSexWithCasualLastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Unprotected sex with regular partner in the last 3months"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedSexWithRegularPartnerLastThreeMonths",id:"uprotectedSexWithRegularPartnerLastThreeMonths",value:P.uprotectedSexWithRegularPartnerLastThreeMonths,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.uprotectedSexWithRegularPartnerLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:m.uprotectedSexWithRegularPartnerLastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Unprotected vaginal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSex",id:"unprotectedVaginalSex",value:P.unprotectedVaginalSex,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.unprotectedVaginalSex?Object(le.jsx)("span",{className:t.error,children:m.unprotectedVaginalSex}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Unprotected Anal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:P.uprotectedAnalSex,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.uprotectedAnalSex?Object(le.jsx)("span",{className:t.error,children:m.uprotectedAnalSex}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"STI in last 3 months *"}),Object(le.jsxs)("select",{className:"form-control",name:"stiLastThreeMonths",id:"stiLastThreeMonths",value:P.stiLastThreeMonths,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.stiLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:m.stiLastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Sex under the influence of drugs or alcohol*"}),Object(le.jsxs)("select",{className:"form-control",name:"sexUnderInfluence",id:"sexUnderInfluence",value:P.sexUnderInfluence,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.sexUnderInfluence?Object(le.jsx)("span",{className:t.error,children:m.sexUnderInfluence}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"More than 1 sex partner during last 3 months*"}),Object(le.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:P.moreThanOneSexPartnerLastThreeMonths,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.moreThanOneSexPartnerLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:m.moreThanOneSexPartnerLastThreeMonths}):""]})}),Object(le.jsxs)(xt.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(le.jsxs)("b",{children:["Score : ",q.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{})]}),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth?"}),Object(le.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:P.experiencePain,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.experiencePain?Object(le.jsx)("span",{className:t.error,children:m.experiencePain}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? *"}),Object(le.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:P.haveSexWithoutCondom,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.haveSexWithoutCondom?Object(le.jsx)("span",{className:t.error,children:m.haveSexWithoutCondom}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you had a condom burst with your partner during sexual intercourse?  *"}),Object(le.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:P.haveCondomBurst,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.haveCondomBurst?Object(le.jsx)("span",{className:t.error,children:m.haveCondomBurst}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind?"}),Object(le.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:P.abuseDrug,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.abuseDrug?Object(le.jsx)("span",{className:t.error,children:m.abuseDrug}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you/partner had any blood or blood product transfusion?"}),Object(le.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:P.bloodTransfusion,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.bloodTransfusion?Object(le.jsx)("span",{className:t.error,children:m.bloodTransfusion}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you/partner experienced coughing, weight loss, fever, night sweats consistently?"}),Object(le.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:P.consistentWeightFeverNightCough,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.consistentWeightFeverNightCough?Object(le.jsx)("span",{className:t.error,children:m.consistentWeightFeverNightCough}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you/partner paid or sold vaginal, anal or oral sex? *"}),Object(le.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:P.soldPaidVaginalSex,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.soldPaidVaginalSex?Object(le.jsx)("span",{className:t.error,children:m.soldPaidVaginalSex}):""]})}),Object(le.jsxs)(xt.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(le.jsxs)("b",{children:["Score :",q.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{})]}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you had sex with a partner who is HIV positive? "}),Object(le.jsxs)("select",{className:"form-control",name:"sexPartnerHivPositive",id:"sexPartnerHivPositive",value:x.sexPartnerHivPositive,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.sexPartnerHivPositive?Object(le.jsx)("span",{className:t.error,children:m.sexPartnerHivPositive}):""]})}),"true"===x.sexPartnerHivPositive&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Is sex partner newly diagnosed with HIV and started treatment less than 3-6 months ago?*"}),Object(le.jsxs)("select",{className:"form-control",name:"newDiagnosedHivlastThreeMonths",id:"newDiagnosedHivlastThreeMonths",value:x.newDiagnosedHivlastThreeMonths,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.newDiagnosedHivlastThreeMonths?Object(le.jsx)("span",{className:t.error,children:m.newDiagnosedHivlastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Is sex partner pregnant and currently receiving ARV for PMTCT?*"}),Object(le.jsxs)("select",{className:"form-control",name:"currentlyArvForPmtct",id:"currentlyArvForPmtct",value:x.currentlyArvForPmtct,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.currentlyArvForPmtct?Object(le.jsx)("span",{className:t.error,children:m.currentlyArvForPmtct}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Known HIV positive partner on ARV with an unsurpressed VL"}),Object(le.jsxs)("select",{className:"form-control",name:"knowHivPositiveOnArv",id:"knowHivPositiveOnArv",value:x.knowHivPositiveOnArv,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.knowHivPositiveOnArv?Object(le.jsx)("span",{className:t.error,children:m.knowHivPositiveOnArv}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Known HIV positive recently returned to treatment after being lost to follow up"}),Object(le.jsxs)("select",{className:"form-control",name:"knowHivPositiveAfterLostToFollowUp",id:"knowHivPositiveAfterLostToFollowUp",value:x.knowHivPositiveAfterLostToFollowUp,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.knowHivPositiveAfterLostToFollowUp?Object(le.jsx)("span",{className:t.error,children:m.knowHivPositiveAfterLostToFollowUp}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Unprotected Anal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:x.uprotectedAnalSex,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.uprotectedAnalSex?Object(le.jsx)("span",{className:t.error,children:m.uprotectedAnalSex}):""]})})]}),Object(le.jsxs)(xt.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Sex Partner Risk Assessment score (sum of all 6 answers)"}),Object(le.jsxs)("b",{children:["Score :",U.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientObj&&"Female"===e.patientObj.personResponseDto.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(le.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:H.vaginalDischarge,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.vaginalDischarge?Object(le.jsx)("span",{className:t.error,children:m.vaginalDischarge}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(le.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:H.lowerAbdominalPains,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.lowerAbdominalPains?Object(le.jsx)("span",{className:t.error,children:m.lowerAbdominalPains}):""]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientObj.personResponseDto.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(le.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:H.urethralDischarge,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.urethralDischarge?Object(le.jsx)("span",{className:t.error,children:m.urethralDischarge}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Complaints of scrotal swelling and pain"}),Object(le.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:H.complaintsOfScrotal,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.complaintsOfScrotal?Object(le.jsx)("span",{className:t.error,children:m.complaintsOfScrotal}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(le.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:H.complaintsGenitalSore,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.complaintsGenitalSore?Object(le.jsx)("span",{className:t.error,children:m.complaintsGenitalSore}):""]})})]}),Object(le.jsxs)(xt.a,{warning:!0,children:[Object(le.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test "]}),Object(le.jsxs)("b",{children:["Score :",X.length]})]}),d?Object(le.jsx)(pt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(bt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return V("basic","basic")}}),Object(le.jsx)(bt.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),C.htsClientId=c,C.knowledgeAssessment=D,C.personId=a,C.riskAssessment=P,C.stiScreening=H,C.tbScreening=M,C.sexPartnerRiskAssessment=x,v.a.put("".concat(y,"hts/").concat(c,"/pre-test-counseling"),C,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){j(!1),e.setPatientObj(t.data),V("hiv-test","pre-test-counsel")})).catch((function(e){if(j(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})},zt=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Vt=function(e){var t=zt(),a=Object(r.useState)(!1),s=Object(l.a)(a,2),c=s[0],n=s[1],i=Object(r.useState)({}),d=Object(l.a)(i,2),j=d[0],b=d[1],u=Object(p.a)({},j);console.log(e.patientObj);var m=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",h=e.patientObj&&e.patientObj?e.patientObj.id:"",O=Object(r.useState)(""),x=Object(l.a)(O,2),f=x[0],g=x[1],S=Object(r.useState)(!0),C=Object(l.a)(S,2),T=C[0],R=C[1],D=function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),c=t.getFullYear()-s.getFullYear(),n=t.getMonth()-s.getMonth();return(n<0||0===n&&t.getDate()<s.getDate())&&c--,0===c?n+" month(s)":c}(se(e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:0).format("DD-MM-YYYY")),I=Object(r.useState)({confirmatoryTest:{},confirmatoryTest2:{},hivTestResult:"",hivTestResult2:"",htsClientId:"",personId:e.patientObj?e.patientObj.id:"",test1:{},test2:{},tieBreakerTest:{},tieBreakerTest2:{},syphilisTesting:{},hepatitisTesting:{},others:{},cd4:{}}),w=Object(l.a)(I,2),A=w[0],P=(w[1],Object(r.useState)({date:"",result:""})),k=Object(l.a)(P,2),B=k[0],E=k[1],H=Object(r.useState)({date2:"",result2:""}),Y=Object(l.a)(H,2),F=Y[0],L=Y[1],M=function(e){_(Object(p.a)(Object(p.a)({},W),{},Object(ze.a)({},e.target.name,e.target.value)))},z=Object(r.useState)({cd4Count:"",cd4SemiQuantitative:"",cd4FlowCyteometry:""}),V=Object(l.a)(z,2),W=V[0],_=V[1],q=function(e){"No"===e.target.value?(E(Object(p.a)(Object(p.a)({},B),{},Object(ze.a)({},e.target.name,e.target.value))),Q({date:"",result:""}),ie({date:"",result:""}),R(!1)):(E(Object(p.a)(Object(p.a)({},B),{},Object(ze.a)({},e.target.name,e.target.value))),R(!0))},G=function(e){"No"===e.target.value?(L(Object(p.a)(Object(p.a)({},F),{},Object(ze.a)({},e.target.name,e.target.value))),ee({date:"",result:""}),be({date:"",result:""}),R(!1)):(L(Object(p.a)(Object(p.a)({},F),{},Object(ze.a)({},e.target.name,e.target.value))),R(!0))},U=Object(r.useState)({date:"",result:""}),K=Object(l.a)(U,2),X=K[0],Q=K[1],J=Object(r.useState)({date2:"",result2:""}),Z=Object(l.a)(J,2),$=Z[0],ee=Z[1],te=function(e){Q(Object(p.a)(Object(p.a)({},X),{},Object(ze.a)({},e.target.name,e.target.value))),"Yes"===B.result&&e.target.value,R(!0)},ae=function(e){ee(Object(p.a)(Object(p.a)({},$),{},Object(ze.a)({},e.target.name,e.target.value))),"Yes"===F.result2&&e.target.value,R(!0)},re=Object(r.useState)({date:"",result:""}),ce=Object(l.a)(re,2),ne=ce[0],ie=ce[1],oe=Object(r.useState)({date2:"",result2:""}),de=Object(l.a)(oe,2),je=de[0],be=de[1],ue=function(e){ie(Object(p.a)(Object(p.a)({},ne),{},Object(ze.a)({},e.target.name,e.target.value))),"No"===X.result&&"Yes"===e.target.value?R(!0):"No"===X.result&&"No"===e.target.value?R(!1):R(!0)},me=function(e){be(Object(p.a)(Object(p.a)({},je),{},Object(ze.a)({},e.target.name,e.target.value))),"No"===$.result2&&"Yes"===e.target.value?R(!0):"No"===$.result2&&"No"===e.target.value?R(!1):R(!0)},he=Object(r.useState)({syphilisTestResult:""}),Oe=Object(l.a)(he,2),fe=Oe[0],ge=Oe[1],ve=Object(r.useState)({hepatitisCTestResult:"",hepatitisBTestResult:"",longitude:"",latitude:"",adhocCode:""}),Ne=Object(l.a)(ve,2),ye=Ne[0],Se=Ne[1],Ce=function(e){Se(Object(p.a)(Object(p.a)({},ye),{},Object(ze.a)({},e.target.name,e.target.value)))},Te=Object(r.useState)({longitude:"",latitude:"",adhocCode:""}),Re=Object(l.a)(Te,2),De=Re[0],Ie=Re[1];Object(r.useEffect)((function(){e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?g(e.patientObj.dateVisit):g(""),_(e.patientObj&&null!==e.patientObj.cd4?e.patientObj.cd4:{}),E(e.patientObj&&null!==e.patientObj.test1?e.patientObj.test1:{}),Q(e.patientObj&&null!==e.patientObj.confirmatoryTest?e.patientObj.confirmatoryTest:{}),ie(e.patientObj&&null!==e.patientObj.tieBreakerTest?e.patientObj.tieBreakerTest:{}),ge(e.patientObj&&null!==e.patientObj.syphilisTesting?e.patientObj.syphilisTesting:{}),Se(e.patientObj&&null!==e.patientObj.hepatitisTesting?e.patientObj.hepatitisTesting:{}),Ie(e.patientObj&&null!==e.patientObj.others?e.patientObj.others:{}),L(e.patientObj&&null!==e.patientObj.test2?e.patientObj.test2:{}),ee(e.patientObj&&null!==e.patientObj.confirmatoryTest2?e.patientObj.confirmatoryTest2:{}),be(e.patientObj&&null!==e.patientObj.tieBreakerTest2?e.patientObj.tieBreakerTest2:{}))}),[e.patientObj]);var we=function(e){Ie(Object(p.a)(Object(p.a)({},De),{},Object(ze.a)({},e.target.name,e.target.value)))},Ae=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Me.a)(e.completed),[a]))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(xe.a,{className:t.root,children:Object(le.jsxs)(pe.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"REQUEST AND RESULT FORM"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(Fe.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"HIV TEST RESULT"})}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),Object(le.jsx)("h4",{children:"Initial HIV Test 1:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:" Date  "}),Object(le.jsx)(Ge.a,{type:"date",name:"date",id:"date",value:B.date,onChange:q,min:""!==f&&null!==f?f:"",max:se(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date?Object(le.jsx)("span",{className:t.error,children:j.date}):""]})}),B.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:B.result,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===B.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result?Object(le.jsx)("span",{className:t.error,children:j.result}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===B.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:" Date  "}),Object(le.jsx)(Ge.a,{type:"date",name:"date",id:"date",value:X.date,onChange:te,min:B.date,max:se(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.dateOfEac1?Object(le.jsx)("span",{className:t.error,children:j.dateOfEac1}):""]})}),X.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:X.result,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===X.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===X.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:" Date  "}),Object(le.jsx)(Ge.a,{type:"date",name:"date",id:"date",value:ne.date,onChange:ue,min:X.date,max:se(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),ne.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:ne.result,onChange:ue,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===ne.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group  col-md-12",children:["No"===B.result&&Object(le.jsx)(Fe.a,{color:"green",children:"Negative"}),"No"===B.result&&"No"===X.result&&Object(le.jsx)(Fe.a,{color:"green",children:"Negative"}),"Yes"===B.result&&"Yes"===X.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fe.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Initial HIV Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:" Date "}),Object(le.jsx)(Ge.a,{type:"date",name:"date2",id:"date2",value:F.date2,onChange:G,min:X.date,max:se(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(le.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Result  "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:F.result2,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===F.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(le.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===F.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:" Date  "}),Object(le.jsx)(Ge.a,{type:"date",name:"date2",id:"date2",value:$.date2,onChange:ae,min:F.date2,max:se(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:$.result2,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===$.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===$.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:" Date  "}),Object(le.jsx)(Ge.a,{type:"date",name:"date2",id:"date2",value:je.date2,onChange:me,min:$.date2,max:se(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:je.result2,onChange:me,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===je.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===X.result&&"Yes"===ne.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fe.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Initial HIV Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:" Date  "}),Object(le.jsx)(Ge.a,{type:"date",name:"date2",id:"date2",value:F.date2,onChange:G,min:ne.date,max:se(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(le.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Result  "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:F.result2,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===F.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(le.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===F.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:" Date  "}),Object(le.jsx)(Ge.a,{type:"date",name:"date2",id:"date2",value:$.date2,onChange:ae,min:F.date2,max:se(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:$.result2,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===$.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===$.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:" Date  "}),Object(le.jsx)(Ge.a,{type:"date",name:"date2",id:"date2",value:je.date2,onChange:me,min:$.date2,max:se(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:je.result2,onChange:me,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===je.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===X.result&&"No"===ne.result&&("Yes"===B.result||"Yes"===B.result||""===B.result)&&Object(le.jsx)(Fe.a,{color:"green",children:"Negative"}),"No"===F.result2&&Object(le.jsx)(Fe.a,{color:"green",children:"Negative"}),"No"===F.result2&&"No"===$.result2&&Object(le.jsx)(Fe.a,{color:"green",children:"Negative"}),"Yes"===F.result2&&"Yes"===$.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fe.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{})]}),"No"===$.result2&&"Yes"===je.result2&&Object(le.jsx)(Fe.a,{color:"red",children:"Positive"}),"No"===$.result2&&"No"===je.result2&&("Yes"===F.result2||"Yes"===F.result2||""===F.result2)&&Object(le.jsx)(Fe.a,{color:"green",children:"Negative"})]})}),T&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fe.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"CD4 Count"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"CD4 Count "}),Object(le.jsxs)("select",{className:"form-control",name:"cd4Count",id:"cd4Count",value:W.cd4Count,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Semi-Quantitative",children:"Semi-Quantitative"}),Object(le.jsx)("option",{value:"Flow Cyteometry",children:"Flow Cyteometry"})]})]})}),"Semi-Quantitative"===W.cd4Count&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"CD4 Count Value"}),Object(le.jsxs)("select",{className:"form-control",name:"cd4SemiQuantitative",id:"cd4SemiQuantitative",value:W.cd4SemiQuantitative,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Semi-Quantitative",children:"<200"}),Object(le.jsx)("option",{value:"Flow Cyteometry",children:">=200"})]})]})}),"Flow Cyteometry"===W.cd4Count&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"CD4 Count Value"}),Object(le.jsx)(Ge.a,{type:"text",name:"cd4FlowCyteometry",id:"cd4FlowCyteometry",value:W.cd4FlowCyteometry,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-7"})]}),Object(le.jsx)(Fe.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Syphilis test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",value:fe.syphilisTestResult,onChange:function(e){ge(Object(p.a)(Object(p.a)({},fe),{},Object(ze.a)({},e.target.name,e.target.value)))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(le.jsx)(Fe.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis Testing"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Hepatitis B virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",value:ye.hepatitisBTestResult,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Hepatitis C virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",value:ye.hepatitisCTestResult,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)(Fe.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Others"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Longitude"}),Object(le.jsx)(Ge.a,{type:"number",name:"longitude",id:"longitude",value:De.longitude,onChange:we,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Latitude"}),Object(le.jsx)(Ge.a,{type:"number",name:"latitude",id:"latitude",value:De.latitude,onChange:we,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Adhoc Code"}),Object(le.jsx)(Ge.a,{type:"number",name:"adhocCode",id:"adhocCode",value:De.adhocCode,onChange:we,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),c?Object(le.jsx)(pt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[D<=15?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(bt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return Ae("basic","basic")}})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(bt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return Ae("pre-test-counsel","pre-test-counsel")}})}),Object(le.jsx)(bt.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),""!==B.date&&(u.date=B.result?"":"This field is required."),b(Object(p.a)({},u)),Object.values(u).every((function(e){return""==e}))&&("No"===F.result2?A.hivTestResult2="Negative":"Yes"===F.result2&&"Yes"===$.result2||"No"===$.result2&&"Yes"===je.result2?A.hivTestResult2="Positive":"No"===$.result2&&"No"===je.result2?A.hivTestResult2="Negative":A.hivTestResult2="","No"===B.result?A.hivTestResult="Negative":"Yes"===B.result&&"Yes"===X.result||"No"===X.result&&"Yes"===ne.result?A.hivTestResult="Positive":"No"===X.result&&"No"===ne.result?A.hivTestResult="Negative":A.hivTestResult="",A.htsClientId=h,A.confirmatoryTest=X,A.confirmatoryTest2=$,A.personId=m,A.test1=B,A.test2=F,A.tieBreakerTest=ne,A.tieBreakerTest2=je,A.syphilisTesting=fe,A.hepatitisTesting=ye,A.cd4=W,A.others=De,v.a.put("".concat(y,"hts/").concat(h,"/request-result"),A,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){n(!1),e.setPatientObj(t.data),Ae("post-test","hiv-test")})).catch((function(e){if(n(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))}})]})})]})})]})})})},Wt=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),_t=function(e){var t=Wt(),a=Object(r.useState)(!1),s=Object(l.a)(a,2),c=s[0],n=s[1],i=Object(r.useState)({}),d=Object(l.a)(i,2),j=d[0],b=(d[1],Object(r.useState)([])),u=Object(l.a)(b,2),m=u[0],h=u[1],O=Object(r.useState)([]),x=Object(l.a)(O,2),f=x[0],g=x[1],S=Object(r.useState)(!0),C=Object(l.a)(S,2),T=C[0],R=C[1],D=Object(r.useState)([]),I=Object(l.a)(D,2),w=I[0],A=I[1],P=Object(r.useState)([]),k=Object(l.a)(P,2),B=k[0],E=k[1],H=Object(r.useState)(""),Y=Object(l.a)(H,2),F=Y[0],L=Y[1],M=Object(r.useState)({htsClientId:null,indexNotificationServicesElicitation:{},personId:null}),z=Object(l.a)(M,2),V=(z[0],z[1],Object(r.useState)({firstName:"",middleName:"",lastName:"",dob:"",phoneNumber:"",altPhoneNumber:"",sex:"",htsClientId:e&&e.patientObj?e.patientObj.id:"",physicalHurt:"",threatenToHurt:"",address:"",hangOutSpots:"",relativeToIndexClient:"",currentlyLiveWithPartner:"",partnerTestedPositive:"",sexuallyUncomfortable:"",notificationMethod:"",datePartnerCameForTesting:""})),W=Object(l.a)(V,2),_=W[0],q=W[1];Object(r.useEffect)((function(){G(),X(),U(),K(),e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?L(e.patientObj.dateVisit):L(""))}),[e.patientObj]);var G=function(){v.a.get("".concat(y,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){h(e.data)})).catch((function(e){}))},U=function(){v.a.get("".concat(y,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){A(e.data)})).catch((function(e){}))},K=function(){v.a.get("".concat(y,"application-codesets/v2/CONSENT"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){E(e.data)})).catch((function(e){}))},X=function(){v.a.get("".concat(y,"application-codesets/v2/NOTIFICATION_CONTACT"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){g(e.data)})).catch((function(e){}))},Q=function(t){e.handleIClickPage(t)},J=function(e){if("firstName"===e.target.name&&""!==e.target.value){var t=ee(e.target.value);q(Object(p.a)(Object(p.a)({},_),{},Object(ze.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var a=ee(e.target.value);q(Object(p.a)(Object(p.a)({},_),{},Object(ze.a)({},e.target.name,a)))}if("middleName"===e.target.name&&""!==e.target.value){var r=ee(e.target.value);q(Object(p.a)(Object(p.a)({},_),{},Object(ze.a)({},e.target.name,r)))}q(Object(p.a)(Object(p.a)({},_),{},Object(ze.a)({},e.target.name,e.target.value)))},Z=function(e){"Actual"==e.target.value?(_.isDateOfBirthEstimated=!1,R(!0)):"Estimated"==e.target.value&&(_.isDateOfBirthEstimated=!0,R(!1))},$=function(e,t){q(Object(p.a)(Object(p.a)({},_),{},Object(ze.a)({},t,e.slice(0,10))))},ee=function(e){return e.replace(/[^a-z]/gi,"")};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(xe.a,{className:t.root,children:Object(le.jsxs)(pe.a,{children:[Object(le.jsxs)("h2",{style:{color:"#000"},children:["Index Notification Services - Elicitation",Object(le.jsx)(bt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return Q("list")},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:" Back To Client Index List"})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"First Name"}),Object(le.jsx)(Ge.a,{type:"text",name:"firstName",id:"firstName",value:_.firstName,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Middle Name"}),Object(le.jsx)(Ge.a,{type:"text",name:"middleName",id:"middleName",value:_.middleName,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Last Name"}),Object(le.jsx)(Ge.a,{type:"text",name:"lastName",id:"lastName",value:_.lastName,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return Z(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return Z(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date"}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",max:se(new Date).format("YYYY-MM-DD"),value:_.dob,onChange:function(e){if(e.target.value){var t=new Date,a=new Date(e.target.value),r=t.getFullYear()-a.getFullYear(),s=t.getMonth()-a.getMonth();(s<0||0===s&&t.getDate()<a.getDate())&&r--,_.age=r}else q(Object(p.a)(Object(p.a)({},_),{},{age:""}));q(Object(p.a)(Object(p.a)({},_),{},Object(ze.a)({},e.target.name,e.target.value))),q(Object(p.a)(Object(p.a)({},_),{},{dob:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:_.age,disabled:T,onChange:function(e){if(!T&&e.target.value){var t=new Date;t.setDate(15),t.setMonth(5);var a=se(t.toISOString()).add(-1*e.target.value,"years");q(Object(p.a)(Object(p.a)({},_),{},{dob:se(a).format("YYYY-MM-DD")})),_.dob=se(a).format("YYYY-MM-DD")}q(Object(p.a)(Object(p.a)({},_),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Phone Number"}),Object(le.jsx)(Ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:_.phoneNumber,onChange:function(e){$(e,"phoneNumber")}}),""!==j.phoneNumber?Object(le.jsx)("span",{className:t.error,children:j.phoneNumber}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Alternative Phone Number"}),Object(le.jsx)(Ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"altPhoneNumber",id:"altPhoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:_.altPhoneNumber,onChange:function(e){$(e,"altPhoneNumber")}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Sex *"}),Object(le.jsxs)("select",{className:"form-control",name:"sex",id:"sex",value:_.sex,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),m.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Address"}),Object(le.jsx)(Ge.a,{type:"text",name:"address",id:"address",value:_.address,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Hang-out spots"}),Object(le.jsx)(Ge.a,{type:"text",name:"hangOutSpots",id:"hangOutSpots",value:_.hangOutSpots,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Relationship to Index Client *"}),Object(le.jsxs)("select",{className:"form-control",name:"relativeToIndexClient",id:"relativeToIndexClient",value:_.relativeToIndexClient,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),w.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Do you currently live with this partner? *"}),Object(le.jsxs)("select",{className:"form-control",name:"currentlyLiveWithPartner",id:"currentlyLiveWithPartner",value:_.currentlyLiveWithPartner,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"As far as you know, as this partner ever tested positive for HIV *"}),Object(le.jsxs)("select",{className:"form-control",name:"partnerTestedPositive",id:"partnerTestedPositive",value:_.partnerTestedPositive,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),B.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Has this partner ever hit, kick, slapped or otherwise physical hurt you? *"}),Object(le.jsxs)("select",{className:"form-control",name:"physicalHurt",id:"physicalHurt",value:_.physicalHurt,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),B.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Has this partner ever threaten to hurt you? *"}),Object(le.jsxs)("select",{className:"form-control",name:"threatenToHurt",id:"threatenToHurt",value:_.threatenToHurt,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),B.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Has this partner ever threaten force you to do something sexually that made you uncomfortable ?  *"}),Object(le.jsxs)("select",{className:"form-control",name:"sexuallyUncomfortable",id:"sexuallyUncomfortable",value:_.sexuallyUncomfortable,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),B.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Notification Method selected*"}),Object(le.jsxs)("select",{className:"form-control",name:"notificationMethod",id:"notificationMethod",value:_.notificationMethod,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),f.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"If contract by which date will partner come for testing?"}),Object(le.jsx)(Ge.a,{type:"date",name:"datePartnerCameForTesting",id:"datePartnerCameForTesting",value:_.datePartnerCameForTesting,onChange:J,min:F,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==j.datePartnerComeForTesting?Object(le.jsx)("span",{className:t.error,children:j.datePartnerComeForTesting}):""]})}),c?Object(le.jsx)(pt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(bt.a,{content:"Save",icon:"save",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(e){e.preventDefault(),_.isDateOfBirthEstimated=1==_.isDateOfBirthEstimated?1:0,v.a.post("".concat(y,"index-elicitation"),_,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){n(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),Q("list")})).catch((function(e){if(n(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))}})})})]})})]})})})},qt={Add:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(w.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(H.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(F.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Q.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(V.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(_.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(G.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(H.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(ee.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))}))},Gt=(Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),s=a[0],c=a[1];e.patientObj&&e.patientObj.id&&e.patientObj.id;function n(){return(n=Object(O.a)(Object(h.a)().mark((function t(){return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.a.get("".concat(y,"hts/").concat(e.patientObj.id,"/index-elicitation"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){console.log(e.data),c(e.data)})).catch((function(e){}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){n.apply(this,arguments)}()}),[]);var i=function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),c=t.getFullYear()-s.getFullYear(),n=t.getMonth()-s.getMonth();return(n<0||0===n&&t.getDate()<s.getDate())&&c--,0===c?n+" month(s)":c+" year(s)"};return Object(le.jsxs)("div",{children:[Object(le.jsx)(bt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return t="add",void e.handleIClickPage(t);var t},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"New Index Client "})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(f.a,{icons:qt,title:"List of index client ",columns:[{title:"Name",field:"name"},{title:"Age",field:"age"},{title:"Phone Number",field:"phone"},{title:"Adress",field:"address"},{title:"Actions",field:"actions",filtering:!1}],data:s.map((function(e){return{name:e.firstName+" "+e.lastName,age:i(ce()(e.dob).format("DD-MM-YYYY")),phone:e.phoneNumber,address:e.address,actions:Object(le.jsx)(le.Fragment,{})}})),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})]})}),Ut=function(e){var t=Object(r.useState)("list"),a=Object(l.a)(t,2),s=a[0],c=a[1],n=function(e){c(e)};return Object(le.jsx)(r.Fragment,{children:Object(le.jsx)(d.a,{children:Object(le.jsxs)(j.a,{md:12,children:["list"===s&&Object(le.jsx)(Gt,{activePage:s,setActivePage:c,handleIClickPage:n,patientObj:e.patientObj}),"add"===s&&Object(le.jsx)(_t,{activePage:s,setActivePage:c,handleIClickPage:n,patientObj:e.patientObj}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(bt.a,{content:"Done",icon:"list",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){e.setActivePage(Object(p.a)(Object(p.a)({},e.activePage),{},{activePage:"home"}))}})})})]})})})},Kt=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Xt=function(e){var t=Kt(),a=Object(r.useState)(!1),s=Object(l.a)(a,2),c=s[0],n=(s[1],Object(r.useState)({})),i=Object(l.a)(n,2);i[0],i[1];return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(xe.a,{className:t.root,children:Object(le.jsxs)(pe.a,{children:[Object(le.jsxs)("h3",{children:["OTHERS - (Resquest ","& "," Result Form)"]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(Fe.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Syphilis test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)(Fe.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis B Testing"})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Hepatitis B virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Hepatitis C virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResultCT",id:"hivRequestResultCT",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Completed By"}),Object(le.jsx)(Ge.a,{type:"number",name:"completedBy",id:"completedBy",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Longitude"}),Object(le.jsx)(Ge.a,{type:"number",name:"longitude",id:"longitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Latitude"}),Object(le.jsx)(Ge.a,{type:"number",name:"latitude",id:"latitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Adhoc Code"}),Object(le.jsx)(Ge.a,{type:"number",name:"adhocCode",id:"adhocCode",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),c?Object(le.jsx)(pt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",className:t.button,startIcon:Object(le.jsx)(Ke.a,{}),onClick:function(){return t="basic",a="others",e.handleItemClick(t),void(e.completed.includes(a)||e.setCompleted([].concat(Object(Me.a)(e.completed),[a])));var t,a},style:{backgroundColor:"#014d88"},children:c?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})]})})})},Qt=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Jt=function(e){var t=Qt(),a=Object(i.g)(),s=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",c=e.patientObj&&e.patientObj?e.patientObj.id:"",n=Object(r.useState)(!1),d=Object(l.a)(n,2),j=d[0],b=d[1];console.log(e.patientObj);var u=Object(r.useState)({htsClientId:c,postTestCounselingKnowledgeAssessment:{},personId:s}),m=Object(l.a)(u,2),h=m[0],O=(m[1],Object(r.useState)({hivTestResult:"",hivTestBefore:"",hivRequestResult:"",hivRequestResultCt:"",clientReceivedHivTestResult:"",postTestCounseling:"",riskReduction:"",postTestDisclosure:"",bringPartnerHivtesting:"",childrenHivtesting:"",informationFp:"",partnerFpThanCondom:"",partnerFpUseCondom:"",correctCondomUse:"",condomProvidedToClient:"",unprotectedSexRegularPartnerLastThreeMonth:"",referredToServices:""})),x=Object(l.a)(O,2),f=x[0],g=x[1];Object(r.useEffect)((function(){e.patientObj&&e.patientObj.postTestCounselingKnowledgeAssessment?g(e.patientObj.postTestCounselingKnowledgeAssessment):""!==f.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Positive"!==e.patientObj.hivTestResult&&"Positive"!==e.patientObj.hivTestResult2?""!==f.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Negative"!==e.patientObj.hivTestResult&&"Negative"!==e.patientObj.hivTestResult2||(f.hivTestResult="False",g(Object(p.a)(Object(p.a)({},f),{},{hivTestResult:"False"}))):(f.hivTestResult="True",g(Object(p.a)(Object(p.a)({},f),{},{hivTestResult:"True"})))}),[e.patientObj,f.hivTestResult]);var S=function(e){g(Object(p.a)(Object(p.a)({},f),{},Object(ze.a)({},e.target.name,e.target.value)))},C=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Me.a)(e.completed),[a]))},T=function(t){t.preventDefault(),Object.values(f).every((function(e){return""===e}))?o.b.error("All post test fields are required"):(h.htsClientId=e.patientObj.id,h.postTestCounselingKnowledgeAssessment=f,h.personId=e.patientObj.personResponseDto.id,v.a.put("".concat(y,"hts/").concat(e.patientObj.id,"/post-test-counseling"),h,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){b(!1),e.setPatientObj(t.data),"True"===f.hivTestResult?C("recency-testing","post-test"):"False"===f.hivTestResult&&a.push("/")})).catch((function(e){if(b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))};return console.log(f.hivTestResult),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(xe.a,{className:t.root,children:Object(le.jsxs)(pe.a,{children:[Object(le.jsx)("h2",{children:"POST TEST COUNSELING"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(Fe.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"HIV test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivTestResult",id:"hivTestResult",value:f.hivTestResult,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"True",children:"Positive"}),Object(le.jsx)("option",{value:"False",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you been tested for HIV before within this year? *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivTestBefore",id:"hivTestBefore",value:f.hivTestBefore,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Not previously tested",children:"Not previously tested"}),Object(le.jsx)("option",{value:"Previously tested negative",children:"Previously tested negative"}),Object(le.jsx)("option",{value:"Previously tested positive in HIV care",children:"Previously tested positive in HIV care"}),Object(le.jsx)("option",{value:"Previously tested positive not in HIV care",children:"Previously tested positive not in HIV care"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"HIV Request and Result form signed by tester *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResult",id:"hivRequestResult",value:f.hivRequestResult,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResultCt",id:"hivRequestResultCt",value:f.hivRequestResultCt,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Client received HIV test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientReceivedHivTestResult",id:"clientReceivedHivTestResult",value:f.clientReceivedHivTestResult,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Post test counseling done *"}),Object(le.jsxs)("select",{className:"form-control",name:"postTestCounseling",id:"postTestCounseling",value:f.postTestCounseling,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Risk reduction plan developed *"}),Object(le.jsxs)("select",{className:"form-control",name:"riskReduction",id:"riskReduction",value:f.riskReduction,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Post test disclosure plan developed *"}),Object(le.jsxs)("select",{className:"form-control",name:"postTestDisclosure",id:"postTestDisclosure",value:f.postTestDisclosure,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Will bring partner(s) for HIV testing *"}),Object(le.jsxs)("select",{className:"form-control",name:"bringPartnerHivtesting",id:"bringPartnerHivtesting",value:f.bringPartnerHivtesting,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(qe.a,{children:["Will bring own children ","<5"," years for HIV testing *"]}),Object(le.jsxs)("select",{className:"form-control",name:"childrenHivtesting",id:"childrenHivtesting",value:f.childrenHivtesting,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Provided with information on FP and dual contraception *"}),Object(le.jsxs)("select",{className:"form-control",name:"informationFp",id:"informationFp",value:f.informationFp,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Client/Partner use FP methods (other than condom)*"}),Object(le.jsxs)("select",{className:"form-control",name:"partnerFpThanCondom",id:"partnerFpThanCondom",value:f.partnerFpThanCondom,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Client/Partner use condoms as (one) FP method "}),Object(le.jsxs)("select",{className:"form-control",name:"partnerFpUseCondom",id:"partnerFpUseCondom",value:f.partnerFpUseCondom,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Correct condom use demonstrated *"}),Object(le.jsxs)("select",{className:"form-control",name:"correctCondomUse",id:"correctCondomUse",value:f.correctCondomUse,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Condoms provided to client *"}),Object(le.jsxs)("select",{className:"form-control",name:"condomProvidedToClient",id:"condomProvidedToClient",value:f.condomProvidedToClient,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Client referred to other services *"}),Object(le.jsxs)("select",{className:"form-control",name:"referredToServices",id:"referredToServices",value:f.referredToServices,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)(xt.a,{success:!0,children:Object(le.jsxs)("h4",{children:["If client tests HIV negative, and HIV Risk Assessment Score ",">0"," or there is evidence for a STI syndrome, recommend re-testing after 3 months"]})}),j?Object(le.jsx)(pt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(bt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return C("hiv-test","hiv-test")}}),"True"===f.hivTestResult&&Object(le.jsx)(bt.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:T}),"False"===f.hivTestResult&&Object(le.jsx)(bt.a,{content:"Save & Finish",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:T})]})})]})})]})})})},Zt=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),$t=function(e){var t=Zt(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",s=e.patientObj&&e.patientObj?e.patientObj.id:"",c=Object(r.useState)(!1),n=Object(l.a)(c,2),i=n[0],d=n[1],j=Object(r.useState)({}),b=Object(l.a)(j,2),u=b[0],m=b[1],h=Object(r.useState)(""),O=Object(l.a)(h,2),x=O[0],f=O[1],g=Object(p.a)({},u),S=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Me.a)(e.completed),[a]))},C=Object(r.useState)({htsClientId:s,recency:{},personId:a}),T=Object(l.a)(C,2),R=T[0],D=(T[1],Object(r.useState)({optOutRTRI:"",optOutRTRITestName:"",optOutRTRITestDate:"",rencencyId:"",controlLine:"",verififcationLine:"",longTermLine:"",rencencyInterpretation:"",hasViralLoad:"",sampleCollectedDate:"",sampleReferanceNumber:"",dateSampleSentToPCRLab:"",sampleTestDate:"",sampleType:"",receivingPcrLab:"",viralLoadResultClassification:"",recencyResult:"",finalRecencyResult:""})),I=Object(l.a)(D,2),w=I[0],A=I[1];Object(r.useEffect)((function(){e.patientObj&&(A(e.patientObj&&null!==e.patientObj.recency?e.patientObj.recency:{}),e.patientObj.confirmatoryTest&&""!==e.patientObj.confirmatoryTest.date?f(e.patientObj.confirmatoryTest.date):e.patientObj.confirmatoryTest2&&""!==e.patientObj.confirmatoryTest2.date2?f(e.patientObj.confirmatoryTest2.date2):f("")),"true"===w.longTermLine&&"true"===w.verififcationLine&&"true"===w.controlLine?(w.rencencyInterpretation="Long Term",A(Object(p.a)(Object(p.a)({},w),{},Object(ze.a)({},"rencencyInterpretation","Long Term")))):"false"===w.longTermLine&&"true"===w.verififcationLine&&"true"===w.controlLine?(w.rencencyInterpretation="Recent",A(Object(p.a)(Object(p.a)({},w),{},Object(ze.a)({},"rencencyInterpretation","Recent")))):"false"===w.longTermLine&&"false"===w.verififcationLine&&"true"===w.controlLine?(w.rencencyInterpretation="Negative",A(Object(p.a)(Object(p.a)({},w),{},Object(ze.a)({},"rencencyInterpretation","Negative")))):"true"===w.longTermLine&&"true"===w.verififcationLine&&"false"===w.controlLine||"true"===w.longTermLine&&"false"===w.verififcationLine&&"true"===w.controlLine?(w.rencencyInterpretation="Invalid",A(Object(p.a)(Object(p.a)({},w),{},Object(ze.a)({},"rencencyInterpretation","Invalid")))):A(Object(p.a)(Object(p.a)({},w),{},Object(ze.a)({},"rencencyInterpretation","")))}),[w.longTermLine,w.verififcationLine,w.controlLine,e.patientObj]),console.log(e.patientObj);var P=function(e){if(m(Object(p.a)(Object(p.a)({},g),{},Object(ze.a)({},e.target.name,""))),"viralLoadResultClassification"===e.target.name)">=1000"===e.target.value?(w.finalRecencyResult="RITA Recent",A(Object(p.a)(Object(p.a)({},w),{},Object(ze.a)({},e.target.name,e.target.value)))):"<1000"===e.target.value?(w.finalRecencyResult="RITA Long term",A(Object(p.a)(Object(p.a)({},w),{},Object(ze.a)({},e.target.name,e.target.value)))):"Failed run"===e.target.value||"Invalid viral load result"===e.target.value?(w.finalRecencyResult="RITA Inconclusive",A(Object(p.a)(Object(p.a)({},w),{},Object(ze.a)({},e.target.name,e.target.value)))):A(Object(p.a)(Object(p.a)({},w),{},Object(ze.a)({},e.target.name,e.target.value)));else if("rencencyId"===e.target.name&&""!==e.target.value){var t=k(e.target.value);A(Object(p.a)(Object(p.a)({},w),{},Object(ze.a)({},e.target.name,t)))}else A(Object(p.a)(Object(p.a)({},w),{},Object(ze.a)({},e.target.name,e.target.value)))},k=function(e){return e.slice(0,10)};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(xe.a,{className:t.root,children:Object(le.jsxs)(pe.a,{children:[Object(le.jsx)("h2",{children:"RECENCY FORM"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(Fe.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"RENCENCY"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Opt Out of RTRI?*"}),Object(le.jsxs)("select",{className:"form-control",name:"optOutRTRI",id:"optOutRTRI",value:w.optOutRTRI,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-8"}),"false"===w.optOutRTRI&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Test Name *"}),Object(le.jsxs)("select",{className:"form-control",name:"optOutRTRITestName",id:"optOutRTRITestName",value:w.optOutRTRITestName,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Asante",children:"Asante"}),Object(le.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Test Date *"}),Object(le.jsx)(Ge.a,{type:"date",name:"optOutRTRITestDate",id:"optOutRTRITestDate",value:w.optOutRTRITestDate,onChange:P,min:""!==x&&null!==x?x:"",max:se(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Recency ID *"}),Object(le.jsx)(Ge.a,{className:"form-control",name:"rencencyId",id:"rencencyId",type:"text",value:w.rencencyId,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Control Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"controlLine",id:"controlLine",value:w.controlLine,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Verification Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"verififcationLine",id:"verififcationLine",value:w.verififcationLine,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Long Term Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"longTermLine",id:"longTermLine",value:w.longTermLine,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Recency Interpretation *"}),Object(le.jsx)(Ge.a,{className:"form-control",name:"rencencyInterpretation",id:"rencencyInterpretation",type:"text",value:w.rencencyInterpretation,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),"Recent"===w.rencencyInterpretation&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Has viral load request been made? *"}),Object(le.jsxs)("select",{className:"form-control",name:"hasViralLoad",id:"hasViralLoad",value:w.hasViralLoad,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===w.hasViralLoad&&Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Viral Load Classification :"}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Sample Collected Date"}),Object(le.jsx)(Ge.a,{className:"form-control",name:"sampleCollectedDate",id:"sampleCollectedDate",type:"date",value:w.sampleCollectedDate,min:w.optOutRTRITestDate,max:se(new Date).format("YYYY-MM-DD"),onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Sample Refernce Number"}),Object(le.jsx)(Ge.a,{className:"form-control",name:"sampleReferanceNumber",id:"sampleReferanceNumber",type:"text",value:w.sampleReferanceNumber,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.sampleReferanceNumber?Object(le.jsx)("span",{className:t.error,children:u.sampleReferanceNumber}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Sample Type"}),Object(le.jsxs)("select",{className:"form-control",name:"sampleType",id:"sampleType",value:w.sampleType,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"DBS",children:"DBS"}),Object(le.jsx)("option",{value:"Plasma",children:"Plasma"})]}),""!==u.sampleType?Object(le.jsx)("span",{className:t.error,children:u.sampleType}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date Sample Sent to PCR Lab"}),Object(le.jsx)(Ge.a,{className:"form-control",name:"dateSampleSentToPCRLab",id:"dateSampleSentToPCRLab",type:"date",min:w.optOutRTRITestDate,value:w.dateSampleSentToPCRLab,max:se(new Date).format("YYYY-MM-DD"),onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.dateSampleSentToPCRLab?Object(le.jsx)("span",{className:t.error,children:u.dateSampleSentToPCRLab}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Sample Test Date"}),Object(le.jsx)(Ge.a,{className:"form-control",name:"sampleTestDate",id:"sampleTestDate",type:"date",min:w.optOutRTRITestDate,max:se(new Date).format("YYYY-MM-DD"),value:w.sampleTestDate,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Receiving PCR Lab"}),Object(le.jsx)(Ge.a,{className:"form-control",name:"receivingPcrLab",id:"receivingPcrLab",type:"text",value:w.receivingPcrLab,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Viral Load Result Classification and Result (copies/ml)"}),Object(le.jsxs)("select",{className:"form-control",name:"viralLoadResultClassification",id:"viralLoadResultClassification",value:w.viralLoadResultClassification,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsxs)("option",{value:">=1000",children:[">= "," 1000"]}),Object(le.jsxs)("option",{value:"<1000",children:["< "," 1000"]}),Object(le.jsx)("option",{value:"Failed run",children:"Failed run"}),Object(le.jsx)("option",{value:"Invalid viral load result",children:"Invalid viral load result"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Final Recency Result"}),Object(le.jsx)(Ge.a,{className:"form-control",name:"finalRecencyResult",id:"finalRecencyResult",type:"text",disabled:!0,value:w.finalRecencyResult,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]}),i?Object(le.jsx)(pt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(bt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return S("post-test","post-test")}}),Object(le.jsx)(bt.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),R.htsClientId=s,R.recency=w,R.personId=a,console.log(w),v.a.put("".concat(y,"hts/").concat(s,"/recency"),R,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){d(!1),e.setPatientObj(t.data),S("indexing","recency-testing")})).catch((function(e){if(d(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})},ea=a(1042),ta=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}}})),aa=function(e){var t,a=ta(),c=(Object(i.g)(),Object(r.useState)([])),n=Object(l.a)(c,2),d=n[0],j=n[1],b=Object(r.useState)([]),u=Object(l.a)(b,2),m=u[0],h=u[1],O=Object(r.useState)({}),x=Object(l.a)(O,2),f=x[0],g=x[1],S=Object(r.useState)(!1),C=Object(l.a)(S,2),T=(C[0],C[1]),R=Object(p.a)({},f),D=s.a.useState(!1),I=Object(l.a)(D,2),w=I[0],A=I[1],P=function(){return A(!w)},k=Object(r.useState)([]),B=Object(l.a)(k,2),E=B[0],H=B[1],Y=Object(r.useState)(0),F=Object(l.a)(Y,2),L=F[0],M=F[1],z=Object(r.useState)({age:e.patientAge,dob:"",visitDate:"",dateOfBirth:"",dateOfRegistration:"",isDateOfBirthEstimated:"",targetGroup:"",testingSetting:"",modality:"",code:"",personId:"",riskAssessment:{},entryPoint:""}),V=Object(l.a)(z,2),W=V[0],_=V[1],q=Object(r.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:"",lastHivTestForceToHaveSex:"",lastHivTestHadAnal:"",lastHivTestInjectedDrugs:"",whatWasTheResult:"",lastHivTestDone:"",diagnosedWithTb:"",lastHivTestPainfulUrination:"",lastHivTestBloodTransfusion:"",lastHivTestVaginalOral:"",lastHivTestBasedOnRequest:""}),G=Object(l.a)(q,2),U=G[0],K=G[1];Object(r.useEffect)((function(){Q(),X()}),[e.patientObj]);var X=function(){v.a.get("".concat(y,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){j(e.data)})).catch((function(e){}))},Q=function(){v.a.get("".concat(y,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){h(e.data)})).catch((function(e){}))},J=function(e){g(Object(p.a)(Object(p.a)({},R),{},Object(ze.a)({},e.target.name,""))),"testingSetting"===e.target.name&&""!==e.target.value&&(!function(e){var t=e;v.a.get("".concat(y,"application-codesets/v2/").concat(t),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){H(e.data)})).catch((function(e){}))}(e.target.value),_(Object(p.a)(Object(p.a)({},W),{},Object(ze.a)({},e.target.name,e.target.value)))),"modality"===e.target.name&&""!==e.target.value&&("TEST_SETTING_STANDALONE_HTS_PMTCT_(ANC1_ONLY)"===e.target.value?(M(1),_(Object(p.a)(Object(p.a)({},W),{},Object(ze.a)({},e.target.name,e.target.value)))):"TEST_SETTING_STANDALONE_HTS_EMERGENCY"===e.target.value?_(Object(p.a)(Object(p.a)({},W),{},Object(ze.a)({},e.target.name,e.target.value))):"TEST_SETTING_STANDALONE_HTS_INDEX"===e.target.value||"TEST_SETTING_STANDALONE_HTS_PMTCT_(POST_ANC1:_PREGNANCYL&DBF)"===e.target.value||"TEST_SETTING_STANDALONE_HTS_STI"===e.target.value||"TEST_SETTING_STANDALONE_HTS_TB"===e.target.value||"TEST_SETTING_CT_STI"===e.target.value||"TEST_SETTING_CT_PMTCT"===e.target.value||"TEST_SETTING_CT_TB"===e.target.value||"TEST_SETTING_TB_TB"===e.target.value||"TEST_SETTING_STI_STI"===e.target.value?(M(1),_(Object(p.a)(Object(p.a)({},W),{},Object(ze.a)({},e.target.name,e.target.value)))):"TEST_SETTING_OPD_STI"===e.target.value?_(Object(p.a)(Object(p.a)({},W),{},Object(ze.a)({},e.target.name,e.target.value))):"TEST_SETTING_OUTREACH_INDEX"===e.target.value?(M(1),_(Object(p.a)(Object(p.a)({},W),{},Object(ze.a)({},e.target.name,e.target.value)))):(M(0),_(Object(p.a)(Object(p.a)({},W),{},Object(ze.a)({},e.target.name,e.target.value))))),_(Object(p.a)(Object(p.a)({},W),{},Object(ze.a)({},e.target.name,e.target.value)))};var Z=function(){return R.dateVisit=W.visitDate?"":"This field is required.",R.testingSetting=W.testingSetting?"":"This field is required.",R.modality=W.modality?"":"This field is required.",e.patientObj.age>15&&(R.targetGroup=W.targetGroup?"":"This field is required."),g(Object(p.a)({},R)),Object.values(R).every((function(e){return""==e}))},$=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Me.a)(e.completed),[a]))},ee=Object.values(U);t=ee.filter((function(e){return"true"===e}));var te=function(e){K(Object(p.a)(Object(p.a)({},U),{},Object(ze.a)({},e.target.name,e.target.value)))};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(xe.a,{className:a.root,children:Object(le.jsxs)(pe.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"RISK STRATIFICATION"}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Modality"}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Entry Point "}),Object(le.jsxs)("select",{className:"form-control",name:"entryPoint",id:"entryPoint",value:W.entryPoint,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Facility",children:"Facility"}),Object(le.jsx)("option",{value:"Community",children:"Community"})]}),""!==f.entryPoint?Object(le.jsx)("span",{className:a.error,children:f.entryPoint}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"",children:"Visit Date * "}),Object(le.jsx)(Ge.a,{type:"date",name:"visitDate",id:"visitDate",value:W.visitDate,onChange:J,min:"1983-12-31",max:se(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==f.dateVisit?Object(le.jsx)("span",{className:a.error,children:f.dateVisit}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Setting"}),Object(le.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:W.testingSetting,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),d.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==f.testingSetting?Object(le.jsx)("span",{className:a.error,children:f.testingSetting}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Modality"}),Object(le.jsxs)("select",{className:"form-control",name:"modality",id:"modality",value:W.modality,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),E.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.code)}))]}),""!==f.modality?Object(le.jsx)("span",{className:a.error,children:f.modality}):""]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Target Group *"}),Object(le.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:J,value:W.targetGroup,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),m.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==f.targetGroup?Object(le.jsx)("span",{className:a.error,children:f.targetGroup}):""]})}),Object(le.jsx)("br",{}),e.patientAge>15&&Object(le.jsxs)(le.Fragment,{children:[""!==W.targetGroup&&"TARGET_GROUP_GEN_POP"===W.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Is this HIV test based on a Clinician/Doctor/Health Care Provider\u2019s  request? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestBasedOnRequest",id:"lastHivTestBasedOnRequest",value:U.lastHivTestBasedOnRequest,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.lastHivTestBasedOnRequest?Object(le.jsx)("span",{className:a.error,children:f.lastHivTestBasedOnRequest}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"When was your last HIV test done?  *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestDone",id:"lastHivTestDone",value:U.lastHivTestDone,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.lastHivTestDone?Object(le.jsx)("span",{className:a.error,children:f.lastHivTestDone}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"What was the result? *"}),Object(le.jsxs)("select",{className:"form-control",name:"whatWasTheResult",id:"whatWasTheResult",value:U.whatWasTheResult,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.whatWasTheResult?Object(le.jsx)("span",{className:a.error,children:f.whatWasTheResult}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Since your last HIV test, have you had anal or vaginal or oral sex without a condom with someone who was HIV positive or unaware of their HIV status? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestVaginalOral",id:"lastHivTestVaginalOral",value:U.lastHivTestVaginalOral,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.lastHivTestVaginalOral?Object(le.jsx)("span",{className:a.error,children:f.lastHivTestVaginalOral}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Since your last HIV test, have you had a blood or blood product transfusion? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestBloodTransfusion",id:"lastHivTestBloodTransfusion",value:U.lastHivTestBloodTransfusion,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.lastHivTestBloodTransfusion?Object(le.jsx)("span",{className:a.error,children:f.lastHivTestBloodTransfusion}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Since your last HIV test, have you experienced painful urination, lower abdominal pain, vaginal or penile discharge, pain during sexual intercourse, thick, cloudy, or foul smelling discharge and/or small bumps or blisters near the mouth, penis, vagina, or anal areas? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestPainfulUrination",id:"lastHivTestPainfulUrination",value:U.lastHivTestPainfulUrination,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.lastHivTestPainfulUrination?Object(le.jsx)("span",{className:a.error,children:f.lastHivTestPainfulUrination}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you been diagnosed with TB or currently have any of the following symptoms : cough, fever, weight loss, night sweats? *"}),Object(le.jsxs)("select",{className:"form-control",name:"diagnosedWithTb",id:"diagnosedWithTb",value:U.diagnosedWithTb,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.diagnosedWithTb?Object(le.jsx)("span",{className:a.error,children:f.diagnosedWithTb}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Since your last HIV test, have you ever injected drugs, shared needles or other sharp objects with someone known to be HIV positive or who you didn\u2019t know their HIV status? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestInjectedDrugs",id:"sexUnderInfluence",value:U.lastHivTestInjectedDrugs,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.lastHivTestInjectedDrugs?Object(le.jsx)("span",{className:a.error,children:f.lastHivTestInjectedDrugs}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Since your last HIV test, have you had anal, oral or vaginal sex in exchange for money or other benefits? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestHadAnal",id:"lastHivTestHadAnal",value:U.lastHivTestHadAnal,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.lastHivTestHadAnal?Object(le.jsx)("span",{className:a.error,children:f.lastHivTestHadAnal}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Since your last HIV test, have you been forced to have sex? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestForceToHaveSex",id:"moreThanOneSexPartnerLastThreeMonths",value:U.lastHivTestForceToHaveSex,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.lastHivTestForceToHaveSex?Object(le.jsx)("span",{className:a.error,children:f.lastHivTestForceToHaveSex}):""]})}),Object(le.jsx)("br",{})]}),""!==W.targetGroup&&"TARGET_GROUP_GEN_POP"!==W.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth?"}),Object(le.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:U.experiencePain,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.experiencePain?Object(le.jsx)("span",{className:a.error,children:f.experiencePain}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? *"}),Object(le.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:U.haveSexWithoutCondom,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.haveSexWithoutCondom?Object(le.jsx)("span",{className:a.error,children:f.haveSexWithoutCondom}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you had a condom burst with your partner during sexual intercourse?  *"}),Object(le.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:U.haveCondomBurst,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.haveCondomBurst?Object(le.jsx)("span",{className:a.error,children:f.haveCondomBurst}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind?"}),Object(le.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:U.abuseDrug,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.abuseDrug?Object(le.jsx)("span",{className:a.error,children:f.abuseDrug}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you/partner had any blood or blood product transfusion?"}),Object(le.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:U.bloodTransfusion,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.bloodTransfusion?Object(le.jsx)("span",{className:a.error,children:f.bloodTransfusion}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you/partner experienced coughing, weight loss, fever, night sweats consistently?"}),Object(le.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:U.consistentWeightFeverNightCough,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.consistentWeightFeverNightCough?Object(le.jsx)("span",{className:a.error,children:f.consistentWeightFeverNightCough}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Have you/partner paid or sold vaginal, anal or oral sex? *"}),Object(le.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:U.soldPaidVaginalSex,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==f.soldPaidVaginalSex?Object(le.jsx)("span",{className:a.error,children:f.soldPaidVaginalSex}):""]})}),Object(le.jsx)("br",{})]})]}),Object(le.jsx)("br",{}),Object(le.jsxs)(xt.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score "}),Object(le.jsxs)("b",{children:["Score :",L+(e.patientAge>15?t.length:0)]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(bt.a,{content:"Save",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(a){a.preventDefault(),e.patientObj.targetGroup=W.targetGroup,e.patientObj.testingSetting=W.testingSetting,e.patientObj.dateVisit=W.visitDate,e.patientObj.riskAssessment=U,W.riskAssessment=U,(L>0||t.length>0)&&e.patientAge>15&&(Z()?v.a.post("".concat(y,"risk-stratification"),W,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){T(!1),W.code=t.data.code,e.setExtra(W),$("basic","risk"),e.setHideOtherMenu(!1)})).catch((function(e){if(T(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})),e.patientAge<15?Z()?v.a.post("".concat(y,"risk-stratification"),W,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){T(!1),e.patientObj.riskStratificationResponseDto=t.data,W.code=t.data.code,e.setExtra(W),e.setHideOtherMenu(!1),$("basic","risk")})).catch((function(e){if(T(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...")})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}):(e.setExtra(W),Z()?v.a.post("".concat(y,"risk-stratification"),W,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){T(!1),e.patientObj.riskStratificationResponseDto=t.data,W.code=t.data.code,e.setExtra(W)})).catch((function(e){if(T(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}))}})})})]})})]})}),Object(le.jsxs)(ea.a,{show:w,toggle:P,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(le.jsx)(ea.a.Header,{children:Object(le.jsx)(ea.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(ea.a.Body,{children:Object(le.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(le.jsx)(ea.a.Footer,{children:Object(le.jsx)(bt.a,{onClick:P,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})},ra=Object(te.a)((function(e){return{error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),sa=function(e){ra(),Object(i.g)();var t=Object(i.h)().state;console.log(e);var a=Object(r.useState)(!1),s=Object(l.a)(a,2),c=(s[0],s[1],Object(r.useState)("risk")),n=Object(l.a)(c,2),d=n[0],j=n[1],b=Object(r.useState)([]),u=Object(l.a)(b,2),m=u[0],h=u[1],O=Object(r.useState)(!0),p=Object(l.a)(O,2),x=p[0],f=p[1],g=Object(r.useState)({breastFeeding:"",capturedBy:"",cd4:{},clientCode:"",riskStratificationCode:"",confirmatoryTest:{},dateVisit:"",extra:{},firstTimeVisit:"",hepatitisTesting:{},hivTestResult:"",id:"",indexClient:"",indexClientCode:"",indexElicitation:[{address:"",altPhoneNumber:"",archived:0,currentlyLiveWithPartner:!0,datePartnerCameForTesting:"",dob:"",extra:{},facilityId:0,firstName:"",hangOutSpots:"",htsClient:{archived:0,breastFeeding:0,capturedBy:"",cd4:{},clientCode:"",confirmatoryTest:{},dateVisit:"",extra:{},facilityId:0,firstTimeVisit:!0,hepatitisTesting:{},hivTestResult:"",id:0,indexClient:!0,indexClientCode:"",indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:0,numWives:0,others:{},person:{active:"",address:{},archived:0,contact:{},contactPoint:{},createdDate:"",dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",facilityId:0,firstName:"string",gender:{},hospitalNumber:"",id:"",identifier:{},isDateOfBirthEstimated:!0,lastModifiedDate:"",maritalStatus:{},new:!0,ninNumber:"",organization:{},otherName:"",sex:"",surname:"",uuid:""},personUuid:"",postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:!0,recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:0,tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",uuid:""},htsClientUuid:"",id:"",isDateOfBirthEstimated:!0,lastName:"",middleName:"",notificationMethod:"",partnerTestedPositive:"",phoneNumber:"",physicalHurt:"",relationshipToIndexClient:"",sex:"",sexuallyUncomfortable:"",threatenToHurt:"",uuid:""}],indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:"",numWives:"",others:{},personId:"",personResponseDto:{active:!0,address:{address:[{city:"",line:[""],stateId:"",district:"",countryId:1,postalCode:"",organisationUnitId:0}]},biometricStatus:!0,checkInDate:"",contact:{},contactPoint:{contactPoint:[{type:"phone",value:""}]},dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",encounterDate:"",facilityId:"",firstName:"",gender:{},id:"",identifier:{},isDateOfBirthEstimated:!0,maritalStatus:{},ninNumber:"",organization:{},otherName:"",sex:"",surname:"",visitId:""},postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:"",recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:"",tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",riskStratificationResponseDto:null}),v=Object(l.a)(g,2),N=v[0],y=v[1],S=Object(r.useState)({risk:"",index:"",pre:"",post:"",recency:"",elicitation:""}),C=Object(l.a)(S,2),T=C[0],R=C[1],D=function(e){j(e)};return Object(r.useEffect)((function(){t&&t.patientObj&&y(t.patientObject)}),[]),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)(Ve.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h3",{children:"HIV COUNSELLING AND TESTING"}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"col-md-3 col-sm-3 col-lg-3",children:Object(le.jsxs)(et.a,{size:"large",vertical:!0,style:{backgroundColor:"#014D88"},children:[Object(le.jsx)(et.a.Item,{name:"inbox",active:"risk"===d,onClick:function(){return D("risk")},style:{backgroundColor:"risk"===d?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:[" Risk Stratification",m.includes("risk")&&Object(le.jsx)(lt.a,{name:"check",color:"green"})]})}),!1===x&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(et.a.Item,{name:"inbox",active:"basic"===d,onClick:function(){return D("basic")},style:{backgroundColor:"basic"===d?"#000":""},disabled:"basic"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:[" Basic Information",m.includes("basic")&&Object(le.jsx)(lt.a,{name:"check",color:"green"})]})}),e.patientObj.age>=15&&Object(le.jsx)(et.a.Item,{name:"spam",active:"pre-test-counsel"===d,onClick:function(){return D("pre-test-counsel")},style:{backgroundColor:"pre-test-counsel"===d?"#000":""},disabled:"pre-test-counsel"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Pre Test Counseling",m.includes("pre-test-counsel")&&Object(le.jsx)(lt.a,{name:"check",color:"green"})]})}),Object(le.jsx)(et.a.Item,{name:"inbox",active:"hiv-test"===d,onClick:function(){return D("hiv-test")},style:{backgroundColor:"hiv-test"===d?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Request ","&"," Result Form",m.includes("hiv-test")&&Object(le.jsx)(lt.a,{name:"check",color:"green"})]})}),Object(le.jsx)(et.a.Item,{name:"spam",active:"post-test"===d,onClick:function(){return D("post-test")},style:{backgroundColor:"post-test"===d?"#000":""},disabled:"post-test"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Post Test Counseling",m.includes("post-test")&&Object(le.jsx)(lt.a,{name:"check",color:"green"})]})}),Object(le.jsx)(et.a.Item,{name:"spam",active:"recency-testing"===d,onClick:function(){return D("recency-testing")},style:{backgroundColor:"recency-testing"===d?"#000":""},disabled:"recency-testing"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["HIV Recency Testing",m.includes("recency-testing")&&Object(le.jsx)(lt.a,{name:"check",color:"green"})]})}),Object(le.jsx)(et.a.Item,{name:"spam",active:"indexing"===d,onClick:function(){return D("indexing")},style:{backgroundColor:"indexing"===d?"#000":""},disabled:"indexing"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Index Notification Services - Elicitation",m.includes("indexing")&&Object(le.jsx)(lt.a,{name:"check",color:"green"})]})})]})]})}),Object(le.jsxs)("div",{className:"col-md-9 col-sm-9 col-lg-9 ",style:{backgroundColor:"#fff",margingLeft:"-50px",paddingLeft:"-20px"},children:["risk"===d&&Object(le.jsx)(aa,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,setHideOtherMenu:f,patientAge:e.patientObj.age,setExtra:R,extra:T,activePage:e.activePage,setActivePage:e.setActivePage}),"basic"===d&&Object(le.jsx)(Ft,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientObj.age,setExtra:R,extra:T}),"pre-test-counsel"===d&&Object(le.jsx)(Mt,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientObj.age}),"hiv-test"===d&&Object(le.jsx)(Vt,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientObj.age}),"post-test"===d&&Object(le.jsx)(Jt,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientObj.age,patientsHistory:e.patients}),"indexing"===d&&Object(le.jsx)(Ut,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientObj.age}),"recency-testing"===d&&Object(le.jsx)($t,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientObj.age}),"others"===d&&Object(le.jsx)(Xt,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientObj.age})]})]})})})})]})};var ca=Object(ke.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}))((function(e){var t=Object(i.g)(),a=Object(r.useState)(!1),s=Object(l.a)(a,2),c=s[0],n=s[1],o=Object(r.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"create",obj:{}}),d=Object(l.a)(o,2),j=d[0],b=d[1],u=e.classes,m=t.location&&t.location.state?t.location.state.patientObj:{};return Object(le.jsxs)("div",{className:u.root,children:[Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsxs)("h4",{children:[" ",Object(le.jsx)(S.b,{to:"/",children:"PMTCT /"})," Patient Dashboard"]})})})}),Object(le.jsx)(Be.a,{children:Object(le.jsxs)(Ee.a,{children:[Object(le.jsx)($e,{patientObj:m,setArt:n,setActiveContent:b}),Object(le.jsx)(at,{patientObj:m,art:c,setActiveContent:b}),Object(le.jsx)("br",{}),"biometrics"===j.route&&Object(le.jsx)(Bt,{patientObj:m,setActiveContent:b,activeContent:j}),"consultation"===j.route&&Object(le.jsx)(mt,{patientObj:m,setActiveContent:b,activeContent:j}),"anc-pnc"===j.route&&Object(le.jsx)(gt,{patientObj:m,setActiveContent:b,activeContent:j}),"anc-enrollment"===j.route&&Object(le.jsx)(Nt,{patientObj:m,setActiveContent:b,activeContent:j}),"labour-delivery"===j.route&&Object(le.jsx)(St,{patientObj:m,setActiveContent:b,activeContent:j}),"pmtct-hts"===j.route&&Object(le.jsx)(sa,{patientObj:m,setActiveContent:b,activeContent:j})]})})]})})),na=a(270),ia=a(133),oa=a(106),la=a(1013),da=a(405),ja=a.n(da);a(466),a(795);ia.b.add(oa.a,oa.b,oa.c,oa.d);var ba=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),ua=function(e){var t,a=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",sexId:"",ninNumber:""}),c=Object(l.a)(a,2),n=c[0],d=c[1],j=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),b=Object(l.a)(j,2),u=b[0],m=b[1],x=Object(r.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),f=Object(l.a)(x,2),g=(f[0],f[1],Object(r.useState)([])),C=Object(l.a)(g,2),T=C[0],R=C[1],D=Object(r.useState)(!1),I=Object(l.a)(D,2),w=I[0],A=(I[1],Object(r.useState)(!1)),P=Object(l.a)(A,2),k=P[0],B=P[1],E=Object(r.useState)(!0),H=Object(l.a)(E,2),Y=H[0],F=H[1],L=Object(r.useState)(!1),M=Object(l.a)(L,2),z=M[0],V=M[1],W=Object(r.useState)(null),_=Object(l.a)(W,2),q=(_[0],_[1],Object(r.useState)([])),G=Object(l.a)(q,2),U=G[0],K=G[1],X=Object(r.useState)([]),Q=Object(l.a)(X,2),J=Q[0],Z=Q[1],$=Object(r.useState)([]),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ce=Object(r.useState)([]),ne=Object(l.a)(ce,2),ie=ne[0],de=ne[1],je=Object(r.useState)([]),be=Object(l.a)(je,2),ue=be[0],me=be[1],he=Object(r.useState)([]),Oe=Object(l.a)(he,2),pe=Oe[0],fe=Oe[1],ge=Object(r.useState)([]),ve=Object(l.a)(ge,2),Ne=ve[0],ye=ve[1],Se=Object(r.useState)([]),Ce=Object(l.a)(Se,2),Te=Ce[0],Re=Ce[1],De=Object(r.useState)({}),Ie=Object(l.a)(De,2),we=Ie[0],Ae=Ie[1],Pe=Object(r.useState)([]),ke=Object(l.a)(Pe,2),Be=(ke[0],ke[1]),Ee=Object(r.useState)({person:"",hivEnrollment:""}),He=Object(l.a)(Ee,2),Ye=(He[0],He[1],e.location&&e.location.state?e.location.state.user:null),Fe=ba(),Le=Object(i.g)(),Ve=Object(i.h)(),Ue=Object(r.useState)(!1),Xe=Object(l.a)(Ue,2),Qe=(Xe[0],Xe[1]),Je=Object(r.useState)({ancNo:"",gaweeks:"",gravida:"",expectedDeliveryDate:"",lmp:"",parity:"",hivDiognosicTime:"",referredSyphilisTreatment:"",testResultSyphilis:"",testedSyphilis:"",treatedSyphilis:"",personDto:{},pmtctHtsInfo:{},syphilisInfo:{},partnerNotification:{}}),Ze=Object(l.a)(Je,2),$e=Ze[0],et=Ze[1],tt=Object(r.useState)([]),at=Object(l.a)(tt,2),rt=(at[0],at[1]),st=Object(r.useState)([]),nt=Object(l.a)(st,2),it=(nt[0],nt[1]),ot=Object(r.useState)([]),lt=Object(l.a)(ot,2),dt=(lt[0],lt[1]),jt=Object(r.useState)([]),bt=Object(l.a)(jt,2),ut=(bt[0],bt[1]),mt=Object(r.useState)([]),ht=Object(l.a)(mt,2),xt=(ht[0],ht[1]),ft=Object(r.useState)([]),gt=Object(l.a)(ft,2),vt=(gt[0],gt[1]),Nt=Object(r.useState)([]),yt=Object(l.a)(Nt,2),St=(yt[0],yt[1]),Ct=Object(r.useState)(!1),Tt=Object(l.a)(Ct,2),Rt=(Tt[0],Tt[1],Object(r.useState)(!1)),Dt=Object(l.a)(Rt,2),It=(Dt[0],Dt[1],Object(r.useState)("false")),wt=Object(l.a)(It,2),At=(wt[0],wt[1],Object(r.useState)(!1)),Pt=Object(l.a)(At,2),kt=Pt[0],Bt=Pt[1],Et=Object(r.useState)(!1),Yt=Object(l.a)(Et,2),Ft=(Yt[0],Yt[1]),Lt=s.a.useState(!1),Mt=Object(l.a)(Lt,2),zt=Mt[0],Vt=Mt[1],Wt=function(){return Vt(!zt)},_t=Ve.state;t=_t?_t.patientId:null;var qt=Object(p.a)({},we);Object(r.useEffect)((function(){Gt(),Ut(),Kt(),Xt(),Qt(),Jt(),ia(),oa(),da(),ua(),ma(),ha(),Oa(),Zt(),n.dateOfRegistration<n.dob&&alert("Date of registration can not be earlier than date of birth")}),[n.dateOfRegistration]);var Gt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,K(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Ut=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,Z(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Kt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,re(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Xt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,de(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Qt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,me(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Jt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(y,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(N)}});case 2:t=e.sent,Be(t.data);case 4:case"end":return e.stop()}}),e)}))),[]),Zt=function(){v.a.get("".concat(y,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){fe(e.data)})).catch((function(e){}))};var $t=function(e){"Actual"==e.target.value?F(!0):"Estimated"==e.target.value&&F(!1)},ta=function(e){if(Ae(Object(p.a)(Object(p.a)({},qt),{},Object(ze.a)({},e.target.name,""))),d(Object(p.a)(Object(p.a)({},n),{},Object(ze.a)({},e.target.name,e.target.value))),"sexId"===e.target.name&&"377"===e.target.value&&Qe(!0),"firstName"===e.target.name&&""!==e.target.value){var t=ca(e.target.value);d(Object(p.a)(Object(p.a)({},n),{},Object(ze.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var a=ca(e.target.value);d(Object(p.a)(Object(p.a)({},n),{},Object(ze.a)({},e.target.name,a)))}if("middleName"===e.target.name&&""!==e.target.value){var r=ca(e.target.value);d(Object(p.a)(Object(p.a)({},n),{},Object(ze.a)({},e.target.name,r)))}if("ninNumber"===e.target.name&&""!==e.target.value){var s=fa(e.target.value);d(Object(p.a)(Object(p.a)({},n),{},Object(ze.a)({},e.target.name,s)))}if("hospitalNumber"===e.target.name&&""!==e.target.value){var c=function(){var t=Object(O.a)(Object(h.a)().mark((function t(){var a;return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,v.a.post("".concat(y,"patient/exist/hospital-number"),a,{headers:{Authorization:"Bearer ".concat(N),"Content-Type":"text/plain"}});case 3:!0!==t.sent.data?(Bt(!1),we.hospitalNumber="",et(Object(p.a)(Object(p.a)({},$e),{},{uniqueId:e.target.value})),Ft(!0)):(we.hospitalNumber="",o.b.error("Error! Hosiptal Number already exist"),Bt(!0),Ft(!1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();c()}},aa=function(e){var t=ue.find((function(t){return t.id==e}));return t?t.display:""},ra=function(e){m(Object(p.a)(Object(p.a)({},u),{},Object(ze.a)({},e.target.name,e.target.value)))},sa=function(){var e=Object(O.a)(Object(h.a)().mark((function e(a){var r,s,c,i,l,d;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),qt.firstName=n.firstName?"":"First Name is required",qt.hospitalNumber=n.hospitalNumber?"":"Hospital Number  is required.",qt.lastName=n.lastName?"":"Last Name  is required.",qt.sexId=n.sexId?"":"Gender is required.",qt.dateOfRegistration=n.dateOfRegistration?"":"Date of Registration is required.",qt.educationId=n.educationId?"":"Education is required.",qt.address=n.address?"":"Address is required.",qt.phoneNumber=n.phoneNumber?"":"Phone Number  is required.",qt.countryId=n.countryId?"":"Country is required.",qt.stateId=n.stateId?"":"State is required.",qt.district=n.district?"":"Province/LGA is required.",qt.gaweeks=$e.gaweeks?"":"This field is required",qt.gravida=$e.gravida?"":"This field is required",qt.referredSyphilisTreatment=$e.referredSyphilisTreatment?"":"This field is required",qt.lmp=$e.lmp?"":"This field is required",qt.parity=$e.parity?"":"This field is required",qt.testedSyphilis=$e.testedSyphilis?"":"This field is required",qt.treatedSyphilis=$e.treatedSyphilis?"":"This field is required",qt.sourceOfReferral=$e.sourceOfReferral?"":"This field is required",qt.testResultSyphilis=$e.testResultSyphilis?"":"This field is required",Ae(Object(p.a)({},qt)),!Object.values(qt).every((function(e){return""==e}))){e.next=23;break}return r=[],T&&T.length>0&&T.map((function(e){var t={address:{line:[e.address]},contactPoint:{type:"phone",value:e.phone},firstName:e.firstName,fullName:e.firstName+" "+e.middleName+" "+e.lastName,relationshipId:e.relationshipId,surname:e.lastName,otherName:e.middleName};r.push(t)})),e.prev=4,s={active:!0,address:[{city:n.address,countryId:n.countryId,district:n.district,line:[n.landmark],organisationUnitId:0,postalCode:"",stateId:n.stateId}],contact:r,contactPoint:[],dateOfBirth:n.dob,deceased:!1,deceasedDateTime:null,firstName:n.firstName,genderId:n.sexId,sexId:n.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:n.hospitalNumber}],otherName:n.middleName,maritalStatusId:n.maritalStatusId,surname:n.lastName,educationId:n.educationId,employmentStatusId:n.employmentStatusId,dateOfRegistration:n.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=n.dateOfBirth,ninNumber:n.ninNumber},c={type:"phone",value:n.phoneNumber},n.email&&(i={type:"email",value:n.email},s.contactPoint.push(i)),n.altPhonenumber&&(l={type:"altphone",value:n.altPhonenumber},s.contactPoint.push(l)),s.contactPoint.push(c),s.id=t,$e.personDto=s,console.log($e),e.next=15,v.a.post("".concat(y,"pmtct/anc/anc-new-registration"),$e,{headers:{Authorization:"Bearer ".concat(N)}});case 15:e.sent,o.b.success("Patient Register successful",{position:o.b.POSITION.BOTTOM_CENTER}),Le.push("/"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),e.t0.response&&e.t0.response.data?(d=e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.message?e.t0.response.data.apierror.message:"Something went wrong, please try again",e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.message&&e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.subErrors[0].message?o.b.error(e.t0.response.data.apierror.message+" : "+e.t0.response.data.apierror.subErrors[0].field+" "+e.t0.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(d,{position:o.b.POSITION.BOTTOM_CENTER})):o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER});case 23:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}(),ca=function(e){return e.replace(/[^a-z]/gi,"")},ia=function(){v.a.get("".concat(y,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){rt(e.data)})).catch((function(e){}))},oa=function(){v.a.get("".concat(y,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){it(e.data)})).catch((function(e){}))},da=function(){v.a.get("".concat(y,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){dt(e.data)})).catch((function(e){}))},ua=function(){v.a.get("".concat(y,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){ut(e.data)})).catch((function(e){}))},ma=function(){v.a.get("".concat(y,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){xt(e.data)})).catch((function(e){}))},ha=function(){v.a.get("".concat(y,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){vt(e.data)})).catch((function(e){}))},Oa=function(){v.a.get("".concat(y,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){St(e.data)})).catch((function(e){}))},pa=function(e){Ae(Object(p.a)(Object(p.a)({},qt),{},Object(ze.a)({},e.target.name,""))),et(Object(p.a)(Object(p.a)({},$e),{},Object(ze.a)({},e.target.name,e.target.value)))},xa=function(e,t){d(Object(p.a)(Object(p.a)({},n),{},Object(ze.a)({},t,e.slice(0,10))))},fa=function(e){return e.slice(0,11)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsxs)("h4",{children:[" ",Object(le.jsx)(S.b,{to:"/",children:"PMTCT /"})," Patient Registration"]})})})}),Object(le.jsx)(S.b,{to:{pathname:"/",state:"users"},children:Object(le.jsx)(ae.a,{variant:"contained",color:"primary",className:" float-end mr-10 pr-10",style:{backgroundColor:"#014d88",fontWeight:"bolder",margingRight:"-40px"},startIcon:Object(le.jsx)(oe.a,{}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(xe.a,{className:Fe.root,children:Object(le.jsx)(la.a,{children:Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)(We.a,{children:[Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===Ye?"Basic Information":"Edit User Information"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsxs)("div",{className:"basic-form",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"dateOfRegistration",children:"Date of Registration* "}),Object(le.jsx)(Ge.a,{className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",min:"1983-12-31",max:se(new Date).format("YYYY-MM-DD"),value:n.dateOfRegistration,onChange:ta,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==we.dateOfRegistration?Object(le.jsx)("span",{className:Fe.error,children:we.dateOfRegistration}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"patientId",children:"Hospital Number* "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:n.hospitalNumber,onChange:ta,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==we.hospitalNumber?Object(le.jsx)("span",{className:Fe.error,children:we.hospitalNumber}):"",!0===kt?Object(le.jsx)("span",{className:Fe.error,children:"Hospital number already exist"}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"patientId",children:"EMR Number* "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:1094328,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"firstName",children:"First Names *"}),Object(le.jsx)(Ge.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:n.firstName,onChange:ta,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==we.firstName?Object(le.jsx)("span",{className:Fe.error,children:we.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Middle Name"}),Object(le.jsx)(Ge.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:n.middleName,onChange:ta,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Last Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:n.lastName,onChange:ta,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==we.lastName?Object(le.jsx)("span",{className:Fe.error,children:we.lastName}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Sex *"}),Object(le.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:ta,value:n.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),U.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==we.sexId?Object(le.jsx)("span",{className:Fe.error,children:we.sexId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return $t(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return $t(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date "}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",min:"1940-01-01",id:"dob",max:n.dateOfRegistration,value:n.dob,onChange:function(e){if(e.target.value){var t=new Date,a=new Date(e.target.value),r=t.getFullYear()-a.getFullYear(),s=t.getMonth()-a.getMonth();s<18?(alert("The child is less than 18months"),B(!0)):B(!1),(s<0||0===s&&t.getDate()<a.getDate())&&r--,n.age=r}else d(Object(p.a)(Object(p.a)({},n),{},{age:""}));d(Object(p.a)(Object(p.a)({},n),{},{dob:e.target.value})),""!==n.age&&n.age>=60&&Wt()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Age"}),Object(le.jsx)("input",{type:"number",name:"age",className:"form-control",id:"age",min:"1",value:n.age,disabled:Y,onChange:function(e){if(!Y&&e.target.value){""!==e.target.value&&e.target.value>=60&&Wt(),e.target.value<=1?B(!0):B(!1);var t=new Date;t.setDate(15),t.setMonth(5);var a=se(t.toISOString()).add(-1*e.target.value,"years");n.dob=se(a).format("YYYY-MM-DD")}d(Object(p.a)(Object(p.a)({},n),{},{age:Math.abs(e.target.value)}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Marital Status"}),Object(le.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:ta,value:n.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),J.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Employment Status *"}),Object(le.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:ta,value:n.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),ie.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==we.employmentStatusId?Object(le.jsx)("span",{className:Fe.error,children:we.employmentStatusId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Education Level *"}),Object(le.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:ta,value:n.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),te.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==we.educationId?Object(le.jsx)("span",{className:Fe.error,children:we.educationId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"ninNumber",children:"National Identity Number (NIN)  "}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"ninNumber",value:n.ninNumber,id:"ninNumber",onChange:ta,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Phone Number *"}),Object(le.jsx)(Ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:n.phoneNumber,onChange:function(e){xa(e,"phoneNumber")}}),""!==we.phoneNumber?Object(le.jsx)("span",{className:Fe.error,children:we.phoneNumber}):""]})}),Object(le.jsx)("div",{className:"form-group col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Alt. Phone Number"}),Object(le.jsx)(Ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:n.altPhonenumber,masks:{ng:"...-...-....",at:"(....) ...-...."},onChange:function(e){xa(e,"altPhonenumber")}})]})}),Object(le.jsx)("div",{className:"form-group col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Email"}),Object(le.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:ta,value:n.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Country *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:n.countryId,onChange:function(e){var t=e.target.value;!function(e){v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){console.log(e.data),ye(e.data)})).catch((function(e){}))}(t),d(Object(p.a)(Object(p.a)({},n),{},{countryId:t}))},children:[Object(le.jsx)("option",{value:"",children:"Select"}),pe.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==we.countryId?Object(le.jsx)("span",{className:Fe.error,children:we.countryId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"State *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:n.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:function(e){var t=e.target.value;d(Object(p.a)(Object(p.a)({},n),{},{stateId:e.target.value})),v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){Re(e.data)})).catch((function(e){}))},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Ne.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==we.stateId?Object(le.jsx)("span",{className:Fe.error,children:we.stateId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Province/District/LGA *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:n.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ta,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Te.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==we.district?Object(le.jsx)("span",{className:Fe.error,children:we.district}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Street Address*"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",onChange:ta,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==we.address?Object(le.jsx)("span",{className:Fe.error,children:we.address}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Landmark"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",onChange:ta,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[T&&T.length>0&&Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(le.jsx)("thead",{className:"mb-3",children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:"Relationship Type"}),Object(le.jsx)("th",{children:"Name"}),Object(le.jsx)("th",{children:"Phone"}),Object(le.jsx)("th",{children:"Address"}),Object(le.jsx)("th",{children:"Actions"})]})}),Object(le.jsx)("tbody",{className:"mb-3",children:T.map((function(e,t){return Object(le.jsxs)("tr",{className:"mb-3",children:[Object(le.jsx)("td",{children:aa(e.relationshipId)}),Object(le.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(le.jsx)("td",{children:e.phone}),Object(le.jsx)("td",{children:e.address}),Object(le.jsxs)("td",{children:[Object(le.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:function(){return function(e,t){m(e),V(!0),T.splice(t,1)}(e,t)},children:Object(le.jsx)(na.a,{icon:"edit"})}),"\xa0\xa0",Object(le.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:function(e){return function(e){T.splice(e,1),R(Object(Me.a)(T))}(t)},children:Object(le.jsx)(na.a,{icon:"trash"})})]})]},e.index)}))})]})}),Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:z&&Object(le.jsx)("div",{className:"card",children:Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"relationshipType",children:"Relationship Type *"}),Object(le.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:u.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ra,children:[Object(le.jsx)("option",{value:"",children:"Select"}),ue.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==we.relationshipId?Object(le.jsx)("span",{className:Fe.error,children:we.relationshipId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"cfirstName",children:"First Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:u.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ra}),""!==we.firstName?Object(le.jsx)("span",{className:Fe.error,children:we.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Middle Name"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:u.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ra})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Last Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:u.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ra}),""!==we.lastName?Object(le.jsx)("span",{className:Fe.error,children:we.lastName}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(le.jsx)(Ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:u.phone,masks:{ng:"...-...-....",at:"(....) ...-...."},id:"phone",onChange:function(e){!function(e,t){m(Object(p.a)(Object(p.a)({},u),{},Object(ze.a)({},t,e.slice(0,10))))}(e,"phone")}}),""!==we.phone?Object(le.jsx)("span",{className:Fe.error,children:we.phone}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"contactEmail",children:"Email"}),Object(le.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",value:u.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ra,required:!0})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"contactAddress",children:"Address"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:u.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ra})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-1",children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",className:Fe.button,onClick:function(e){(function(){var e=Object(p.a)({},we);return e.firstName=u.firstName?"":"First Name is required",e.lastName=u.lastName?"":"Last Name  is required.",e.phone=u.phone?"":"Phone Number  is required.",e.relationshipId=u.relationshipId?"":"Relationship Type is required.",Ae(Object(p.a)({},e)),Object.values(e).every((function(e){return""==e}))})()&&(R([].concat(Object(Me.a)(T),[u])),m({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}))},children:"Add"})}),Object(le.jsx)("div",{className:"col-1",children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"secondary",className:Fe.button,onClick:function(){V(!1)},children:"Cancel"})})]})]})})})]}),Object(le.jsx)("div",{className:"row"}),Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",className:Fe.button,startIcon:Object(le.jsx)(ja.a,{}),onClick:function(){V(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"ANC  Enrollment"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"ANC No *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"ancNo",id:"ancNo",onChange:pa,value:$e.ancNo})}),""!==we.ancNo?Object(le.jsx)("span",{className:Fe.error,children:we.ancNo}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Gravida *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"number",name:"gravida",id:"gravida",onChange:pa,value:$e.gravida})}),""!==we.gravida?Object(le.jsx)("span",{className:Fe.error,children:we.gravida}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Parity *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"number",name:"parity",id:"parity",onChange:pa,value:$e.parity})}),""!==we.parity?Object(le.jsx)("span",{className:Fe.error,children:we.parity}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date Of Last Menstrual Period* "}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"date",name:"lmp",id:"lmp",onChange:pa,value:$e.lmp,max:se(new Date).format("YYYY-MM-DD")})}),""!==we.lmp?Object(le.jsx)("span",{className:Fe.error,children:we.lmp}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Gestational Age (Weeks)*"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:pa,value:$e.gaweeks})}),""!==we.gaweeks?Object(le.jsx)("span",{className:Fe.error,children:we.gaweeks}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Source of Referral*"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"sourceOfReferral",id:"sourceOfReferral",onChange:pa,value:$e.sourceOfReferral})}),""!==we.sourceOfReferral?Object(le.jsx)("span",{className:Fe.error,children:we.sourceOfReferral}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Tested for syphilis *"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"testedSyphilis",id:"testedSyphilis",onChange:pa,value:$e.testedSyphilis,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==we.testedSyphilis?Object(le.jsx)("span",{className:Fe.error,children:we.testedSyphilis}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Syphilis test result *"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"testResultSyphilis",id:"testResultSyphilis",onChange:pa,value:$e.testResultSyphilis,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==we.testResultSyphilis?Object(le.jsx)("span",{className:Fe.error,children:we.testResultSyphilis}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Treated for syphilis (penicillin) *"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"treatedSyphilis",id:"treatedSyphilis",onChange:pa,value:$e.encounterDate,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==we.treatedSyphilis?Object(le.jsx)("span",{className:Fe.error,children:we.treatedSyphilis}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Referred Syphilis +ve client *"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"referredSyphilisTreatment",id:"referredSyphilisTreatment",onChange:pa,value:$e.referredSyphilisTreatment,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==we.referredSyphilisTreatment?Object(le.jsx)("span",{className:Fe.error,children:we.referredSyphilisTreatment}):""]})})]})})]}),w?Object(le.jsx)(pt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:Fe.button,startIcon:Object(le.jsx)(Ke.a,{}),onClick:sa,disabled:k,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:w?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:Fe.button,startIcon:Object(le.jsx)(Ot.a,{}),style:{backgroundColor:"#992E62"},onClick:function(){Le.push({pathname:"/"})},children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})}),Object(le.jsxs)(ea.a,{show:zt,toggle:Wt,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(le.jsx)(ea.a.Header,{children:Object(le.jsx)(ea.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(ea.a.Body,{children:Object(le.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(le.jsx)(ea.a.Footer,{children:Object(le.jsx)(ae.a,{onClick:Wt,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};ia.b.add(oa.a,oa.b,oa.c,oa.d);var ma=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),ha=function(e){var t,a,c=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),n=Object(l.a)(c,2),d=n[0],j=n[1],b=Object(r.useState)(!1),u=Object(l.a)(b,2),m=u[0],x=(u[1],Object(r.useState)(!1)),f=Object(l.a)(x,2),g=f[0],C=f[1],T=Object(r.useState)(!0),R=Object(l.a)(T,2),D=R[0],I=(R[1],Object(r.useState)([])),w=Object(l.a)(I,2),A=(w[0],w[1]),P=Object(r.useState)({}),k=Object(l.a)(P,2),B=k[0],E=k[1],H=e.location&&e.location.state?e.location.state.user:null,Y=ma(),F=Object(i.g)(),L=Object(i.h)(),M=Object(r.useState)({ancNo:"",gaweeks:"",gravida:"",expectedDeliveryDate:"",lmp:"",parity:"",person_uuid:"",hivDiognosicTime:"",referredSyphilisTreatment:"",testResultSyphilis:"",testedSyphilis:"",treatedSyphilis:"",personDto:{},pmtctHtsInfo:{},syphilisInfo:{},partnerNotification:{},sourceOfReferral:""}),z=Object(l.a)(M,2),V=z[0],W=z[1],_=Object(r.useState)([]),q=Object(l.a)(_,2),G=(q[0],q[1]),U=s.a.useState(!1),K=Object(l.a)(U,2),X=K[0],Q=K[1],J=function(){return Q(!X)},Z=L.state;t=Z?Z.patientId:null,a=Z?Z.patientObj:{},Object(r.useEffect)((function(){if(ee(),$(),ne(),a){var e=a.identifier.identifier.find((function(e){return"HospitalNumber"===e.type}));d.dob=a.dateOfBirth,d.firstName=a.firstName,d.dateOfRegistration=a.dateOfRegistration,d.middleName=a.otherName,d.lastName=a.surname,d.dateOfRegistration=a.dateOfRegistration,d.hospitalNumber=e&&e?e.value:"",W(Object(p.a)(Object(p.a)({},V),{},{uniqueId:e?e.value:""})),d.genderId=a&&a.gender?a.gender.id:null;var t=te(se(a.dateOfBirth).format("DD-MM-YYYY"));d.age=t,V.personId=a.id,d.ninNumber=a.ninNumber}d.dateOfRegistration<d.dob&&alert("Date of registration can not be earlier than date of birth")}),[a,t,d.dateOfRegistration]);var $=function(){v.a.get("".concat(y,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){var t="";"female"!==a.sex&&"Female"!==a.sex&&"FEMALE"!==a.sex||(t="Female"),"Male"!==a.sex&&"male"!==a.sex&&"MALE"!==a.sex||(t="Male");var r=e.data.find((function(e){return e.display===t}));d.sexId=r.display})).catch((function(e){}))},ee=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,A(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),te=function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),c=t.getFullYear()-s.getFullYear(),n=t.getMonth()-s.getMonth();return(n<0||0===n&&t.getDate()<s.getDate())&&c--,0===c?n+" month(s)":c},re=function(){var e=Object(p.a)({},B);return e.gaweeks=V.gaweeks?"":"This field is required",e.gravida=V.gravida?"":"This field is required",e.referredSyphilisTreatment=V.referredSyphilisTreatment?"":"This field is required",e.lmp=V.lmp?"":"This field is required",e.parity=V.parity?"":"This field is required",e.testedSyphilis=V.testedSyphilis?"":"This field is required",e.treatedSyphilis=V.treatedSyphilis?"":"This field is required",e.sourceOfReferral=V.sourceOfReferral?"":"This field is required",e.testResultSyphilis=V.testResultSyphilis?"":"This field is required",E(Object(p.a)({},e)),Object.values(e).every((function(e){return""==e}))},ce=function(e){E(Object(p.a)(Object(p.a)({},B),{},Object(ze.a)({},e.target.name,""))),j(Object(p.a)(Object(p.a)({},d),{},Object(ze.a)({},e.target.name,e.target.value)))},ne=function(){v.a.get("".concat(y,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){G(e.data)})).catch((function(e){}))},ie=function(e){E(Object(p.a)(Object(p.a)({},B),{},Object(ze.a)({},e.target.name,""))),W(Object(p.a)(Object(p.a)({},V),{},Object(ze.a)({},e.target.name,e.target.value)))},de=function(){var e=Object(O.a)(Object(h.a)().mark((function e(t){var r;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!re()){e.next=15;break}return e.prev=2,V.person_uuid=a.uuid,console.log(V),e.next=7,v.a.post("".concat(y,"pmtct/anc/anc-enrollement"),V,{headers:{Authorization:"Bearer ".concat(N)}});case 7:e.sent,o.b.success("Patient Register successful",{position:o.b.POSITION.BOTTOM_CENTER}),F.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),e.t0.response&&e.t0.response.data?(r=e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.message?e.t0.response.data.apierror.message:"Something went wrong, please try again",e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.message&&e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.subErrors[0].message?o.b.error(e.t0.response.data.apierror.message+" : "+e.t0.response.data.apierror.subErrors[0].field+" "+e.t0.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(r,{position:o.b.POSITION.BOTTOM_CENTER})):o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return console.log(B),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsxs)("h4",{children:[" ",Object(le.jsx)(S.b,{to:"/",children:"HIV /"})," Patient Enrollment"]})})})}),Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)(xe.a,{className:Y.root,children:Object(le.jsxs)(la.a,{children:[Object(le.jsx)(S.b,{to:{pathname:"/",state:"users"},children:Object(le.jsx)(ae.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(le.jsx)(oe.a,{}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)(We.a,{children:[Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===H?"Basic Information":"Edit User Information"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsx)("div",{className:"basic-form",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"firstName",children:"Name"}),Object(le.jsx)(Ge.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:d.firstName+" "+d.lastName,onChange:ce,style:{border:"none",backgroundColor:"transparent",outline:"none"}}),""!==B.firstName?Object(le.jsx)("span",{className:Y.error,children:B.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"patientId",children:"Hospital Number "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:d.hospitalNumber,onChange:ce,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Sex "}),Object(le.jsx)(Ge.a,{className:"form-control",name:"sexId",id:"sexId",onChange:ce,value:d.sexId,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-2",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"age",id:"age",value:d.age,disabled:D,onChange:function(e){var t=e.target.value.replace(/\D/g,"");if(!D&&t){""!==t&&t>=60&&J(),C(t<=1);var a=new Date;a.setDate(15),a.setMonth(5);var r=se(a.toISOString()).add(-1*t,"years");d.dob=se(r).format("YYYY-MM-DD")}j(Object(p.a)(Object(p.a)({},d),{},{age:t}))},style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})})]})})})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"ANC  Enrollment"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"ANC No *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"ancNo",id:"ancNo",onChange:ie,value:V.ancNo})}),""!==B.ancNo?Object(le.jsx)("span",{className:Y.error,children:B.ancNo}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Gravida *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"number",name:"gravida",id:"gravida",onChange:ie,value:V.gravida})}),""!==B.gravida?Object(le.jsx)("span",{className:Y.error,children:B.gravida}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Parity *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"number",name:"parity",id:"parity",onChange:ie,value:V.parity})}),""!==B.parity?Object(le.jsx)("span",{className:Y.error,children:B.parity}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date Of Last Menstrual Period * "}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"date",name:"lmp",id:"lmp",onChange:ie,value:V.lmp,max:se(new Date).format("YYYY-MM-DD")})}),""!==B.lmp?Object(le.jsx)("span",{className:Y.error,children:B.lmp}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Gestational Age (Weeks) *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:ie,value:V.gaweeks})}),""!==B.gaweeks?Object(le.jsx)("span",{className:Y.error,children:B.gaweeks}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Source of Referral *"}),Object(le.jsx)(ct.a,{children:Object(le.jsx)(Ge.a,{type:"text",name:"sourceOfReferral",id:"sourceOfReferral",onChange:ie,value:V.sourceOfReferral})}),""!==B.sourceOfReferral?Object(le.jsx)("span",{className:Y.error,children:B.sourceOfReferral}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Tested for syphilis *"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"testedSyphilis",id:"testedSyphilis",onChange:ie,value:V.testedSyphilis,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==B.testedSyphilis?Object(le.jsx)("span",{className:Y.error,children:B.testedSyphilis}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Syphilis test result *"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"testResultSyphilis",id:"testResultSyphilis",onChange:ie,value:V.testResultSyphilis,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==B.testResultSyphilis?Object(le.jsx)("span",{className:Y.error,children:B.testResultSyphilis}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Treated for syphilis (penicillin) *"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"treatedSyphilis",id:"treatedSyphilis",onChange:ie,value:V.encounterDate,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==B.treatedSyphilis?Object(le.jsx)("span",{className:Y.error,children:B.treatedSyphilis}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Referred Syphilis +ve client *"}),Object(le.jsx)(ct.a,{children:Object(le.jsxs)(Ge.a,{type:"select",name:"referredSyphilisTreatment",id:"referredSyphilisTreatment",onChange:ie,value:V.referredSyphilisTreatment,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==B.referredSyphilisTreatment?Object(le.jsx)("span",{className:Y.error,children:B.referredSyphilisTreatment}):""]})})]})})]}),m?Object(le.jsx)(pt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:Y.button,startIcon:Object(le.jsx)(Ke.a,{}),disabled:g,onClick:de,children:m?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:Y.button,startIcon:Object(le.jsx)(Ot.a,{}),onClick:function(){F.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})]})}),Object(le.jsxs)(ea.a,{show:X,toggle:J,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(le.jsx)(ea.a.Header,{children:Object(le.jsx)(ea.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(ea.a.Body,{children:Object(le.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(le.jsx)(ea.a.Footer,{children:Object(le.jsx)(ae.a,{onClick:J,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};a(944),a(942),a(941);ia.b.add(oa.a,oa.b,oa.c,oa.d);var Oa=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),pa=function(e){console.log(e);var t,a,s=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),c=Object(l.a)(s,2),n=c[0],d=c[1],j=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),b=Object(l.a)(j,2),u=b[0],m=b[1],x=Object(r.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),f=Object(l.a)(x,2),g=f[0],C=(f[1],Object(r.useState)([])),T=Object(l.a)(C,2),R=T[0],D=T[1],I=Object(r.useState)(!1),w=Object(l.a)(I,2),A=w[0],P=(w[1],Object(r.useState)(!0)),k=Object(l.a)(P,2),B=k[0],E=k[1],H=Object(r.useState)(!1),Y=Object(l.a)(H,2),F=Y[0],L=Y[1],M=Object(r.useState)(null),z=Object(l.a)(M,2),V=(z[0],z[1],Object(r.useState)([])),W=Object(l.a)(V,2),_=W[0],q=W[1],G=Object(r.useState)([]),U=Object(l.a)(G,2),K=U[0],X=U[1],Q=Object(r.useState)([]),J=Object(l.a)(Q,2),Z=J[0],$=J[1],ee=Object(r.useState)([]),te=Object(l.a)(ee,2),re=te[0],ce=te[1],ne=Object(r.useState)([]),ie=Object(l.a)(ne,2),de=ie[0],je=ie[1],be=Object(r.useState)([]),ue=Object(l.a)(be,2),me=ue[0],he=ue[1],Oe=Object(r.useState)([]),pe=Object(l.a)(Oe,2),fe=pe[0],ge=pe[1],ve=Object(r.useState)([]),Ne=Object(l.a)(ve,2),ye=Ne[0],Se=Ne[1],Ce=Object(r.useState)({}),Te=Object(l.a)(Ce,2),Re=Te[0],De=Te[1],Ie=Object(r.useState)([]),we=Object(l.a)(Ie,2),Ae=(we[0],we[1]),Pe=Object(r.useState)({person:"",hivEnrollment:""}),ke=Object(l.a)(Pe,2),Be=ke[0],Ee=(ke[1],e.location&&e.location.state&&e.location.state.user,Oa()),He=Object(i.g)(),Ye=Object(i.h)(),Fe=Object(r.useState)(!1),Le=Object(l.a)(Fe,2),Ve=Le[0],Ue=Le[1],Xe=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrerId:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:"",householdNumber:"",referredToOVCPartner:"",dateReferredToOVCPartner:"",referredFromOVCPartner:"",dateReferredFromOVCPartner:"",careEntryPointOther:""}),Qe=Object(l.a)(Xe,2),Je=Qe[0],Ze=Qe[1],$e=Object(r.useState)([]),et=Object(l.a)($e,2),tt=et[0],at=et[1],rt=Object(r.useState)([]),st=Object(l.a)(rt,2),ct=st[0],nt=st[1],it=Object(r.useState)([]),ot=Object(l.a)(it,2),lt=ot[0],dt=ot[1],jt=Object(r.useState)([]),bt=Object(l.a)(jt,2),ut=bt[0],mt=bt[1],ht=Object(r.useState)([]),xt=Object(l.a)(ht,2),ft=xt[0],gt=xt[1],vt=Object(r.useState)([]),Nt=Object(l.a)(vt,2),yt=Nt[0],St=Nt[1],Ct=Object(r.useState)([]),Tt=Object(l.a)(Ct,2),Rt=Tt[0],Dt=Tt[1],It=Object(r.useState)(!1),wt=Object(l.a)(It,2),At=wt[0],Pt=wt[1],kt=Object(r.useState)(!1),Bt=Object(l.a)(kt,2),Et=Bt[0],Yt=Bt[1],Ft=Object(r.useState)("false"),Lt=Object(l.a)(Ft,2),Mt=Lt[0],zt=(Lt[1],Ye.state);t=zt?zt.patientId:null,a=zt?zt.patientObj:{};var Vt=Object(r.useState)(!1),Wt=Object(l.a)(Vt,2),_t=Wt[0],qt=Wt[1],Gt=Object(r.useState)(!1),Ut=Object(l.a)(Gt,2),Kt=Ut[0],Xt=Ut[1];Object(r.useEffect)((function(){if(Qt(),Jt(),Zt(),$t(),ea(),ta(),ha(),pa(),xa(),fa(),ga(),va(),Na(),aa(),a){var e=a.contact?a.contact:[],t=[];e.contact&&e.contact.length>0&&e.contact.map((function(e){var a={address:e.address.line[0],phone:e.contactPoint.value,firstName:e.firstName,email:"",relationshipId:e.relationshipId,lastName:e.surname,middleName:e.otherName};t.push(a)}));D(t);var r=a.identifier,s=a.address,c=a.contactPoint,i=r.identifier.find((function(e){return"HospitalNumber"==e.type})),o=c.contactPoint.find((function(e){return"phone"==e.type})),l=c.contactPoint.find((function(e){return"email"==e.type})),d=c.contactPoint.find((function(e){return"altphone"==e.type})),j=s&&s.address&&s.address.length>0?s.address[0]:null;n.dob=a.dateOfBirth,n.firstName=a.firstName,n.dateOfRegistration=a.dateOfRegistration,n.middleName=a.otherName,n.lastName=a.surname,n.hospitalNumber=i?i.value:"",n.maritalStatusId=a.maritalStatus.id,n.employmentStatusId=a.employmentStatus.id,n.genderId=a.gender?a.gender.id:null,n.sexId=a.sex,n.educationId=a.education.id,n.phoneNumber=o&&o.value?o.value:"",n.altPhonenumber=d&&d.value?d.value:"",n.email=l&&l.value?l.value:"",n.address=j&&j.city?j.city:"",n.landmark=j.line[0],n.countryId=j.countryId,sa(j.countryId),u=j.stateId,v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(u),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){Se(e.data)})).catch((function(e){})),n.stateId=j.stateId,n.district=j.district,Ze(a.enrollment);var b=ra(se(a.dateOfBirth).format("DD-MM-YYYY"));n.age=b,Ue("Female"===a.sex),n.ninNumber=a.ninNumber}var u;n.dateOfRegistration<n.dob&&alert("Date of registration can not be earlier than date of birth")}),[a,t,n.dateOfRegistration]);var Qt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,q(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Jt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,X(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Zt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,$(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),$t=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,ce(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),ea=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,je(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),ta=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(y,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(N)}});case 2:t=e.sent,Ae(t.data);case 4:case"end":return e.stop()}}),e)}))),[]),aa=function(){v.a.get("".concat(y,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){he(e.data)})).catch((function(e){}))},ra=function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),c=t.getFullYear()-s.getFullYear(),n=t.getMonth()-s.getMonth();return(n<0||0===n&&t.getDate()<s.getDate())&&c--,0===c?n+" month(s)":c};function sa(e){v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){ge(e.data)})).catch((function(e){}))}var ca=function(e){"Actual"==e.target.value?E(!0):"Estimated"==e.target.value&&E(!1)},ia=function(e){if(d(Object(p.a)(Object(p.a)({},n),{},Object(ze.a)({},e.target.name,e.target.value))),"sexId"===e.target.name&&"Female"===e.target.value&&Ue(!0),"firstName"===e.target.name&&""!==e.target.value){var t=ma(e.target.value);d(Object(p.a)(Object(p.a)({},n),{},Object(ze.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var a=ma(e.target.value);d(Object(p.a)(Object(p.a)({},n),{},Object(ze.a)({},e.target.name,a)))}if("middleName"===e.target.name&&""!==e.target.value){var r=ma(e.target.value);d(Object(p.a)(Object(p.a)({},n),{},Object(ze.a)({},e.target.name,r)))}if("hospitalNumber"===e.target.name&&""!==e.target.value){var s=function(){var t=Object(O.a)(Object(h.a)().mark((function t(){var a;return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,v.a.post("".concat(y,"patient/exist/hospital-number"),a,{headers:{Authorization:"Bearer ".concat(N),"Content-Type":"text/plain"}});case 3:!0!==t.sent.data?(qt(!1),Ze(Object(p.a)(Object(p.a)({},Je),{},{uniqueId:e.target.value})),Xt(!0)):(qt(!1),Xt(!0));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();s()}},oa=function(e){var t=de.find((function(t){return t.id==e}));return t?t.display:""},da=function(e){m(Object(p.a)(Object(p.a)({},u),{},Object(ze.a)({},e.target.name,e.target.value)))},ba=function(){var e=Object(p.a)({},Re);return e.firstName=n.firstName?"":"First Name is required",e.hospitalNumber=n.hospitalNumber?"":"Hospital Number  is required.",e.lastName=n.lastName?"":"Last Name  is required.",e.sexId=n.sexId?"":"Sex is required.",e.dateOfRegistration1=n.dateOfRegistration?"":"Date of Registration is required.",e.educationId=n.educationId?"":"Education is required.",e.address=n.address?"":"Address is required.",e.phoneNumber=n.phoneNumber?"":"Phone Number  is required.",e.countryId=n.countryId?"":"Country is required.",e.stateId=n.stateId?"":"State is required.",e.district=n.district?"":"Province/LGA is required.",e.targetGroupId=Je.targetGroupId?"":"Target group is required.",e.dateConfirmedHiv=Je.dateConfirmedHiv?"":"date confirm HIV is required.",e.sourceOfReferrerId=Je.sourceOfReferrerId?"":"Source of referrer is required.",e.enrollmentSettingId=Je.enrollmentSettingId?"":"Enrollment Setting Number  is required.",e.tbStatusId=Je.tbStatusId?"":"TB status is required.",e.statusAtRegistrationId=Je.statusAtRegistrationId?"":"Status at Registration is required.",e.entryPointId=Je.entryPointId?"":"Care Entry Point is required.",e.dateOfRegistration=Je.dateOfRegistration?"":"Date of Registration is required.",e.uniqueId=Je.uniqueId?"":"Unique ID is required.",De(Object(p.a)({},e)),Object.values(e).every((function(e){return""==e}))},ua=function(){var e=Object(O.a)(Object(h.a)().mark((function e(r){var s,c,i,l,d,j,b;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),s=_.find((function(e){return e.display===n.sexId})),n.sexId=s.id,!ba()){e.next=25;break}return c=[],R&&R.length>0&&R.map((function(e){var t={address:{line:[e.address]},contactPoint:{type:"phone",value:e.phone},firstName:e.firstName,fullName:e.firstName+" "+e.middleName+" "+e.lastName,relationshipId:e.relationshipId,surname:e.lastName,otherName:e.middleName};c.push(t)})),e.prev=6,i={active:!0,address:[{city:n.address,countryId:n.countryId,district:n.district,line:[n.landmark],organisationUnitId:0,postalCode:"",stateId:n.stateId}],contact:c,contactPoint:[],dateOfBirth:n.dob,deceased:!1,deceasedDateTime:null,firstName:n.firstName,genderId:n.genderId,sexId:n.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:n.hospitalNumber}],otherName:n.middleName,maritalStatusId:n.maritalStatusId,surname:n.lastName,educationId:n.educationId,employmentStatusId:n.employmentStatusId,dateOfRegistration:n.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=n.dateOfBirth,ninNumber:n.ninNumber},l={type:"phone",value:n.phoneNumber},n.email&&(d={type:"email",value:n.email},i.contactPoint.push(d)),n.altPhonenumber&&(j={type:"altphone",value:n.altPhonenumber},i.contactPoint.push(j)),i.contactPoint.push(l),i.id=t,Be.person=i,Be.hivEnrollment=Je,e.next=17,v.a.put("".concat(y,"hiv/patient/").concat(a.id),Be,{headers:{Authorization:"Bearer ".concat(N)}});case 17:e.sent,o.b.success("Patient Updated successful"),He.push("/"),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),e.t0.response&&e.t0.response.data&&(b=e.t0.response.data&&""!==e.t0.response.data.apierror.message?e.t0.response.data.apierror.message:"Something went wrong, please try again",o.b.error(b));case 25:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(t){return e.apply(this,arguments)}}(),ma=function(e){return e.replace(/[^a-z]/gi,"")},ha=function(){v.a.get("".concat(y,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){at(e.data)})).catch((function(e){}))},pa=function(){v.a.get("".concat(y,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){nt(e.data)})).catch((function(e){}))},xa=function(){v.a.get("".concat(y,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){dt(e.data)})).catch((function(e){}))},fa=function(){v.a.get("".concat(y,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){mt(e.data)})).catch((function(e){}))},ga=function(){v.a.get("".concat(y,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){gt(e.data)})).catch((function(e){}))},va=function(){v.a.get("".concat(y,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){St(e.data)})).catch((function(e){}))},Na=function(){v.a.get("".concat(y,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){Dt(e.data)})).catch((function(e){}))},ya=function(e){Ze(Object(p.a)(Object(p.a)({},Je),{},Object(ze.a)({},e.target.name,e.target.value))),"entryPointId"===e.target.name&&("21"===e.target.value?Pt(!0):Pt(!1)),"pregnancyStatusId"===e.target.name&&(console.log(e.target.value),"72"===e.target.value?Pt(!0):Pt(!1))},Sa=function(e,t){d(Object(p.a)(Object(p.a)({},n),{},Object(ze.a)({},t,e.slice(0,10))))},Ca=function(e){e.target.checked?Yt(!0):Yt(!1)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)(xe.a,{className:Ee.cardBottom,children:Object(le.jsxs)(la.a,{children:[Object(le.jsx)(S.b,{to:{pathname:"/patient-history",state:{patientObj:a}},children:Object(le.jsx)(ae.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(le.jsx)(oe.a,{}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)(We.a,{children:[Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Edit User Information"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsxs)("div",{className:"basic-form",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"dateOfRegistration",children:"Date of Registration* "}),Object(le.jsx)(Ge.a,{className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",value:n.dateOfRegistration,onChange:ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Re.dateOfRegistration1?Object(le.jsx)("span",{className:Ee.error,children:Re.dateOfRegistration1}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"patientId",children:"Hospital Number* "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:n.hospitalNumber,onChange:ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:"update"!==zt.actionType}),""!==Re.hospitalNumber?Object(le.jsx)("span",{className:Ee.error,children:Re.hospitalNumber}):"",""!==Re.hospitalNumber?Object(le.jsx)("span",{className:Ee.error,children:Re.hospitalNumber}):"",!0===_t?Object(le.jsx)("span",{className:Ee.error,children:"Hospital number already exist"}):"",!0===Kt?Object(le.jsx)("span",{className:Ee.success,children:"Hospital number is OK."}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"patientId",children:"EMR Number* "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:Math.floor(1094328*Math.random()),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"firstName",children:"First Names *"}),Object(le.jsx)(Ge.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:n.firstName,onChange:ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Re.firstName?Object(le.jsx)("span",{className:Ee.error,children:Re.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Middle Name"}),Object(le.jsx)(Ge.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:n.middleName,onChange:ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Last Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:n.lastName,onChange:ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Re.lastName?Object(le.jsx)("span",{className:Ee.error,children:Re.lastName}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Sex *"}),Object(le.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:ia,value:n.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),_.map((function(e,t){return Object(le.jsx)("option",{value:e.display,children:e.display},e.id)}))]}),""!==Re.sexId?Object(le.jsx)("span",{className:Ee.error,children:Re.sexId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return ca(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return ca(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date"}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",max:g,value:n.dob,onChange:function(e){if(e.target.value){var t=new Date,a=new Date(e.target.value),r=t.getFullYear()-a.getFullYear(),s=t.getMonth()-a.getMonth();(s<0||0===s&&t.getDate()<a.getDate())&&r--,n.age=r}else d(Object(p.a)(Object(p.a)({},n),{},{age:""}));d(Object(p.a)(Object(p.a)({},n),{},{dob:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:n.age,disabled:B,onChange:function(e){if(!B&&e.target.value){var t=new Date;t.setDate(15),t.setMonth(5);var a=se(t.toISOString()).add(-1*e.target.value,"years");n.dob=se(a).format("YYYY-MM-DD")}d(Object(p.a)(Object(p.a)({},n),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Marital Status"}),Object(le.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:ia,value:n.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),K.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Employment Status *"}),Object(le.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:ia,value:n.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),re.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Re.employmentStatusId?Object(le.jsx)("span",{className:Ee.error,children:Re.employmentStatusId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Education Level *"}),Object(le.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:ia,value:n.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Z.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Re.educationId?Object(le.jsx)("span",{className:Ee.error,children:Re.educationId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"patientId",children:"National Identity Number (NIN)  "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"nin",id:"nin",value:n.ninNumber,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Phone Number *"}),Object(le.jsx)(Ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",value:n.phoneNumber,onChange:function(e){Sa(e,"phoneNumber")}}),""!==Re.phoneNumber?Object(le.jsx)("span",{className:Ee.error,children:Re.phoneNumber}):""]})}),Object(le.jsx)("div",{className:"form-group col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Alt. Phone Number"}),Object(le.jsx)(Ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:n.altPhonenumber,onChange:function(e){Sa(e,"altPhonenumber")}})]})}),Object(le.jsx)("div",{className:"form-group col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Email"}),Object(le.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:ia,value:n.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Country *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:n.countryId,onChange:function(e){var t=e.target.value;sa(t),d(Object(p.a)(Object(p.a)({},n),{},{countryId:t}))},children:[Object(le.jsx)("option",{value:"",children:"Select"}),me.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==Re.countryId?Object(le.jsx)("span",{className:Ee.error,children:Re.countryId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"State *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:n.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:function(e){var t=e.target.value;d(Object(p.a)(Object(p.a)({},n),{},{stateId:e.target.value})),v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){Se(e.data)})).catch((function(e){}))},children:[Object(le.jsx)("option",{value:"",children:"Select"}),fe.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==Re.stateId?Object(le.jsx)("span",{className:Ee.error,children:Re.stateId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Province/District/LGA *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:n.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ia,children:[Object(le.jsx)("option",{value:"",children:"Select"}),ye.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==Re.district?Object(le.jsx)("span",{className:Ee.error,children:Re.district}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Street Address*"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:n.address,onChange:ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Re.address?Object(le.jsx)("span",{className:Ee.error,children:Re.address}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Landmark"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:n.landmark,onChange:ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[R&&R.length>0&&Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(le.jsx)("thead",{className:"mb-3",children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:"Relationship Type"}),Object(le.jsx)("th",{children:"Name"}),Object(le.jsx)("th",{children:"Phone"}),Object(le.jsx)("th",{children:"Address"}),Object(le.jsx)("th",{children:"Actions"})]})}),Object(le.jsx)("tbody",{className:"mb-3",children:R.map((function(e,t){return Object(le.jsxs)("tr",{className:"mb-3",children:[Object(le.jsx)("td",{children:oa(e.relationshipId)}),Object(le.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(le.jsx)("td",{children:e.phone}),Object(le.jsx)("td",{children:e.address}),Object(le.jsxs)("td",{children:[Object(le.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:function(){return function(e,t){m(e),L(!0),R.splice(t,1)}(e,t)},children:Object(le.jsx)(na.a,{icon:"edit"})}),"\xa0\xa0",Object(le.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:function(e){return function(e){R.splice(e,1),D(Object(Me.a)(R))}(t)},children:Object(le.jsx)(na.a,{icon:"trash"})})]})]},e.index)}))})]})}),Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:F&&Object(le.jsx)("div",{className:"card",children:Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"relationshipType",children:"Relationship Type *"}),Object(le.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:u.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:da,children:[Object(le.jsx)("option",{value:"",children:"Select"}),de.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Re.relationshipId?Object(le.jsx)("span",{className:Ee.error,children:Re.relationshipId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"cfirstName",children:"First Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:u.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:da}),""!==Re.firstName?Object(le.jsx)("span",{className:Ee.error,children:Re.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Middle Name"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:u.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:da})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Last Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:u.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:da}),""!==Re.lastName?Object(le.jsx)("span",{className:Ee.error,children:Re.lastName}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(le.jsx)(Ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:u.phone,id:"phone",onChange:function(e){!function(e,t){m(Object(p.a)(Object(p.a)({},u),{},Object(ze.a)({},t,e.slice(0,10))))}(e.slice(0,10),"phone")}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"contactEmail",children:"Email"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"email",id:"email",value:u.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:da})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"contactAddress",children:"Address"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:u.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:da})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-1",children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",className:Ee.button,onClick:function(e){(function(){var e=Object(p.a)({},Re);return e.firstName=u.firstName?"":"First Name is required",e.lastName=u.lastName?"":"Last Name  is required.",e.relationshipId=u.relationshipId?"":"Relationship Type is required.",De(Object(p.a)({},e)),Object.values(e).every((function(e){return""==e}))})()&&D([].concat(Object(Me.a)(R),[u]))},children:"Add"})}),Object(le.jsx)("div",{className:"col-1",children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"secondary",className:Ee.button,onClick:function(){L(!1)},children:"Cancel"})})]})]})})})]}),Object(le.jsx)("div",{className:"row"}),Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",className:Ee.button,startIcon:Object(le.jsx)(ja.a,{}),onClick:function(){L(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"HIV Enrollment"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"uniqueId",children:"Unique ID No  * "}),Object(le.jsx)(Ge.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:ya,value:Je.uniqueId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:!0}),""!==Re.uniqueId?Object(le.jsx)("span",{className:Ee.error,children:Re.uniqueId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"dateOfRegistration",children:"Date of Enrollment * "}),Object(le.jsx)(Ge.a,{type:"date",name:"dateOfRegistration",id:"dateOfRegistration",min:n.dateOfRegistration,max:se(new Date).format("YYYY-MM-DD"),onChange:ya,value:Je.dateOfRegistration,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Re.dateOfRegistration?Object(le.jsx)("span",{className:Ee.error,children:Re.dateOfRegistration}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{for:"entryPointId",children:"Care Entry Point * "}),Object(le.jsxs)(Ge.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:ya,value:Je.entryPointId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:" "}),tt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Re.entryPointId?Object(le.jsx)("span",{className:Ee.error,children:Re.entryPointId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:!0===At?Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Facility Name"}),Object(le.jsx)(Ge.a,{type:"text",name:"facilityName",id:"facilityName",onChange:ya,value:Je.facilityName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}):""}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"HIV Status at Registration *"}),Object(le.jsxs)(Ge.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:ya,value:Je.statusAtRegistrationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:" Select"}),lt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Re.statusAtRegistrationId?Object(le.jsx)("span",{className:Ee.error,children:Re.statusAtRegistrationId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date of Confirmed HIV Test *"}),Object(le.jsx)(Ge.a,{type:"date",name:"dateConfirmedHiv",id:"dateConfirmedHiv",min:n.dob,max:Je.dateOfRegistration,onChange:ya,value:Je.dateConfirmedHiv,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Re.dateConfirmedHiv?Object(le.jsx)("span",{className:Ee.error,children:Re.dateConfirmedHiv}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Source of Referral *"}),Object(le.jsxs)(Ge.a,{type:"select",name:"sourceOfReferrerId",id:"sourceOfReferrerId",value:Je.sourceOfReferrerId,onChange:ya,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select "}),ct.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Re.sourceOfReferrerId?Object(le.jsx)("span",{className:Ee.error,children:Re.sourceOfReferrerId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Enrollment Setting *"}),Object(le.jsxs)(Ge.a,{type:"select",name:"enrollmentSettingId",id:"enrollmentSettingId",value:Je.enrollmentSettingId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ya,children:[Object(le.jsx)("option",{value:"",children:" Select"}),ut.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Re.enrollmentSettingId?Object(le.jsx)("span",{className:Ee.error,children:Re.enrollmentSettingId}):""]})}),Ve&&n.age>9&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:" Pregnancy "}),Object(le.jsxs)(Ge.a,{type:"select",name:"pregnancyStatusId",id:"pregnancyStatusId",value:Je.pregnancyStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ya,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Rt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),"72"!==Je.pregnancyStatusId&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date of LMP "}),Object(le.jsx)(Ge.a,{type:"date",name:"dateOfLpm",id:"dateOfLpm",max:g,onChange:ya,value:Je.dateOfLpm,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})})]}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"TB Status * "}),Object(le.jsxs)(Ge.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:Je.tbStatusId,onChange:ya,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:" Select"}),ft.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Re.tbStatusId?Object(le.jsx)("span",{className:Ee.error,children:Re.tbStatusId}):""]})}),"false"===Mt?Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Target Group *"}),Object(le.jsxs)(Ge.a,{type:"select",name:"targetGroupId",id:"targetGroupId",value:Je.targetGroupId,onChange:ya,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:" Select"}),yt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Re.targetGroupId?Object(le.jsx)("span",{className:Ee.error,children:Re.targetGroupId}):""]})}):"",Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(le.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:Ca}),Object(le.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),n.age<=14&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(le.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:Ca}),Object(le.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),!0===Et&&Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Household Unique Number"}),Object(le.jsx)(Ge.a,{type:"text",name:"householdNumber",id:"householdNumber",required:Et,onChange:ya,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:Je.householdNumber})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Referred To OVC Partner"}),Object(le.jsx)(Ge.a,{type:"text",name:"referredToOVCPartner",id:"referredToOVCPartner",required:Et,onChange:ya,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:Je.referredToOVCPartner})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date Referred To OVC Partner"}),Object(le.jsx)(Ge.a,{type:"date",name:"dateReferredToOVCPartner",id:"dateReferredToOVCPartner",min:n.dob,max:Je.dateOfRegistration,onChange:ya,value:Je.dateReferredToOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Referred From OVC Partner"}),Object(le.jsx)(Ge.a,{type:"text",name:"referredFromOVCPartner",id:"referredFromOVCPartner",required:Et,onChange:ya,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:Je.referredFromOVCPartner})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(qe.a,{children:"Date Referred From OVC Partner"}),Object(le.jsx)(Ge.a,{type:"date",name:"dateReferredFromOVCPartner",id:"dateReferredFromOVCPartner",min:n.dob,max:Je.dateOfRegistration,onChange:ya,value:Je.dateReferredFromOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]})]})]}),A?Object(le.jsx)(pt.a,{}):"",Object(le.jsx)("br",{}),"update"===zt.actionType?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:Ee.button,startIcon:Object(le.jsx)(Ke.a,{}),onClick:ua,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:A?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})}),Object(le.jsx)(ae.a,{variant:"contained",className:Ee.button,startIcon:Object(le.jsx)(Ot.a,{}),onClick:function(){He.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]}):""]})})]})})]})};function xa(){return Object(le.jsx)(i.a,{children:Object(le.jsxs)("div",{children:[Object(le.jsx)(o.a,{}),Object(le.jsxs)(i.d,{children:[Object(le.jsx)(i.b,{path:"/patient-history",children:Object(le.jsx)(ca,{})}),Object(le.jsx)(i.b,{path:"/register-patient",children:Object(le.jsx)(ua,{})}),Object(le.jsx)(i.b,{path:"/enroll-patient",children:Object(le.jsx)(ha,{})}),Object(le.jsx)(i.b,{path:"/update-patient",children:Object(le.jsx)(pa,{})}),Object(le.jsx)(i.b,{path:"/",children:Object(le.jsx)(Pe,{})})]})]})})}var fa=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,1225)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,n=t.getTTFB;a(e),r(e),s(e),c(e),n(e)}))},ga=a(657),va="ltr",Na=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:va},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:va},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:va},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:va},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:va},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:va}],ya=Object(r.createContext)(),Sa=function(e){var t=Object(r.useState)({value:"full",label:"Full"}),a=Object(l.a)(t,2),s=a[0],c=a[1],n=Object(r.useState)({value:"fixed",label:"Fixed"}),i=Object(l.a)(n,2),o=i[0],d=i[1],j=Object(r.useState)({value:"fixed",label:"Fixed"}),b=Object(l.a)(j,2),u=b[0],m=b[1],h=Object(r.useState)({value:"vertical",label:"Vertical"}),O=Object(l.a)(h,2),p=O[0],x=O[1],f=Object(r.useState)({value:"ltr",label:"LTR"}),g=Object(l.a)(f,2),v=g[0],N=g[1],y=Object(r.useState)("color_1"),S=Object(l.a)(y,2),C=S[0],T=S[1],R=Object(r.useState)("color_1"),D=Object(l.a)(R,2),I=D[0],w=D[1],A=Object(r.useState)("color_1"),P=Object(l.a)(A,2),k=P[0],B=P[1],E=Object(r.useState)("color_1"),H=Object(l.a)(E,2),Y=H[0],F=H[1],L=Object(r.useState)(!1),M=Object(l.a)(L,2),z=M[0],V=M[1],W=Object(r.useState)(!1),_=Object(l.a)(W,2),q=_[0],G=_[1],U=Object(r.useState)({value:"light",label:"Light"}),K=Object(l.a)(U,2),X=K[0],Q=K[1],J=Object(r.useState)({value:"wide-boxed",label:"Wide Boxed"}),Z=Object(l.a)(J,2),$=Z[0],ee=Z[1],te=document.querySelector("body"),ae=Object(r.useState)(0),re=Object(l.a)(ae,2),se=re[0],ce=re[1],ne=Object(r.useState)(0),ie=Object(l.a)(ne,2),oe=ie[0],de=ie[1],je=function(e){T(e),te.setAttribute("data-primary",e)},be=function(e){w(e),te.setAttribute("data-nav-headerbg",e)},ue=function(e){B(e),te.setAttribute("data-headerbg",e)},me=function(e){F(e),te.setAttribute("data-sibebarbg",e)},he=function(e){d(e),te.setAttribute("data-sidebar-position",e.value)},Oe=function(e){N(e),te.setAttribute("direction",e.value);var t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},pe=function(e){"horizontal"===e.value&&"overlay"===s.value?(x(e),te.setAttribute("data-layout",e.value),c({value:"full",label:"Full"}),te.setAttribute("data-sidebar-style","full")):(x(e),te.setAttribute("data-layout",e.value))},xe=function(e){"horizontal"===p.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(c(e),V("icon-hover"===e.value?"_i-hover":""),te.setAttribute("data-sidebar-style",e.value))},fe=function(e){m(e),te.setAttribute("data-header-position",e.value)},ge=function(e){te.setAttribute("data-theme-version",e.value),Q(e)},ve=function(e){ee(e),te.setAttribute("data-container",e.value),"boxed"===e.value&&xe({value:"overlay",label:"Overlay"})};return Object(r.useEffect)((function(){var e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");var t=function(){ce(window.innerWidth),de(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),Object(le.jsx)(ya.Provider,{value:{body:te,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:o,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:C,navigationHader:I,windowWidth:se,windowHeight:oe,changePrimaryColor:je,changeNavigationHader:be,changeSideBarStyle:xe,sideBarStyle:s,changeSideBarPostion:he,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:fe,headerposition:u,changeSideBarLayout:pe,sidebarLayout:p,changeDirectionLayout:Oe,changeContainerPosition:ve,direction:v,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:k,chnageHaderColor:ue,chnageSidebarColor:me,sidebarColor:Y,iconHover:z,menuToggle:q,openMenuToggle:function(){"overly"===s.value?G(!0):G(!1)},changeBackground:ge,background:X,containerPosition_:$,setDemoTheme:function(e,t){var a={},r=Na[e];te.setAttribute("data-typography",r.typography),a.value=r.version,ge(a),a.value=r.layout,pe(a),je(r.primary),be(r.navheaderBg),ue(r.headerBg),a.value=r.sidebarStyle,xe(a),me(r.sidebarBg),a.value=r.sidebarPosition,he(a),a.value=r.headerPosition,fe(a),a.value=r.containerLayout,ve(a),a.value=t,Oe(a)}},children:e.children})};n.a.render(Object(le.jsx)(s.a.StrictMode,{children:Object(le.jsx)(ga.a,{children:Object(le.jsx)(S.a,{basename:"/",children:Object(le.jsx)(Sa,{children:Object(le.jsx)(xa,{})})})})}),document.getElementById("root")),fa()}},[[940,1,2]]]);
//# sourceMappingURL=main.5b006f2b.chunk.js.map