(this.webpackJsonpLamisPlus=this.webpackJsonpLamisPlus||[]).push([[0],{474:function(e,t,a){},666:function(e,t,a){},667:function(e,t,a){},806:function(t,a,s){"use strict";s.r(a);var r=s(2),i=s.n(r),n=s(21),c=s.n(n),o=s(54),l=s(7),d=(s(44),s(666),s(667),s(668),s(866)),j=s(867),b=s(896),h=s(885),m=s(868),p=s(70),u=s.n(p),O=s(9),x=s.n(O);const v="/api/v1/",g=new URLSearchParams(window.location.search).get("jwt");s(127);var f=s(30),y=s(105),N=s.n(y),T=s(115),S=s.n(T),C=s(106),D=s.n(C),R=s(113),I=s.n(R),w=s(57),A=s.n(w),P=s(56),H=s.n(P),B=s(107),E=s.n(B),Y=s(108),k=s.n(Y),_=s(110),M=s.n(_),F=s(111),L=s.n(F),z=s(112),V=s.n(z),W=s(116),U=s.n(W),G=s(109),q=s.n(G),K=s(114),X=s.n(K),Q=s(117),J=s.n(Q),Z=(s(39),s(485)),$=s(861),ee=(s(210),s(11)),te=s.n(ee),ae=s(184),se=s.n(ae),re=s(149),ie=s(276),ne=s(280),ce=s(1);var oe=e=>{const[t,a]=Object(r.useState)("home"),[s,i]=Object(r.useState)(""),[n,c]=Object(r.useState)([]),l=Object(o.g)();return Object(r.useEffect)((()=>{a("home"),x.a.get("".concat(v,"application-codesets/v2/PMTCT_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{c(e.data)})).catch((e=>{}))}),[]),Object(ce.jsx)("div",{className:"PMTCT-entryPoint",children:Object(ce.jsxs)(ne.a,{...e,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(ce.jsx)(ne.a.Header,{children:Object(ce.jsxs)(ne.a.Title,{id:"contained-modal-title-vcenter",children:["PMTCT Entry Point"," "]})}),Object(ce.jsxs)(ne.a.Body,{children:[Object(ce.jsx)("h4",{children:" "}),Object(ce.jsx)("div",{className:" ",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:n.map(((t,a)=>"ANC"===t.display?Object(ce.jsx)(f.b,{to:{pathname:e.route,state:{showANC:!0,postValue:t.display,entrypointValue:t.code,...e.info}},children:Object(ce.jsx)(ie.a,{variant:"primary",color:"primary",className:" mb-10 px-4",style:{border:"1px solid black",color:"white",borderRadius:"0",width:"120px",height:"35px",backgroundColor:"#007bb6",borderRadius:"3px",border:"none",padding:"0px"},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:t.display})})}):"L&D"===t.display?Object(ce.jsx)(f.b,{to:{pathname:e.route,state:{showANC:!1,postValue:t.display,entrypointValue:t.code,...e.info}},children:Object(ce.jsx)(ie.a,{variant:"primary",color:"primary",className:" mb-10 px-4",style:{border:"1px solid black",color:"white",borderRadius:"0",width:"120px",margin:"10px 20px ",height:"35px",backgroundColor:"rgb(153, 46, 98)",borderRadius:"3px",border:"none"},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:t.display})})}):"Post-Partum"===t.display?Object(ce.jsxs)("select",{style:{border:"1px solid black",color:"white",borderRadius:"0",width:"120px",height:"35px",padding:"0px 5px",backgroundColor:"#21ba45",borderRadius:"3px",border:"none"},onChange:a=>{i(a.target.value),l.push({pathname:e.route,state:{showANC:!1,postValue:t.display,subPostValue:a.target.value,entrypointValue:t.code,...e.info}})},children:[Object(ce.jsx)("option",{defaultValue:"",children:t.display}),Object(ce.jsx)("option",{value:"\u2264 72 hrs",children:"\u2264  72 hrs"}),Object(ce.jsx)("option",{value:"> 72 hrs - < 6 month",children:"> 72 hrs - < 6 month"}),Object(ce.jsx)("option",{value:"> 6 months - 12 months",children:"> 6 months - 12 months"})]}):void 0))})]}),Object(ce.jsx)(ne.a.Footer,{children:Object(ce.jsx)(ie.a,{variant:"contained",color:"primary",className:" float-end mb-10",style:{backgroundColor:"#014d88",color:"white"},onClick:e.onHide,children:"Close"})})]})})};te.a.locale("en"),se()();const le={Add:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(N.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(D.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(E.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(k.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(q.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(M.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(L.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(V.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(X.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(S.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(U.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(J.a,{...e,ref:t})))};var de=e=>{const[t,a]=Object(r.useState)(!0),[s,i]=Object(r.useState)(!1),[n,c]=Object(r.useState)({}),o=e=>{var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),i=t.getFullYear()-r.getFullYear(),n=t.getMonth()-r.getMonth();return(n<0||0===n&&t.getDate()<r.getDate())&&i--,0===i?n+" month(s)":i+" year(s)"},l=e=>{const t=e.identifier.find((e=>"HospitalNumber"==e.type));return t?t.value:""},d=e=>{e.target.checked?a(!1):a(!0)};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(u.a,{icons:le,title:"Find Patient ",columns:[{title:"Patient Name",field:"name",hidden:t},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:e=>new Promise(((t,a)=>x.a.get("".concat(v,"pmtct/anc/pmtct-from-person?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchParam=").concat(e.search),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>e)).then((a=>{t({data:a.data.records.map((e=>({name:Object(ce.jsxs)(f.b,{to:{pathname:"/enroll-patient",state:{patientId:e.id,patientObj:e}},title:"Enroll Patient",children:[" ",e.firstName+" "+e.surname]}),hospital_number:l(e.identifier),gender:e&&e.sex?e.sex:"",age:0===e.dateOfBirth||void 0===e.dateOfBirth||null===e.dateOfBirth||""===e.dateOfBirth?0:o(te()(e.dateOfBirth).format("DD-MM-YYYY")),actions:Object(ce.jsx)("div",{onClick:t=>{i(!0),c({patientId:e.id,patientObj:e})},children:Object(ce.jsxs)($.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(ce.jsx)(Z.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ce.jsx)(re.b,{})}),Object(ce.jsx)(Z.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ce.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Enroll Patient"})})]})})}))),page:e.page,totalCount:a.data.totalRecords})})))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},search:!0,searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:e=>Object(ce.jsxs)("div",{children:[Object(ce.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(ce.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==t,onChange:d,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(ce.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(ce.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(ce.jsx)(p.MTableToolbar,{...e})]})}}),Object(ce.jsx)(oe,{route:"/enroll-patient",show:s,info:n,onHide:()=>i(!1)})]})},je=s(392);te.a.locale("en"),se()();const be={Add:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(N.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(D.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(E.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(k.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(q.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(M.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(L.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(V.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(X.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(S.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(U.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(J.a,{...e,ref:t})))};var he=e=>{const[t,a]=Object(r.useState)(!0),s=e=>{e.target.checked?a(!1):a(!0)};return Object(ce.jsx)("div",{children:Object(ce.jsx)(u.a,{icons:be,title:"Find Patient ",columns:[{title:"Patient Name",field:"name",hidden:t},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:e=>new Promise(((t,a)=>x.a.get("".concat(v,"pmtct/anc/all-active-anc?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchParam=").concat(e.search),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>e)).then((a=>{t({data:a.data.records.map((e=>({name:Object(ce.jsxs)(f.b,{to:{pathname:"/patient-history",state:{patientObj:e}},title:"Click to view patient dashboard",children:[" ",e.surname?null===e||void 0===e?void 0:e.surname:null===e||void 0===e?void 0:e.fullname]}),hospital_number:e.hospitalNumber,gender:e&&e.sex?e.sex:"Female",age:e.age,actions:Object(ce.jsx)("div",{children:Object(ce.jsx)(f.b,{to:{pathname:"/patient-history",state:{patientObj:e,postValue:"ANC",entrypointValue:"PMTCT_ENTRY_POINT_ANC"}},children:Object(ce.jsxs)($.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(ce.jsx)(Z.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ce.jsx)(je.a,{})}),Object(ce.jsx)(Z.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ce.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}))),page:e.page,totalCount:a.data.totalRecords})})))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:e=>Object(ce.jsxs)("div",{children:[Object(ce.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(ce.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==t,onChange:s,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(ce.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(ce.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(ce.jsx)(p.MTableToolbar,{...e})]})}})})},me=s(162);te.a.locale("en"),se()();const pe={Add:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(N.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(D.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(E.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(k.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(q.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(M.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(L.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(V.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(X.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(S.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(U.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(J.a,{...e,ref:t})))};var ue=e=>{const[t,a]=Object(r.useState)(!0),s=e=>{e.target.checked?a(!1):a(!0)};return Object(ce.jsx)("div",{children:Object(ce.jsx)(u.a,{icons:pe,title:"Find Patient ",columns:[{title:"Patient Name",field:"name",hidden:t},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:e=>new Promise(((t,a)=>x.a.get("".concat(v,"pmtct/anc/all-active-pmtct?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchParam=").concat(e.search),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>e)).then((a=>{console.log("general PMTCT PATIENT",a),t({data:a.data.records.map((e=>({name:Object(ce.jsxs)(f.b,{to:{pathname:"/patient-history",state:{patientObj:e}},title:"Click to view patient dashboard",children:[" ",e.surname?e.surname:e.fullName]}),hospital_number:e.hospitalNumber,gender:e&&e.sex?e.sex:"Female",age:e.age,actions:Object(ce.jsx)("div",{children:Object(ce.jsx)(f.b,{to:{pathname:"/patient-history",state:{patientObj:e}},children:Object(ce.jsxs)($.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(ce.jsx)(Z.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ce.jsx)(je.a,{})}),Object(ce.jsx)(Z.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ce.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}))),page:e.page,totalCount:a.data.totalRecords})})))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:e=>Object(ce.jsxs)("div",{children:[Object(ce.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(ce.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==t,onChange:s,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(ce.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(ce.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(ce.jsx)(p.MTableToolbar,{...e})]})}})})};const Oe={borderRadius:"2px",fontSize:14};var xe=e=>{const[t,a]=Object(r.useState)("home"),[s,i]=Object(r.useState)(!1);return Object(r.useEffect)((()=>{a("home")}),[]),Object(ce.jsxs)(r.Fragment,{children:[Object(ce.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(ce.jsx)("ol",{className:"breadcrumb",children:Object(ce.jsx)("li",{className:"breadcrumb-item active",children:Object(ce.jsx)("h4",{children:"PMTCT"})})})}),Object(ce.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end mb-10",startIcon:Object(ce.jsx)(me.a,{size:"10"}),style:{backgroundColor:"#014d88"},onClick:e=>{e.preventDefault(),i(!0)},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"New Patient"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(d.a,{children:Object(ce.jsx)(j.a,{xl:12,children:Object(ce.jsx)(b.a,{style:Oe,children:Object(ce.jsx)(b.a.Body,{children:Object(ce.jsx)("div",{className:"custom-tab-1",children:Object(ce.jsxs)(h.a,{id:"controlled-tab-example",activeKey:t,onSelect:e=>a(e),className:"mb-3",children:[Object(ce.jsx)(m.a,{eventKey:"home",title:"Find Patients",children:Object(ce.jsx)(de,{})}),Object(ce.jsx)(m.a,{eventKey:"anc",title:"ANC Patients",children:Object(ce.jsx)(he,{})}),Object(ce.jsx)(m.a,{eventKey:"pmtct",title:"General PMTCT Patients",children:Object(ce.jsx)(ue,{})})]})})})})})}),Object(ce.jsx)(oe,{route:"/register-patient",show:s,onHide:()=>i(!1)})]})},ve=s(8),ge=s(888),fe=s(897),ye=s(864),Ne=s(865),Te=s(422),Se=s(869),Ce=s(870),De=s(200);te.a.locale("en"),se()();var Re=Object(ve.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){var t,a,s;const{classes:i}=e,n=e.patientObj?e.patientObj:{},[c,o]=(e.permissions&&e.permissions,Object(r.useState)(n)),[l,d]=Object(r.useState)(null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.biometricStatus),[j,b]=Object(r.useState)(!1),[h,m]=Object(r.useState)([]),[p,u]=Object(r.useState)(!1),[O,y]=Object(r.useState)(!1),[N,T]=Object(r.useState)(),[S,C]=Object(r.useState)(!1);Object(r.useEffect)((()=>{!async function(){x.a.get("".concat(v,"hiv/status/patient-current/").concat(c.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data)})).catch((e=>{}))}(),D(),console.log("patient",c)}),[e.patientObj]);const D=()=>{x.a.get("".concat(v,"modules/check?moduleName=biometric"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{b(e.data),!0===e.data&&x.a.get("".concat(v,"biometrics/devices"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{m(e.data)})).catch((e=>{console.log(e)}))})).catch((e=>{}))};return Object(ce.jsx)("div",{className:i.root,children:Object(ce.jsx)(ye.a,{children:Object(ce.jsx)(Ne.a,{children:Object(ce.jsx)(Se.a,{children:Object(ce.jsx)(Ce.a,{md:12,children:Object(ce.jsxs)(Se.a,{className:"mt-1",children:[Object(ce.jsxs)(Ce.a,{md:12,className:i.root2,children:[Object(ce.jsx)("b",{style:{fontSize:"25px"},children:null!==c&&void 0!==c&&c.fullname?null===c||void 0===c?void 0:c.fullname:null===c||void 0===c?void 0:c.fullName}),Object(ce.jsx)(f.b,{to:"/",children:Object(ce.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end ms-2 mr-2 mt-2",startIcon:Object(ce.jsx)(re.a,{}),style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(ce.jsx)(Ce.a,{md:4,className:i.root2,children:Object(ce.jsxs)("span",{children:[" ","Patient ID : ",Object(ce.jsx)("b",{children:null===c||void 0===c?void 0:c.hospitalNumber})]})}),Object(ce.jsx)(Ce.a,{md:4,className:i.root2,children:Object(ce.jsx)("span",{})}),Object(ce.jsx)(Ce.a,{md:4,className:i.root2,children:Object(ce.jsxs)("span",{children:[" ","Age :"," ",Object(ce.jsxs)("b",{children:[null===c||void 0===c?void 0:c.age," ",Number(null===c||void 0===c?void 0:c.age)>1?"years":"year"]})]})}),Object(ce.jsx)(Ce.a,{md:4,children:Object(ce.jsxs)("span",{children:[" ","Gender :"," ",Object(ce.jsx)("b",{children:c.sex&&null!==c.sex?c.sex:"Female"})]})}),Object(ce.jsx)(Ce.a,{md:4,className:i.root2,children:Object(ce.jsx)("span",{children:" "})}),Object(ce.jsx)(Ce.a,{md:4,className:i.root2,children:Object(ce.jsxs)("span",{children:[" ","Address :"," ",Object(ce.jsxs)("b",{children:[(null===c||void 0===c?void 0:c.address)&&(e=>{const t=null===e||void 0===e?void 0:e.address.find((e=>e.city)),a=t&&null!==(null===t||void 0===t?void 0:t.line[0])?null===t||void 0===t?void 0:t.line[0]:"",s=t&&t.city&&null!==t.city?t.city:"";return t?a+" "+s:""})(null===c||void 0===c?void 0:c.address)," "]})]})}),Object(ce.jsxs)(Ce.a,{md:12,children:[!0===j?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)("div",{children:Object(ce.jsx)(De.a,{variant:"caption",children:Object(ce.jsxs)(Te.a,{color:!0===(null===(a=e.patientObj)||void 0===a?void 0:a.biometricStatus)?"green":"red",size:"mini",children:["Biometric Status",Object(ce.jsx)(Te.a.Detail,{children:!0===(null===(s=e.patientObj)||void 0===s?void 0:s.biometricStatus)?"Captured":"Not Captured"})]})})})}):Object(ce.jsx)(ce.Fragment,{}),null!==e.patientObj.dynamicHivStatus||null!==e.patientObj.staticHivStatus?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)("div",{children:Object(ce.jsx)(De.a,{variant:"caption",children:Object(ce.jsxs)(Te.a,{color:"Positive"!==e.patientObj.dynamicHivStatus&&"Positive"!==e.patientObj.staticHivStatus?"green":"red",size:"mini",children:["HIV Status",Object(ce.jsxs)(Te.a.Detail,{children:["Unknown"!==e.patientObj.dynamicHivStatus?e.patientObj.dynamicHivStatus?e.patientObj.dynamicHivStatus:e.patientObj.staticHivStatus:"",(e.patientObj.hivStatus,e.patientObj.hivStatus)]})]})})})}):Object(ce.jsx)(ce.Fragment,{})]})]})})})})})})})),Ie=s(884),we=s(576);const Ae=Object(we.a)((e=>({navItemText:{padding:e.spacing(2)}})));var Pe=function(e){Ae();let t="";const a=e.patientObj?e.patientObj:{},[s,i]=Object(r.useState)(a),[n,c]=Object(r.useState)(),[o,l]=Object(r.useState)(!1);let d=!1,j=!1;Object(r.useEffect)((()=>{e.deliveryInfo.filter((e=>{"Labour and Delivery"===e.activityName&&l(!0)})),b(),t=e.patientObj&&e.patientObj.sex?e.patientObj.sex:null,c("Female"===t)}),[e.patientObj]),Object(r.useEffect)((()=>{e.deliveryInfo.filter((e=>{"Labour and Delivery"===e.activityName&&l(!0)}))}),[e.deliveryInfo]);const b=()=>{x.a.get("".concat(v,"observation/person/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{const t=e.data,a=t.filter((e=>"mental health"===e.type)),s=t.filter((e=>"initial evaluation"===e.type));a.length>1&&(d=!0),s.length>1&&(j=!0)})).catch((e=>{}))};return Object(ce.jsxs)("div",{children:[Object(ce.jsxs)(Ie.a,{size:"large",color:"black",inverted:!0,children:[Object(ce.jsx)(Ie.a.Item,{onClick:()=>{e.setActiveContent({...e.activeContent,route:"recent-history"})},children:" Home"}),("Positive"===s.dynamicHivStatus||"Positive"===s.staticHivStatus||"Positive"===(null===s||void 0===s?void 0:s.hivStatus))&&Object(ce.jsx)(ce.Fragment,{children:!0!==s.pmtctRegStatus?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Ie.a.Item,{onClick:()=>{e.setActiveContent({...e.activeContent,route:"anc-pnc"})},children:"PMTCT Enrollment"})}):Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Ie.a.Item,{onClick:()=>{e.setActiveContent({...e.activeContent,route:"consultation"})},children:"Follow Up Visit"}),!0!==s.deliveryStatus&&!0!==o&&Object(ce.jsx)(Ie.a.Item,{onClick:()=>{e.setActiveContent({...e.activeContent,route:"labour-delivery"})},children:"Labour and Delivery"}),(null===s||void 0===s?void 0:s.ancNo)&&Object(ce.jsxs)(Ie.a.Item,{onClick:()=>{e.setActiveContent({...e.activeContent,route:"partners"})},children:[" ","Partners"]}),Object(ce.jsxs)(Ie.a.Item,{onClick:()=>{e.setActiveContent({...e.activeContent,route:"infants"})},children:[" ","Infant Information"]})]})}),Object(ce.jsx)(Ie.a.Item,{onClick:()=>{e.setActiveContent({...e.activeContent,route:"patient-history"})},children:"History"})]}),console.log(s)]})},He=s(893),Be=s(894),Ee=s(871),Ye=s(872),ke=s(873),_e=s(43),Me=s.n(_e);const Fe=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Le=e=>{let t=e.patientObj?e.patientObj:{};const[a,s]=Object(r.useState)({}),[i,n]=Object(r.useState)(!1);let c={...a};const o=Fe(),[d,j]=Object(r.useState)(!1),[b,h]=Object(r.useState)([]),[m,p]=Object(r.useState)([]),[u,O]=Object(r.useState)([]),[f,y]=Object(r.useState)([]),[N,T]=Object(r.useState)(!1),[S,C]=Object(r.useState)([]),[D,R]=(Object(r.useRef)(null),Object(r.useState)({ancNo:t.ancNo,dateOfViralLoad:"",dateOfVisit:"",dateOfmeternalOutcome:"",dateOfDelivery:"",dsd:"",dsdModel:"",dsdOption:"",enteryPoint:"619"===e.patientObj.entryPoint?"POINT_ENTRY_PMTCT_ANC":"POINT_ENTRY_PMTCT",fpCounseling:"",fpMethod:"",gaOfViralLoad:"",id:"",maternalOutcome:"",nextAppointmentDate:"",personUuid:t.person_uuid?t.person_uuid:t.personUuid,resultOfViralLoad:"",transferTo:"",visitStatus:"",timeOfViralLoad:""})),[I,w]=Object(r.useState)({});Object(r.useEffect)((()=>{x.a.get("".concat(v,"pmtct/anc/get-delivery-date/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{e.data&&(T(!0),R({...D,dateOfDelivery:e.data})),T(!1),R({...D,dateOfDelivery:e.data})})).catch((e=>{})),P(),B(),H(),x.a.get("".concat(v,"application-codesets/v2/PMTCT_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{C(e.data)})).catch((e=>{})),console.log(e.activeContent.activeTab),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&"home"===e.activeContent.activeTab&&(A(e.activeContent.id),n("view"===e.activeContent.actionType))}),[e.activeContent]),Object(r.useEffect)((()=>{S.map(((t,a)=>{Number(t.id)===Number(e.patientObj.entryPoint)&&w(t)}))}),[]);const A=t=>{x.a.get("".concat(v,"pmtct/anc/view-mother-visit/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{R(e.data),Y(e.data.dsdModel)})).catch((e=>{}))},P=()=>{x.a.get("".concat(v,"application-codesets/v2/VISIT_STATUS_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{p(e.data)})).catch((e=>{}))},H=()=>{x.a.get("".concat(v,"application-codesets/v2/FAMILY_PLANNING_METHOD"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{y(e.data)})).catch((e=>{}))},B=()=>{x.a.get("".concat(v,"application-codesets/v2/MATERNAL_OUTCOME"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{O(e.data)})).catch((e=>{}))},E=t=>{if(s({...c,[t.target.name]:""}),"dsdModel"===t.target.name&&Y(t.target.value),"dateOfViralLoad"===t.target.name&&""!==t.target.value){async function a(){const a=t.target.value,s=await x.a.get("".concat(v,"pmtct/anc/calculate-ga-from-person?personUuid=").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid,"&visitDate=").concat(a),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});s.data>0?(D.gaOfViralLoad=s.data,R({...D,[t.target.name]:t.target.value})):R({...D,[t.target.name]:t.target.value})}async function r(){const a=t.target.value,s=await x.a.get("".concat(v,"pmtct/anc/vl-result/?PersonUuid=").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid,"&dateResultReceived=").concat(a),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"application/json"}});s.data.length>0&&s.data[0]&&R({...D,resultOfViralLoad:s.data[0].currentViralLoad})}a(),r()}"fpCounseling"===t.target.name&&"No"===t.target.value&&(D.fpMethod="",R({...D,fpMethod:""}),R({...D,[t.target.name]:t.target.value})),"dsd"===t.target.name&&"Yes"!==t.target.value&&(D.dsdModel="",D.dsdOption="",R({...D,dsdModel:""}),R({...D,dsdOption:""}),R({...D,[t.target.name]:t.target.value})),"visitStatus"===t.target.name&&"VISIT_STATUS_PMTCT_TRANSFER_OUT"!==t.target.value&&(D.transferTo="",R({...D,transferTo:""}),R({...D,[t.target.name]:t.target.value})),R({...D,[t.target.name]:t.target.value})};function Y(e){const t="Facility"===e?"DSD_MODEL_FACILITY":"DSD_MODEL_COMMUNITY";x.a.get("".concat(v,"application-codesets/v2/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{h(e.data)})).catch((e=>{}))}const k=t=>{t.preventDefault(),c.visitStatus=D.visitStatus?"":"This field is required",c.dateOfVisit=D.dateOfVisit?"":"This field is required",c.dsd=D.dsd?"":"This field is required",c.enteryPoint=D.enteryPoint?"":"This field is required",c.fpCounseling=D.fpCounseling?"":"This field is required",c.dateOfmeternalOutcome=D.dateOfmeternalOutcome?"":"This field is required",c.maternalOutcome=D.maternalOutcome?"":"This field is required",s({...c}),Object.values(c).every((e=>""==e))&&(j(!0),e.activeContent&&"update"===e.activeContent.actionType?x.a.put("".concat(v,"pmtct/anc/update-mother-visit/").concat(e.activeContent.id),D,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{j(!1),l.b.success("Clinic Visit save successful",{position:l.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{if(j(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})})):x.a.post("".concat(v,"pmtct/anc/pmtct-visit"),D,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{j(!1),l.b.success("Clinic Visit save successful",{position:l.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{if(j(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})})))};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"col-md-8 ",children:Object(ce.jsx)("h2",{children:"Mother Follow-up Visit"})})}),Object(ce.jsx)(He.a,{children:Object(ce.jsx)(He.a.Column,{children:Object(ce.jsxs)(Be.a,{children:[Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:"VITAL SIGNS"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date of Visit ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),console.log("visiting patient",e.patientObj),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfVisit",id:"dateOfVisit",value:D.dateOfVisit,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:E,min:e.patientObj.firstAncDate,max:te()(new Date).format("YYYY-MM-DD"),disabled:i}),""!==a.dateOfVisit?Object(ce.jsx)("span",{className:o.error,children:a.dateOfVisit}):""]})}),console.log("entry point list ",S),Object(ce.jsx)("div",{className:" mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Point of Entry",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(ke.a,{type:"select",name:"enteryPoint",id:"enteryPoint",value:e.patientObj.entryPoint,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0,children:S.map(((e,t)=>Object(ce.jsx)("option",{value:e.code,children:e.display},t)))}),""!==a.enteryPoint?Object(ce.jsx)("span",{className:o.error,children:a.enteryPoint}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["FP Counselling ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(ke.a,{type:"select",name:"fpCounseling",id:"fpCounseling",value:D.fpCounseling,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),Object(ce.jsx)("option",{value:"Yes",children:"YES "}),Object(ce.jsx)("option",{value:"No",children:"NO "})]}),""!==a.fpCounseling?Object(ce.jsx)("span",{className:o.error,children:a.fpCounseling}):""]})}),"Yes"===D.fpCounseling&&Object(ce.jsx)("div",{className:" mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"FP Method "}),Object(ce.jsxs)(ke.a,{type:"select",name:"fpMethod",id:"fpMethod",value:D.fpMethod,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),f.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==a.fpMethod?Object(ce.jsx)("span",{className:o.error,children:a.fpMethod}):""]})}),"PMTCT_ENTRY_POINT_ANC"!==e.patientObj.entryPoint&&Object(ce.jsx)("div",{className:"mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date of Delivery ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfDelivery",id:"dateOfDelivery",onChange:E,value:D.dateOfDelivery,min:e.patientObj.firstAncDate,max:te()(new Date).format("YYYY-MM-DD"),disabled:N||i}),""!==a.dateOfDelivery?Object(ce.jsx)("span",{className:o.error,children:a.dateOfDelivery}):""]})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Te.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:" VIRAL LOAD "})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Viral Load Collection Date "}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfViralLoad",id:"dateOfViralLoad",value:D.dateOfViralLoad,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:e.patientObj.firstAncDate,max:te()(new Date).format("YYYY-MM-DD"),disabled:i}),""!==a.dateOfViralLoad?Object(ce.jsx)("span",{className:o.error,children:a.dateOfViralLoad}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"GA at VL Collection "}),Object(ce.jsx)(ke.a,{type:"number",name:"gaOfViralLoad",id:"gaOfViralLoad",value:D.gaOfViralLoad,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:e.patientObj.firstAncDate,disabled:!1===i||i}),""!==a.gaOfViralLoad?Object(ce.jsx)("span",{className:o.error,children:a.gaOfViralLoad}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result "}),Object(ce.jsx)(ke.a,{type:"number",name:"resultOfViralLoad",id:"resultOfViralLoad",value:D.resultOfViralLoad,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i}),""!==a.resultOfViralLoad?Object(ce.jsx)("span",{className:o.error,children:a.resultOfViralLoad}):""]})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Te.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:" DSD MODEL & OUTCOME"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["DSD ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(ke.a,{type:"select",name:"dsd",id:"dsd",value:D.dsd,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),Object(ce.jsx)("option",{value:"Yes",children:"YES "}),Object(ce.jsx)("option",{value:"No",children:"NO "})]}),""!==a.dsd?Object(ce.jsx)("span",{className:o.error,children:a.dsd}):""]})}),"Yes"===D.dsd&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"DSD Model"}),Object(ce.jsxs)(ke.a,{type:"select",name:"dsdModel",id:"dsdModel",value:D.dsdModel,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),Object(ce.jsx)("option",{value:"Facility",children:"Facility "}),Object(ce.jsx)("option",{value:"Community",children:"Community "})]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"DSD Model Type"}),Object(ce.jsxs)(ke.a,{type:"select",name:"dsdOption",id:"dsdOption",value:D.dsdOption,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),b.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.code)))]})]})})]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Maternal Outcome ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(ke.a,{type:"select",name:"maternalOutcome",id:"maternalOutcome",value:D.maternalOutcome,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),u.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.code)))]})]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date of Outcome ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfmeternalOutcome",id:"dateOfmeternalOutcome",value:D.dateOfmeternalOutcome,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:e.patientObj.firstAncDate,max:te()(new Date).format("YYYY-MM-DD"),disabled:i}),""!==a.dateOfmeternalOutcome?Object(ce.jsx)("span",{className:o.error,children:a.dateOfmeternalOutcome}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Client Visit Status ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(ke.a,{type:"select",name:"visitStatus",id:"visitStatus",value:D.visitStatus,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),m.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.code)))]}),""!==a.visitStatus?Object(ce.jsx)("span",{className:o.error,children:a.visitStatus}):""]})}),"VISIT_STATUS_PMTCT_TRANSITIONED_TO_ART_CLINIC"===D.visitStatus&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Name of ART Facility "}),Object(ce.jsx)(ke.a,{type:"text",name:"transferTo",id:"transferTo",value:D.transferTo,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i}),""!==a.transferTo?Object(ce.jsx)("span",{className:o.error,children:a.transferTo}):""]})})]}),""!==D.maternalOutcome&&"MATERNAL_OUTCOME_ACTIVE_IN_PMTCT"!==D.maternalOutcome&&""!==D.maternalOutcome&&"MATERNAL_OUTCOME_ALIVE"!==D.maternalOutcome?Object(ce.jsx)("h2",{style:{color:"red"},children:"Kindly fill tracking form"}):"",Object(ce.jsx)("br",{}),e.activeContent&&e.activeContent.actionType?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",hidden:i,className:o.button,startIcon:Object(ce.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:k,disabled:d,children:d?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:o.button,startIcon:Object(ce.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:k,disabled:d,children:d?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})]})})})]})},ze=s(886),Ve=s(874),We=s(875);const Ue=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Ge=t=>{var a,s,i;t.patientObj&&t.patientObj;const[n,c]=Object(r.useState)({}),[o,d]=Object(r.useState)();let j={...n};const b=Ue(),[h,m]=Object(r.useState)(!1),[p,u]=Object(r.useState)([]),[O,f]=Object(r.useState)({infantArv:!1,motherArt:!1,outCome:!1}),[y,N]=Object(r.useState)(!1),[T,S]=Object(r.useState)(!1),[C,D]=Object(r.useState)([]),[R,I]=Object(r.useState)([]),[w,A]=Object(r.useState)([]),[P,H]=Object(r.useState)([]),[B,E]=Object(r.useState)([]),[Y,k]=Object(r.useState)([]),[_,M]=Object(r.useState)([]),[F,L]=Object(r.useState)({}),[z,V]=Object(r.useState)([]),[W,U]=Object(r.useState)([]),[G,q]=Object(r.useState)([]),[K,X]=Object(r.useState)([]),[Q,J]=Object(r.useState)(!1),[$,ee]=Object(r.useState)({infantVisitRequestDto:""}),[ae,se]=Object(r.useState)([]),[re,ie]=Object(r.useState)(0),[ne,oe]=Object(r.useState)(!1),[le,de]=Object(r.useState)({personUuid:t.patientObj.person_uuid?t.patientObj.person_uuid:t.patientObj.personUuid?t.patientObj.personUuid:"",ancNumber:t.patientObj.ancNo,bodyWeight:"",breastFeeding:"",infantHospitalNumber:"",visitDate:"",visitStatus:"",infantOutcomeAt18Months:"",id:"",uuid:"",uniqueUuid:"",ctxStatus:""}),[je,be]=Object(r.useState)({ageAtCtx:"",ancNumber:"",arvDeliveryPoint:"",infantArvTime:"",infantArvType:"",infantHospitalNumber:"",timingOfAvrWithin72Hours:"",timingOfAvrAfter72Hours:"",id:"",uuid:"",uniqueUuid:"",dateOfCtx:""}),[he,me]=Object(r.useState)({ancNumber:t.patientObj.ancNo,motherArtInitiationTime:"",regimenTypeId:"",regimenId:"",id:"",uuid:"",uniqueUuid:""}),[pe,ue]=Object(r.useState)({ageAtTest:"",ancNumber:t.patientObj.ancNo,dateResultReceivedAtFacility:"",dateResultReceivedByCaregiver:"",dateSampleCollected:"",dateSampleSent:"",infantHospitalNumber:"",results:"",testType:"",id:"",uuid:"",uniqueUuid:""}),[Oe,xe]=Object(r.useState)({rapidTestType:"",ageAtTest:"",dateOfTest:"",result:"",ancNumber:t.patientObj.ancNo,uniqueUuid:"",uuid:""}),[ve,ge]=Object(r.useState)({bodyWeight:""}),[fe,ye]=Object(r.useState)([]),Ne=e=>{let t=e.split("-"),a=Number(t[0]),s=Number(t[1]),r=Number(t[2]),i=te()().format("YYYY-MM-DD").split("-"),n=Number(i[0]),c=Number(i[1]),o=Number(i[2]);te()("20240313","YYYYMMDD").fromNow();if(Number(n)===Number(a)){if(c>s){return 4*(c-s)}if(c===s){let e=(o-r)/7;if(1>e)return 0;{let t=e;return Math.floor(t)}}}else if(n>a){let e=52.1429*(n-a);return Math.floor(e)}},Se=e=>{e<7&&x.a.get("".concat(v,"application-codesets/v2/1ST PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{D(e.data)})).catch((e=>{})),e>11&&x.a.get("".concat(v,"application-codesets/v2/2ND_3RD_PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{D(e.data)})).catch((e=>{}))};Object(r.useEffect)((()=>{qe(),Re(),Ie(),Le(),Fe(),Ge(),_e(),Pe(),Ae(),we(),t.activeContent.id&&""!==t.activeContent.id&&null!==t.activeContent.id&&"child"===t.activeContent.activeTab&&(Ce(t.activeContent.id),J("view"===t.activeContent.actionType))}),[t.patientObj.hospitalNumber,t.activeContent]);const Ce=e=>{x.a.get("".concat(v,"pmtct/anc/view-infantvisit/").concat(t.activeContent.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{var a;at(e.data.infantArvDto.arvDeliveryPoint),a=e.data.infantVisitRequestDto.infantHospitalNumber,x.a.get("".concat(v,"pmtct/anc/get-infant-by-mother-person-uuid/").concat(t.patientObj.person_uuid?t.patientObj.person_uuid:t.patientObj.personUuid?t.patientObj.personUuid:t.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{let t=e.data.filter((e=>e.hospitalNumber.toString()===a.toString())),s=Ne(t[0].dateOfDelivery);Se(s),L(t[0])})).catch((e=>{})),ee(e.data),de({...e.data.infantVisitRequestDto}),be({...e.data.infantArvDto}),me({...e.data.infantMotherArtDto}),ue({...e.data.infantPCRTestDto}),xe({...e.data.infantRapidAntiBodyTestDto}),De({...e.data.infantVisitRequestDto}),st(e.data.infantMotherArtDto.regimenTypeId),Xe(e.data.infantArvDto.arvDeliveryPoint),"INFANT_PCR_RESULT_POSITIVE"!==e.data.infantPCRTestDto.results&&"INFANT_PCR_RESULT_POSITIVE"!==e.data.infantRapidTestDTO.result||oe(!0)})).catch((e=>{}))},De=e=>{d(e.infantHospitalNumber);x.a.get("".concat(v,"pmtct/anc/get-form-filter/").concat(e.infantHospitalNumber),{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{le.infantHospitalNumber=e.infantHospitalNumber,f(t.data)})).catch((e=>{}))},Re=()=>{x.a.get("".concat(v,"pmtct/anc/get-infant-by-mother-person-uuid/").concat(t.patientObj.person_uuid?t.patientObj.person_uuid:t.patientObj.personUuid?t.patientObj.personUuid:t.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log("setInfants",e),u(e.data)})).catch((e=>{}))},Ie=()=>{x.a.get("".concat(v,"application-codesets/v2/TIME_ART_INITIATION_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{A(e.data)})).catch((e=>{}))},we=()=>{x.a.get("".concat(v,"application-codesets/v2/INFANT_OUTCOME_AT_18_MONTHS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{X(e.data)})).catch((e=>{}))},Ae=()=>{x.a.get("".concat(v,"application-codesets/v2/INFANT_PCR_RESULT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{q(e.data)})).catch((e=>{}))},Pe=()=>{x.a.get("".concat(v,"application-codesets/v2/INFANT_ARV_PROPHYLAXIS_TYPE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{V(e.data)})).catch((e=>{}))},_e=()=>{x.a.get("".concat(v,"application-codesets/v2/AGE_CTX_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{U(e.data)})).catch((e=>{}))},Fe=()=>{x.a.get("".concat(v,"application-codesets/v2/TIMING_MOTHERS_ART_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{E(e.data)})).catch((e=>{}))},Le=()=>{x.a.get("".concat(v,"application-codesets/v2/CHILD_FOLLOW_UP_VISIT_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{H(e.data)})).catch((e=>{}))},Ge=()=>{x.a.get("".concat(v,"hiv/regimen/arv/adult"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{const t=e.data.filter((e=>1===e.id||2===e.id||14===e.id));M(t)})).catch((e=>{}))},qe=()=>{x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{I(e.data)})).catch((e=>{}))},Ke=e=>{if(c({...j,[e.target.name]:""}),"visitDate"===e.target.name&&""!==e.target.value){async function a(){e.target.value;(await x.a.get("".concat(v,"pmtct/anc/is-infant-visit-date-exists?hospitalNumber=").concat(o,"&visitDate=").concat(e.target.value),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}})).data?(n.visitDate="",l.b.error("Visit Date already exist"),N(!0)):N(!1)}async function s(){const t=e.target.value,a=await x.a.get("".concat(v,"pmtct/anc/calculate-ga3?hospitalNumber=").concat(o,"&visitDate=").concat(t),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});a.data>=0&&(pe.ageAtTest=a.data,de({...le,[e.target.name]:e.target.value}))}s(),a(),(e=>{var t;let a=te()(F.dateOfDelivery),s=te()(e).diff(a,"months"),r=!(null===F||void 0===F||null===(t=F.infantPCRTestDto)||void 0===t||!t.id);s>=9&&r?(S(!0),ye(s>=18?["First Rapid Antibody","Second Rapid Antibody"]:["First Rapid Antibody"])):S(!1)})(e.target.value),xe({rapidTestType:"",ageAtTest:"",dateOfTest:"",result:"",ancNumber:t.patientObj.ancNo,uniqueUuid:"",uuid:""}),de({...le,[e.target.name]:e.target.value})}else"ctxStatus"===e.target.name?(de({...le,[e.target.name]:e.target.value}),be({...je,dateOfCtx:""}),c({...j,[e.target.name]:"",dateOfCtx:""})):de({...le,[e.target.name]:e.target.value})},Xe=t=>{"Within 72 hour"===t?x.a.get("".concat(v,"application-codesets/v2/TIMING_PROPHYLAXIS_WITHIN_72HRS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{se(e.data)})).catch((e=>{})):"After 72 hour"===t?x.a.get("".concat(v,"application-codesets/v2/TIMING_PROPHYLAXIS_After_72HRS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{se(e.data)})).catch((e=>{})):e.target.value},Qe=e=>{if(c({...j,[e.target.name]:""}),"dateOfCtx"===e.target.name){let t=(e=>{let t=te()(F.dateOfDelivery),a=te()(e);return console.log(months,a.diff(t,"months")),a.diff(t,"months")<2?"AGE_CTX_INITIATION_<_2__MONTHS":"AGE_CTX_INITIATION_\u2265_2__MONTHS"})(e.target.value);be({...je,[e.target.name]:e.target.value,ageAtCtx:t})}else if("dateOfArv"===e.target.name){let t=(e=>{const t=te()(F.dateOfDelivery);return te()(e).diff(t,"hours")<72?"Within 72 hour":"After 72 hour"})(e.target.value);be({...je,[e.target.name]:e.target.value,infantArvTime:t})}else"infantArvType"===e.target.name?(be({...je,[e.target.name]:e.target.value}),c({...n,[e.target.name]:"",dateOfArv:""})):be({...je,[e.target.name]:e.target.value});"arvDeliveryPoint"===e.target.name&&Xe(e.target.value)},Je=e=>{c({...j,[e.target.name]:""}),me({...he,[e.target.name]:e.target.value})},Ze=e=>{c({...j,[e.target.name]:""}),xe({...Oe,[e.target.name]:e.target.value})},$e=e=>{c({...j,[e.target.name]:""}),ue({...pe,[e.target.name]:e.target.value})},et=()=>(j.visitDate=le.visitDate?"":"This field is required",j.bodyWeight=le.bodyWeight?"":"This field is required","YES"===le.ctxStatus&&(j.dateOfCtx=je.dateOfCtx?"":"This field is required"),"INFANT_ARV_PROPHYLAXIS_TYPE_NONE"!==je.infantArvType&&je.infantArvType&&(j.dateOfArv=je.dateOfArv?"":"This field is required"),c({...j}),Object.values(j).every((e=>""===e))),tt=e=>{e.preventDefault(),console.log(et()),et()&&(m(!0),$.infantArvDto=je,$.infantArvDto.visitDate=le.visitDate,$.infantMotherArtDto=he,$.infantMotherArtDto.visitDate=le.visitDate,$.infantPCRTestDto=pe,$.infantPCRTestDto.visitDate=le.visitDate,$.infantPCRTestDto.infantHospitalNumber=je.infantHospitalNumber,$.infantRapidAntiBodyTestDto=Oe,$.infantVisitRequestDto=le,console.log($),t.activeContent&&t.activeContent.actionType?x.a.put("".concat(v,"pmtct/anc/update-infant-visit"),$,{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{m(!1),l.b.success("Clinic Visit save successful",{position:l.b.POSITION.BOTTOM_CENTER}),t.setActiveContent({...t.activeContent,route:"recent-history"})})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})})):x.a.post("".concat(v,"pmtct/anc/infant-visit-consolidated"),$,{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{m(!1),l.b.success("Clinic Visit save successful",{position:l.b.POSITION.BOTTOM_CENTER}),t.setActiveContent({...t.activeContent,route:"recent-history"})})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})})))},at=e=>{"Within 72 hour"===e?x.a.get("".concat(v,"application-codesets/v2/TIMING_PROPHYLAXIS_After_72HRS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{se(e.data)})).catch((e=>{})):"After 72 hour"===e&&x.a.get("".concat(v,"application-codesets/v2/TIMING_PROPHYLAXIS_WITHIN_72HRS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{se(e.data)})).catch((e=>{}))},st=e=>{x.a.get("".concat(v,"hiv/regimen/types/").concat(e),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{k(e.data)})).catch((e=>{}))};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("h2",{children:"Clinic Follow-up Visit"}),Object(ce.jsxs)(He.a,{columns:"equal",children:[Object(ce.jsx)(He.a.Column,{children:Object(ce.jsxs)(Be.a,{children:[Object(ce.jsx)(Te.a,{as:"a",color:"blue",ribbon:!0,children:"Infant's"}),Object(ce.jsx)("br",{}),Object(ce.jsx)(ze.a,{celled:!0,children:Object(ce.jsxs)(ze.a.Item,{children:["Given Name",Object(ce.jsx)("span",{className:"float-end",children:Object(ce.jsx)("b",{children:"Hospital Number"})})]})}),p&&p.map((e=>Object(ce.jsx)(ze.a,{celled:!0,children:Object(ce.jsxs)(ze.a.Item,{onClick:()=>function(e){var t;console.log("obj",e),L(e),be({...je,ageAtCtx:e.infantArvDto.ageAtCtx,dateOfCtx:e.infantArvDto.dateOfCtx});let a=Ne(e.dateOfDelivery);ie(a),Se(a),"INFANT_PCR_RESULT_POSITIVE"===(null===e||void 0===e||null===(t=e.infantPCRTestDto)||void 0===t?void 0:t.results)&&(ue({...pe,testType:"Confirmatory PCR"}),x.a.get("".concat(v,"application-codesets/v2/2ND_3RD_PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{D(e.data)})).catch((e=>{}))),d(e.hospitalNumber),x.a.get("".concat(v,"pmtct/anc/get-form-filter/").concat(e.hospitalNumber),{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{le.infantHospitalNumber=e.hospitalNumber,je.infantHospitalNumber=e.hospitalNumber,pe.infantHospitalNumber=e.hospitalNumber,f(t.data)})).catch((e=>{}))}(e),style:{cursor:"pointer"},children:[Object(ce.jsx)(Te.a,{as:"a",color:"blue",children:e.firstName}),Object(ce.jsx)(Te.a,{as:"a",color:"teal",className:"float-end",tag:!0,children:e.hospitalNumber})]})})))]})}),Object(ce.jsx)(He.a.Column,{width:12,children:Object(ce.jsxs)(Be.a,{children:[Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsxs)("h4",{style:{color:"#fff"},children:["Infant Clinic Visit -"," ",le&&le.infantHospitalNumber?le.infantHospitalNumber:" "]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date of Visit ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"visitDate",id:"visitDate",value:le.visitDate,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ke,min:F.dateOfDelivery,max:te()(new Date).format("YYYY-MM-DD"),required:!0,disabled:Q}),""!==n.visitDate?Object(ce.jsx)("span",{className:b.error,children:n.visitDate}):"",!0===y?Object(ce.jsx)("span",{className:b.error,children:"Visit Date already exist"}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date of Birth ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfBirth",id:"dateOfBirth",value:F.dateOfDelivery,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ke,disabled:!0,required:!0})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Infant Hospital Number"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(ke.a,{type:"text",name:"infantHospitalNumber",id:"infantHospitalNumber",value:le.infantHospitalNumber,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ke,disabled:!0}),""!==n.infantHospitalNumber?Object(ce.jsx)("span",{className:b.error,children:n.infantHospitalNumber}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Surname",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(ke.a,{type:"text",name:"surname",id:"surname",value:F.surname,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ke,disabled:!0})]})}),F.firstName&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Firstname",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(ke.a,{type:"text",name:"surname",id:"surname",value:F.firstName,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ke,disabled:!0})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Sex ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"sex",id:"sex",onChange:Ke,value:F.sex,disabled:!0,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),R.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==n.sex?Object(ce.jsx)("span",{className:b.error,children:n.sex}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Mother ANC number"}),Object(ce.jsx)(ke.a,{type:"text",name:"ancNumber",id:"ancNumber",value:t.patientObj.ancNo,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ke,disabled:!0}),""!==n.ancNumber?Object(ce.jsx)("span",{className:b.error,children:n.ancNumber}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Body Weight ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(Ve.a,{children:[Object(ce.jsx)(ke.a,{type:"number",name:"bodyWeight",id:"bodyWeight",onChange:Ke,min:"1",max:"150",onKeyUp:e=>{if("bodyWeight"===e.target.name&&(e.target.value<3||e.target.value>150)){const e="Body weight must not be greater than 150 and less than 3";ge({...ve,bodyWeight:e})}else ge({...ve,bodyWeight:""})},value:le.bodyWeight,style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:Q}),Object(ce.jsx)(We.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"kg"})]}),""!==n.bodyWeight?Object(ce.jsx)("span",{className:b.error,children:n.bodyWeight}):"",""!==ve.weight?Object(ce.jsx)("span",{className:b.error,children:ve.weight}):"",""!==le.bodyWeight&&le.bodyWeight<=0?Object(ce.jsx)("span",{className:b.error,children:"Invalid Body Weight "}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Breast Feeding ?"}),Object(ce.jsxs)(ke.a,{type:"select",name:"breastFeeding",id:"breastFeeding",value:le.breastFeeding,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ke,disabled:Q,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),Object(ce.jsx)("option",{value:"YES",children:"YES "}),Object(ce.jsx)("option",{value:"NO",children:"NO "})]}),""!==n.breastFeeding?Object(ce.jsx)("span",{className:b.error,children:n.breastFeeding}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Visit Status"}),Object(ce.jsxs)(ke.a,{type:"select",name:"visitStatus",id:"visitStatus",value:le.visitStatus,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ke,disabled:Q,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),P.map(((e,t)=>Object(ce.jsx)("option",{value:e.code,children:e.display},t)))]}),""!==n.visitStatus?Object(ce.jsx)("span",{className:b.error,children:n.visitStatus}):""]})}),O&&!0===O.outCome&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Infant outcome at 18 months"}),Object(ce.jsxs)(ke.a,{type:"select",name:"infantOutcomeAt18Months",id:"infantOutcomeAt18Months",value:le.infantOutcomeAt18Months,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ke,disabled:Q,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),K.map(((e,t)=>Object(ce.jsx)("option",{value:e.code,children:e.display},t)))]}),""!==n.infantOutcomeAt18Months?Object(ce.jsx)("span",{className:b.error,children:n.infantOutcomeAt18Months}):""]})})]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Te.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:" Mother's ART "})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Timing of mother's ART Initiation"," "]}),Object(ce.jsxs)(ke.a,{type:"select",name:"motherArtInitiationTime",id:"motherArtInitiationTime",value:he.motherArtInitiationTime,onChange:Je,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),B.map(((e,t)=>Object(ce.jsx)("option",{value:e.code,children:e.display},t)))]}),""!==n.motherArtInitiationTime?Object(ce.jsx)("span",{className:b.error,children:n.motherArtInitiationTime}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Original Regimen Line "}),Object(ce.jsxs)(ke.a,{type:"select",name:"regimenTypeId",id:"regimenTypeId",value:he.regimenTypeId,onChange:e=>{let t=e.target.value;me({...he,regimenTypeId:t}),st(t)},required:!0,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"",children:" Select"}),_.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.description},e.id)))]}),""!==n.regimenTypeId?Object(ce.jsx)("span",{className:b.error,children:n.regimenTypeId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Original Regimen "}),Object(ce.jsxs)(ke.a,{type:"select",name:"regimenId",id:"regimenId",value:he.regimenId,onChange:Je,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"",children:" Select"}),Y.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.description},e.id)))]}),""!==n.regimenId?Object(ce.jsx)("span",{className:b.error,children:n.regimenId}):""]})})]})]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:" Infant ARV & CTX"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"CTX "}),Object(ce.jsxs)(ke.a,{type:"select",name:"ctxStatus",id:"ctxStatus",value:null===F||void 0===F?void 0:F.ctxStatus,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ke,disabled:!0,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),Object(ce.jsx)("option",{value:"YES",children:"YES "}),Object(ce.jsx)("option",{value:"NO",children:"NO "})]})]})}),"YES"===(null===F||void 0===F?void 0:F.ctxStatus)&&Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date of CTX initiation"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfCtx",id:"dateOfCtx",value:null===F||void 0===F||null===(a=F.infantArvDto)||void 0===a?void 0:a.dateOfCtx,onChange:Qe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:F.dateOfDelivery,max:te()(new Date).format("YYYY-MM-DD"),disabled:!0}),""!==n.dateOfCtx?Object(ce.jsx)("span",{className:b.error,children:n.dateOfCtx}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Age at CTX Initiation "}),Object(ce.jsxs)(ke.a,{type:"select",name:"ageAtCtx",id:"ageAtCtx",value:null===F||void 0===F||null===(s=F.infantArvDto)||void 0===s?void 0:s.ageAtCtx,onChange:Qe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),W.map(((e,t)=>Object(ce.jsx)("option",{value:e.code,children:e.display},t)))]}),""!==n.ageAtCtx?Object(ce.jsx)("span",{className:b.error,children:n.ageAtCtx}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Infant ARV Prophylaxhis Type "}),Object(ce.jsxs)(ke.a,{type:"select",name:"infantArvType",id:"infantArvType",value:je.infantArvType,onChange:Qe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),z.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==n.infantArvType?Object(ce.jsx)("span",{className:b.error,children:n.infantArvType}):""]})}),je.infantArvType&&"INFANT_ARV_PROPHYLAXIS_TYPE_NONE"!==je.infantArvType&&Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date of ARV Prophylaxis"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfArv",id:"dateOfArv",value:je.dateOfArv,onChange:Qe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:F.dateOfDelivery,max:te()(new Date).format("YYYY-MM-DD"),disabled:Q}),""!==n.dateOfArv?Object(ce.jsx)("span",{className:b.error,children:n.dateOfArv}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:" Timing of ARV Prophylaxis "}),Object(ce.jsxs)(ke.a,{type:"select",name:"arvDeliveryPoint",id:"arvDeliveryPoint",value:je.arvDeliveryPoint,onChange:Qe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),Object(ce.jsx)("option",{value:"Within 72 hour",children:"Within 72 hour "}),Object(ce.jsx)("option",{value:"After 72 hour",children:"After 72 hour "})]}),""!==n.arvDeliveryPoint?Object(ce.jsx)("span",{className:b.error,children:n.arvDeliveryPoint}):""]})}),je.arvDeliveryPoint&&Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:[" ","Within 72 hour"===je.arvDeliveryPoint?"Timing Of ARV Prophylaxhis Withn 72 hrs":"Timing Of ARV Prophylaxhis After 72 hrs"]}),Object(ce.jsxs)(ke.a,{type:"select",name:"Within 72 hour"===je.arvDeliveryPoint?"timingOfAvrWithin72Hours":"timingOfAvrAfter72Hours",id:"Within 72 hour"===je.arvDeliveryPoint?"timingOfAvrWithin72Hours":"timingOfAvrAfter72Hours",value:"Within 72 hour"===je.arvDeliveryPoint?je.timingOfAvrWithin72Hours:je.timingOfAvrAfter72Hours,onChange:Qe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),ae.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==n.arvDeliveryPoint?Object(ce.jsx)("span",{className:b.error,children:n.arvDeliveryPoint}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:" Place of Delivery "}),Object(ce.jsxs)(ke.a,{type:"select",name:"infantArvTime",id:"infantArvTime",value:je.infantArvTime,onChange:Qe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),Object(ce.jsx)("option",{value:"Facility Delivery",children:"Facility Delivery"}),Object(ce.jsxs)("option",{value:"Delivered outside facility",children:["Delivered outside facility"," "]})]}),""!==n.infantArvTime?Object(ce.jsx)("span",{className:b.error,children:n.infantArvTime}):""]})})]})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Te.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsxs)("h4",{style:{color:"#fff"},children:[" ","Infant PCR/HIV test ",pe.testType," "]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:" PCR testing Type"}),Object(ce.jsxs)(ke.a,{type:"select",name:"testType",id:"testType",value:pe.testType,onChange:$e,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),Object(ce.jsx)("option",{value:"First PCR",children:"First PCR"}),Object(ce.jsx)("option",{value:"Second PCR",children:"Second PCR"}),Object(ce.jsx)("option",{value:"Confirmatory PCR",children:"Confirmatory PCR"})]}),""!==n.testType?Object(ce.jsx)("span",{className:b.error,children:n.testType}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Age at Test(months)"}),Object(ce.jsxs)(ke.a,{type:"select",name:"ageAtTest",id:"ageAtTest",value:pe.ageAtTest,onChange:$e,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),C.length>0&&C.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==n.ageAtTest?Object(ce.jsx)("span",{className:b.error,children:n.ageAtTest}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date sample collected"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateSampleCollected",id:"dateSampleCollected",value:pe.dateSampleCollected,onChange:$e,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:F.dateOfDelivery,max:te()(new Date).format("YYYY-MM-DD"),disabled:Q}),""!==n.dateSampleCollected?Object(ce.jsx)("span",{className:b.error,children:n.dateSampleCollected}):""]})}),re<7&&"INFANT_PCR_RESULT_POSITIVE"!==(null===F||void 0===F||null===(i=F.infantPCRTestDto)||void 0===i?void 0:i.results)&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Sample Sent"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateSampleSent",id:"dateSampleSent",value:pe.dateSampleSent,onChange:$e,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:pe.dateSampleCollected,max:te()(new Date).format("YYYY-MM-DD"),disabled:Q}),""!==n.dateSampleSent?Object(ce.jsx)("span",{className:b.error,children:n.dateSampleSent}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Result Received at Facility"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateResultReceivedAtFacility",id:"dateResultReceivedAtFacility",value:pe.dateResultReceivedAtFacility,onChange:$e,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:pe.dateSampleCollected,max:te()(new Date).format("YYYY-MM-DD"),disabled:Q}),""!==n.dateResultReceivedAtFacility?Object(ce.jsx)("span",{className:b.error,children:n.dateResultReceivedAtFacility}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Caregiver Given Result"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateResultReceivedByCaregiver",id:"dateResultReceivedByCaregiver",value:pe.dateResultReceivedByCaregiver,onChange:$e,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:pe.dateSampleCollected,max:te()(new Date).format("YYYY-MM-DD"),disabled:Q}),""!==n.dateResultReceivedByCaregiver?Object(ce.jsx)("span",{className:b.error,children:n.dateResultReceivedByCaregiver}):""]})})]}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result"}),Object(ce.jsxs)(ke.a,{type:"select",name:"results",id:"results",value:pe.results,onChange:$e,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),G.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==n.results?Object(ce.jsx)("span",{className:b.error,children:n.results}):""]})}),""!==pe.results&&"INFANT_PCR_RESULT_POSITIVE"===pe.results?Object(ce.jsx)("h2",{style:{color:"red"},children:"Kindly fill ART form"}):""]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),T&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Te.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:" Rapid Antibody Test"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Infant Test (Rapid Test)"}),Object(ce.jsxs)(ke.a,{type:"select",name:"rapidTestType",id:"rapidTestType",value:Oe.rapidTestType,onChange:Ze,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),fe&&fe.map(((e,t)=>Object(ce.jsx)("option",{value:e,children:e},t)))]}),""!==n.testType?Object(ce.jsx)("span",{className:b.error,children:n.testType}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Age at Test(months)"}),Object(ce.jsxs)(ke.a,{type:"select",name:"ageAtTest",id:"ageAtTest",value:Oe.ageAtTest,onChange:Ze,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),C.length>0&&C.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==n.ageAtTest?Object(ce.jsx)("span",{className:b.error,children:n.ageAtTest}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date OF Test"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfTest",id:"dateOfTest",value:Oe.dateOfTest,onChange:Ze,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:F.dateOfDelivery,max:te()(new Date).format("YYYY-MM-DD"),disabled:Q}),""!==n.dateSampleCollected?Object(ce.jsx)("span",{className:b.error,children:n.dateSampleCollected}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result *"}),Object(ce.jsxs)(ke.a,{type:"select",name:"result",id:"result",value:Oe.result,onChange:Ze,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:Q,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),G.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==n.result?Object(ce.jsx)("span",{className:b.error,children:n.result}):""]})}),""!==Oe.result&&"INFANT_PCR_RESULT_POSITIVE"===Oe.result?Object(ce.jsx)("h2",{style:{color:"red"},children:"Kindly fill ART form"}):""]})]}),Object(ce.jsx)("br",{}),le&&le.infantHospitalNumber?Object(ce.jsx)(ce.Fragment,{children:t.activeContent&&t.activeContent.actionType?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",hidden:Q,className:b.button,startIcon:Object(ce.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:tt,disabled:h,children:h?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:b.button,startIcon:Object(ce.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:tt,disabled:h,children:h?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})}):""]})})]})]})};const qe={borderRadius:"2px",fontSize:14};var Ke=e=>{const[t,a]=Object(r.useState)("home"),s=e.patientObj,[i,n]=Object(r.useState)(0);return Object(r.useEffect)((()=>{a(e.activeContent.activeTab),e.patientObj.ancNo?x.a.get("".concat(v,"pmtct/anc/view-delivery2/").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{n(e.data&&e.data.numberOfInfantsAlive?e.data.numberOfInfantsAlive:0)})).catch((e=>{})):x.a.get("".concat(v,"pmtct/anc/view-delivery-with-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{n(e.data&&e.data.numberOfInfantsAlive?e.data.numberOfInfantsAlive:0)})).catch((e=>{}))}),[e.patientObj.id,e.activeContent.activeTab]),Object(ce.jsx)(r.Fragment,{children:Object(ce.jsx)(d.a,{children:Object(ce.jsx)(j.a,{xl:12,children:Object(ce.jsx)(b.a,{style:qe,children:Object(ce.jsx)(b.a.Body,{children:Object(ce.jsx)("div",{className:"custom-tab-1",children:Object(ce.jsxs)(h.a,{id:"controlled-tab-example",activeKey:t,onSelect:e=>a(e),className:"mb-3",children:[Object(ce.jsx)(m.a,{eventKey:"home",title:"MOTHER FOLLOW UP VISIT ",children:Object(ce.jsx)(Le,{patientObj:s,setActiveContent:e.setActiveContent,activeContent:e.activeContent})}),console.log(i),console.log(0!==i&&i>0),0!==i&&i>0&&Object(ce.jsx)(m.a,{eventKey:"child",title:"CHILD FOLLOW UP VISIT",children:Object(ce.jsx)(Ge,{patientObj:s,setActiveContent:e.setActiveContent,activeContent:e.activeContent})})]})})})})})})})},Xe=s(876),Qe=s(877),Je=(s(297),s(878));const Ze=e=>{if(null!==e&&""!=e){const t=new Date,a=(e.split("-"),new Date(e));let s=t.getMonth(),r=t.getFullYear(),i=t.getDate(),n=a.getMonth(),c=a.getFullYear(),o=a.getDate(),l=r-c;if(!(l>0)){let e=s-n,t=i-o,a=e>0?e:0;return a?a+"month(s)":(t>0?t:0)+"day(s)"}{let e=s-n;if(e>0)return l+" year(s)";if(e<0){return l-1+" year(s)"}if(0===e){let e=i-o;if(e>0)return l+" year(s)";if(e<0){return l-1+" year(s)"}}}}},$e=(e,t)=>{if(""===e)return l.b.error("Date of enrolllment is empty"),0;if(""===t)return l.b.error("Last menstrual Period is empty"),0;if(e<t)return l.b.error("Last menstrual Period is earlier than enrollment date"),0;{let a=te()(e),s=te()(t);return console.log("calcuateGestationalAge 2",a.diff(s,"week")),a.diff(s,"week")>=1?a.diff(s,"week"):0}},et=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var tt=e=>{var t,a,s,i,n,c,d,j;const b=e.patientObj;Object(o.g)();const h=Object(o.h)(),m=h&&h.state?h.state:null,[p,u]=Object(r.useState)([]),O=et(),[f,y]=Object(r.useState)(!1),[N,T]=Object(r.useState)([]),[S,C]=Object(r.useState)(""),[D,R]=Object(r.useState)([]),[I,w]=Object(r.useState)(!1),[A,P]=Object(r.useState)([]),[H,B]=Object(r.useState)([]),[E,Y]=Object(r.useState)(!1),[k,_]=Object(r.useState)({}),[M,F]=Object(r.useState)({}),[L,z]=Object(r.useState)([]),[V,W]=Object(r.useState)([]),[U,G]=Object(r.useState)([]),[q,K]=Object(r.useState)([]),[X,Q]=Object(r.useState)([]),[J,$]=Object(r.useState)({hepatitisB:b.hepatitisB?b.hepatitisB:"",urinalysis:b.urinalysis?b.urinalysis:"",ancNo:b.ancNo?b.ancNo:"",pmtctEnrollmentDate:"",dateOfDelivery:"",entryPoint:null===M||void 0===M?void 0:M.id,ga:"",gravida:e.patientObj.gravida,artStartDate:"",artStartTime:b.artStartTime?b.artStartTime:"",id:"",timeOfHivDiagnosis:"",tbStatus:"",hivStatus:b.hivStatus?b.hivStatus:b.staticHivStatus?b.staticHivStatus:"",lmp:null!==e&&void 0!==e&&null!==(t=e.patientObj)&&void 0!==t&&t.lmp?null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.lmp:"",gaweeks:"",pmtctType:M.display}),[ee,ae]=Object(r.useState)({ancNumber:e.patientObj.ancNo,motherArtInitiationTime:"",motherArtRegimen:"",regimenTypeId:null!==e&&void 0!==e&&null!==(s=e.patientObj)&&void 0!==s&&s.regimenTypeId?null===e||void 0===e||null===(i=e.patientObj)||void 0===i?void 0:i.regimenTypeId:"",regimenId:null!==e&&void 0!==e&&null!==(n=e.patientObj)&&void 0!==n&&n.regimenId?null===e||void 0===e||null===(c=e.patientObj)||void 0===c?void 0:c.regimenId:""});console.log("props",null===e||void 0===e?void 0:e.patientObj);const se=e=>{x.a.get("".concat(v,"hiv/regimen/types/").concat(e),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{u(e.data)})).catch((e=>{}))};Object(r.useEffect)((()=>{var t,a,s,r,i,n,c;(x.a.get("".concat(v,"application-codesets/v2/TIMING_MOTHERS_ART_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Q(e.data)})).catch((e=>{})),x.a.get("".concat(v,"application-codesets/v2/PMTCT_URINALYSIS_RESULT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{G(e.data)})).catch((e=>{})),x.a.get("".concat(v,"hiv/regimen/arv/adult"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{const t=e.data.filter((e=>1===e.id||2===e.id||14===e.id));W(t)})).catch((e=>{})),x.a.get("".concat(v,"application-codesets/v2/TIME_HIV_DIAGNOSIS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{K(e.data)})).catch((e=>{})),x.a.get("".concat(v,"application-codesets/v2/PMTCT_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{z(e.data)})).catch((e=>{})),ne(),oe(),le(),null!==e&&void 0!==e&&e.patientObj.id)&&(ie(),je(null===e||void 0===e||null===(i=e.patientObj)||void 0===i||null===(n=i.identifier)||void 0===n||null===(c=n.identifier[0])||void 0===c?void 0:c.value,null===e||void 0===e?void 0:e.patientObj.uuid));e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(re(e.activeContent.id),y("view"===e.activeContent.actionType)),null!==e&&void 0!==e&&null!==(t=e.patientObj)&&void 0!==t&&t.person_uuid||null!==m&&void 0!==m&&null!==(a=m.patientObj)&&void 0!==a&&a.person_uuid?(console.log("props.patientObj.person_uuid",e.patientObj.person_uuid),console.log("locationState.patientObj.person_uuid",m.patientObj.person_uuidd),$({...J,personUuid:m.patientObj.person_uuid})):(null!==e&&void 0!==e&&null!==(s=e.patientObj)&&void 0!==s&&s.uuid||null!==m&&void 0!==m&&null!==(r=m.patientObj)&&void 0!==r&&r.uuid)&&$({...J,personUuid:m.patientObj.uuid})}),[]),Object(r.useEffect)((()=>{m.entrypointValue?L.map(((e,t)=>{e.code===m.entrypointValue&&F(e)})):e.entrypointValue&&e.allEntryPoint.map(((t,a)=>{t.code===e.entrypointValue&&F(t)}))}),[L]),console.log(M),Object(r.useEffect)((()=>{e.getPMTCTInfo&&e.getPMTCTInfo(J)}),[J]),console.log("uuid",null===e||void 0===e?void 0:e.patientObj,null===m||void 0===m||null===(d=m.patientObj)||void 0===d?void 0:d.person_uuid);const re=t=>{x.a.get("".concat(v,"pmtct/anc/view-pmtct-enrollment/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log("testing",e.data),$({...J,...e.data}),ae({...ee,regimenTypeId:e.data.regimenTypeId,regimenId:e.data.regimenId,motherArtInitiationTime:e.data.motherArtInitiationTime}),se(e.data.regimenTypeId)})).catch((e=>{}))},ie=t=>{var a,s,r,i,n;x.a.get("".concat(v,"pmtct/anc/art/?PersonUuid=").concat(null!==e&&void 0!==e&&e.patientObj.person_Uuud?null===e||void 0===e?void 0:e.patientObj.person_Uuud:null!==e&&void 0!==e&&null!==(a=e.patientObj)&&void 0!==a&&a.personUuud?null===e||void 0===e||null===(s=e.patientObj)||void 0===s?void 0:s.personUuud:null!==e&&void 0!==e&&null!==(r=e.patientObj)&&void 0!==r&&r.person_uuid?null===e||void 0===e||null===(i=e.patientObj)||void 0===i?void 0:i.person_uuid:null===e||void 0===e||null===(n=e.patientObj)||void 0===n?void 0:n.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{var t,a;null!==e.data[0]&&null!==e&&void 0!==e&&null!==(t=e.data[0])&&void 0!==t&&t.artStartDate&&$({...J,artStartDate:null===e||void 0===e||null===(a=e.data[0])||void 0===a?void 0:a.artStartDate})})).catch((e=>{}))},ne=()=>{console.log("former",J),x.a.get("".concat(v,"application-codesets/v2/POINT_ENTRY_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data),console.log(e.data)})).catch((e=>{}))},oe=()=>{x.a.get("".concat(v,"application-codesets/v2/TIMING_MOTHERS_ART_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{B(e.data)})).catch((e=>{}))},le=()=>{x.a.get("".concat(v,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{P(e.data)})).catch((e=>{}))},de=e=>{if(_({...k,[e.target.name]:""}),$({...J,[e.target.name]:e.target.value}),console.log("payload",J),"artStartTime"===e.target.name&&""!==e.target.value)$({...J,[e.target.name]:e.target.value}),ae({...ee,motherArtInitiationTime:e.target.value});else if("lmp"===e.target.name&&""!==e.target.value){console.log("calculate ",e.target.name,e.target.value);let t=$e(J.pmtctEnrollmentDate,e.target.value);t>0?(J.gaweeks=t,$({...J,[e.target.name]:e.target.value,dateOfDelivery:""})):(l.b.error("Please select a validate date"),$({...J,[e.target.name]:"",dateOfDelivery:""}))}else if("pmtctEnrollmentDate"===e.target.name&&""!==e.target.value&&""!==J.lmp){let t=$e(e.target.value,J.lmp);t>0?(J.gaweeks=t,$({...J,[e.target.name]:e.target.value})):l.b.error("Please select a validate date")}else if("dateOfDelivery"===e.target.name&&""!==e.target.value){console.log("calculate ",e.target.name,e.target.value);let t=(e=>{let t=J.lmp,a=te()(J.lmp);if(console.log("lmp",a),t)return te()(e).diff(a,"weeks");return 0})(e.target.value);console.log("ga",t),t>0?(J.gaweeks=t,$({...J,[e.target.name]:e.target.value})):(J.gaweeks=t,l.b.error("Please select a validate date"),$({...J,[e.target.name]:e.target.value,gaweeks:""}))}else $({...J,[e.target.name]:e.target.value})},je=(e,t)=>{x.a.get("".concat(v,"pmtct/anc/hiv-status?hospitalNumber=").concat(e,"&personUuid=").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{e.data&&($({...J,hivStatus:e.data}),w(!0))})).catch((e=>{}))},be=t=>{if(t.preventDefault(),J.motherArtInitiationTime=ee.motherArtInitiationTime,J.regimenTypeId=ee.regimenTypeId,J.regimenId=ee.regimenId,J.ga=J.gaweeks,(()=>{let e={...k};return e.pmtctEnrollmentDate=J.pmtctEnrollmentDate?"":"This field is required",e.timeOfHivDiagnosis=J.timeOfHivDiagnosis?"":"This field is required",e.gaweeks=J.gaweeks?"":"This field is required",e.pmtctEnrollmentDate=J.pmtctEnrollmentDate?"":"This field is required",e.artStartDate=J.artStartDate?"":"This field is required",e.artStartTime=J.artStartTime?"":"This field is required",e.tbStatus=J.tbStatus?"":"This field is required",_({...e}),Object.values(e).every((e=>""==e))})())if(Y(!0),e.activeContent&&e.activeContent.actionType)x.a.put("".concat(v,"pmtct/anc/update-pmtct-enrollment/").concat(e.activeContent.id),J,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{Y(!1),l.b.success("Record updated successful",{position:l.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{Y(!1),l.b.error("Something went wrong",{position:l.b.POSITION.BOTTOM_CENTER})}));else{let t={...J,entryPoint:m.entrypointValue?m.entrypointValue:e.entrypointValue,personUuid:m&&m.patientObj?m.patientObj.uuid:e.patientObj.uuid,personUuid:e.patientObj.person_uuid?e.patientObj.person_uuid:m.patientObj.uuid};x.a.post("".concat(v,"pmtct/anc/pmtct-enrollment"),t,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{Y(!1),e.patientObj.pmtctRegStatus=!0,l.b.success("Enrollment save successful",{position:l.b.POSITION.BOTTOM_CENTER}),e.handleRoute?e.handleRoute(t.data):e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{console.log(e),Y(!1),l.b.error("Something went wrong",{position:l.b.POSITION.BOTTOM_CENTER})}))}};return Object(ce.jsx)("div",{children:Object(ce.jsx)(Xe.a,{className:O.root,children:Object(ce.jsx)(Qe.a,{children:Object(ce.jsxs)("form",{children:[Object(ce.jsxs)("div",{className:"row ",children:[Object(ce.jsx)("div",{className:"card-header mb-3 ",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem",marginTop:"-20px"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"PMTCT Enrollment"})}),Object(ce.jsxs)("h3",{className:"mb-3",children:[Object(ce.jsx)("span",{children:"Point of Entry: "}),M.display]}),b.ancNo&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"ANC ID"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:de,value:b.ancNo,disabled:!0})}),""!==k.ancNo?Object(ce.jsx)("span",{className:O.error,children:k.ancNo}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date of Enrollment ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"pmtctEnrollmentDate",id:"pmtctEnrollmentDate",onChange:de,value:J.pmtctEnrollmentDate,min:b.ancNo?e.patientObj.firstAncDate:null!==e&&void 0!==e&&e.newRegDate?null===e||void 0===e?void 0:e.newRegDate:"",max:te()(new Date).format("YYYY-MM-DD"),disabled:f})}),""!==k.pmtctEnrollmentDate?Object(ce.jsx)("span",{className:O.error,children:k.pmtctEnrollmentDate}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date Of Last Menstrual Period",Object(ce.jsx)("span",{style:{color:"red"},children:"*"})," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"lmp",id:"lmp",onChange:de,value:J.lmp,max:J.pmtctEnrollmentDate?J.pmtctEnrollmentDate:te()(new Date).format("YYYY-MM-DD"),disabled:null===e||void 0===e?void 0:e.ancEntryType})}),""!==k.lmp?Object(ce.jsx)("span",{className:O.error,children:k.lmp}):"",0===J.gaweeks?Object(ce.jsx)("span",{className:O.error,children:"Invalid date "}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Gestational Age (Weeks)"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:de,value:J.gaweeks,disabled:!0})}),""!==k.gaweeks?Object(ce.jsx)("span",{className:O.error,children:k.gaweeks}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Gravida ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"gravida",id:"gravida",min:"1",onChange:de,value:J.gravida,disabled:f})}),""!==k.gravida?Object(ce.jsx)("span",{className:O.error,children:k.gravida}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Art Start Date ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"artStartDate",id:"artStartDate",onChange:de,value:J.artStartDate,max:te()(new Date).format("YYYY-MM-DD"),disabled:f})}),""!==k.artStartDate?Object(ce.jsx)("span",{className:O.error,children:k.artStartDate}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Timing of ART Initiation"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"artStartTime",id:"artStartTime",onChange:de,value:J.artStartTime,disabled:f,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),H.map(((e,t)=>Object(ce.jsx)("option",{value:e.code,children:e.display},t)))]})}),""!==k.artStartTime?Object(ce.jsx)("span",{className:O.error,children:k.artStartTime}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Time Of HIV Diagnosis"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"timeOfHivDiagnosis",id:"timeOfHivDiagnosis",onChange:de,value:J.timeOfHivDiagnosis,disabled:f,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),q.map(((e,t)=>Object(ce.jsx)("option",{value:e.code,children:e.display},t)))]})}),""!==k.timeHivDiagnosis?Object(ce.jsx)("span",{className:O.error,children:k.timeHivDiagnosis}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Original Regimen Line "}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"regimenTypeId",id:"regimenTypeId",value:ee.regimenTypeId,onChange:e=>{let t=e.target.value;ae({...ee,regimenTypeId:t}),se(t)},required:!0,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:f,children:[Object(ce.jsx)("option",{value:"",children:" Select"}),V.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.description},e.id)))]})}),""!==k.regimenTypeId?Object(ce.jsx)("span",{className:O.error,children:k.regimenTypeId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Original Regimen "}),Object(ce.jsxs)(ke.a,{type:"select",name:"regimenId",id:"regimenId",value:ee.regimenId,onChange:e=>{_({...k,[e.target.name]:""}),ae({...ee,[e.target.name]:e.target.value})},style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:f,children:[Object(ce.jsx)("option",{value:"",children:" Select"}),p.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.description},e.id)))]}),""!==k.regimenId?Object(ce.jsx)("span",{className:O.error,children:k.regimenId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["TB Status ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"tbStatus",id:"tbStatus",onChange:de,value:J.tbStatus,disabled:f,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),A.map(((e,t)=>Object(ce.jsx)("option",{value:e.code,children:e.display},t)))]})}),""!==k.tbStatus?Object(ce.jsx)("span",{className:O.error,children:k.tbStatus}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Hepatitis B Status"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hepatitisB",id:"hepatitisB",onChange:de,value:J.hepatitisB,disabled:f,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Urinalysis"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"urinalysis",id:"urinalysis",onChange:de,value:J.urinalysis,disabled:f,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),U.length>0&&U.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["HIV Status ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hivStatus",id:"hivStatus",disabled:!!I||!!b.ancNo,onChange:de,value:J.hivStatus,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"}),Object(ce.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==k.hivStatus?Object(ce.jsx)("span",{className:O.error,children:k.hivStatus}):"","Positive"==J.hivStatus&&Object(ce.jsx)("div",{className:"mt-3 ",children:Object(ce.jsx)("h3",{style:{color:"red"},children:"Kindly refer for ART"})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date of Delivery"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfDelivery",id:"dateOfDelivery",onChange:de,value:J.dateOfDelivery,max:te()(new Date).format("YYYY-MM-DD"),min:null!==e&&void 0!==e&&e.ancEntryType?null===e||void 0===e||null===(j=e.patientObj)||void 0===j?void 0:j.lmp:J.lmp,disabled:f})}),""!==k.artStartDate?Object(ce.jsx)("span",{className:O.error,children:k.artStartDate}):"",0===J.gaweeks&&""===J.lmp?Object(ce.jsx)("span",{className:O.error,children:"Last menstrual period date is empty "}):""]})})]}),Object(ce.jsxs)("div",{children:[" ",Object(ce.jsx)(ce.Fragment,{})]}),E?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),e.hideUpdateButton&&Object(ce.jsx)(ce.Fragment,{children:e.activeContent&&e.activeContent.actionType?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",hidden:f,className:O.button,startIcon:Object(ce.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:be,disabled:E,children:E?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:O.button,startIcon:Object(ce.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:be,disabled:E,children:E?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})})})},at=s(103),st=s.n(at);const rt=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var it=e=>{const t=e.patientObj;console.log(t);Object(o.g)();const a=rt(),[s,i]=Object(r.useState)(!1),[n,c]=Object(r.useState)({}),[d,j]=Object(r.useState)([]),[b,h]=Object(r.useState)({ancSetting:"",bodyWeight:"",diastolic:"",encounterDate:"",facilityId:1,height:"",personId:"",pulse:"",respiratoryRate:"",systolic:"",temperature:"",visitId:""}),m=e=>{h({...b,[e.target.name]:e.target.value})};return Object(r.useEffect)((()=>{x.a.get("".concat(v,"application-codesets/v2/TEST_SETTING_CPMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log(e),j(e.data)})).catch((e=>{}))}),[]),Object(ce.jsx)("div",{children:Object(ce.jsx)(Xe.a,{className:a.root,children:Object(ce.jsx)(Qe.a,{children:Object(ce.jsxs)("form",{children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h2",{children:"ANC Enrollment"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"ANC Setting"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"ancSetting",id:"encounterDate",onChange:m,value:b.ancSetting,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),d.length>0&&d.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display})))]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["ANC No ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date of 1st ANC ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate,max:te()(new Date).format("YYYY-MM-DD")})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Gravida"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate,min:"0"})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Parity"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date Of Last Menstrual Period"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"encounterDate",id:"encounterDate",onChange:m,max:te()(new Date).format("YYYY-MM-DD"),value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Expected Date Of Delivery "}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"encounterDate",id:"encounterDate",onChange:m,max:te()(new Date).format("YYYY-MM-DD"),value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Gestational Age (Weeks)"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate,disabled:!0})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Time of HIV Diagnosis"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("h3",{children:"Syphilis Information"}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Tested for syphilis?"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Test Result"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate,max:te()(new Date).format("YYYY-MM-DD")})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Treated for Syphilis"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Referred for syphilis treatment"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("h3",{children:"PMTCT HTS"}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Previously known HIV positive?"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date tested HIV positive"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate,max:te()(new Date).format("YYYY-MM-DD")})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Accepted HIV Testing?"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"HIV test result"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"HIV Restesting?"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Received HIV test result?"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("h3",{children:"Hepatitis Information"}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Tested for Hepatitis B"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Hepatitis B test result"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Tested for Hepatitis C"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Hepatitis C test result"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate})})]})}),Object(ce.jsx)("h3",{children:"Partner Notification"}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Agreed to partner notification?"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate,children:Object(ce.jsx)("option",{value:"",children:"Select"})})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Partner's HIV status"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate,children:Object(ce.jsx)("option",{value:"",children:"Select"})})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Partner referred to?"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:m,value:b.encounterDate,children:Object(ce.jsx)("option",{value:"",children:"Select"})})})]})})]}),s?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(ce.jsx)(Me.a,{}),onClick:t=>{t.preventDefault(),i(!0),x.a.post("".concat(v,"patient/vital-sign/"),b,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{i(!1),e.patientObj.commenced=!0,l.b.success("Vital signs save successful"),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{i(!1),l.b.error("Something went wrong")}))},children:s?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(ce.jsx)(Z.a,{variant:"contained",className:a.button,startIcon:Object(ce.jsx)(st.a,{}),children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})};const nt=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var ct=e=>{const t=e.patientObj,a=nt(),[s,i]=Object(r.useState)([]),[n,c]=Object(r.useState)([]),[o,d]=Object(r.useState)([]),[j,b]=Object(r.useState)([]),[h,m]=Object(r.useState)(""),[p,u]=Object(r.useState)(""),[O,f]=Object(r.useState)(!1),[y,N]=Object(r.useState)(!1),[T,S]=Object(r.useState)({}),[C,D]=Object(r.useState)([]),[R,I]=Object(r.useState)([]),[w,A]=Object(r.useState)([]),[P,H]=Object(r.useState)(!1),[B,E]=Object(r.useState)([]),[Y,k]=Object(r.useState)({placeOfDelivery:"",ancNo:t.ancNo,artStartedLdWard:"",bookingStatus:"",childGivenArvWithin72:"",childStatus:"",dateOfDelivery:"",deliveryTime:"",episiotomy:"",feedingDecision:"",gaweeks:"",hbstatus:"",hcstatus:"",hivExposedInfantGivenHbWithin24hrs:"",nonHbvExposedInfantGivenHbWithin24hrs:"",maternalOutcome:"",maternalOutcomeChild:"",modeOfDelivery:"",onArt:"",referalSource:"",romDeliveryInterval:"",vaginalTear:"",numberOfInfantsAlive:"",numberOfInfantsDead:"",personUuid:e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid});Object(r.useEffect)((()=>{L(),W(),G(),q(),U(),M(),V(),z(),F(),console.log("on it ",Y),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(_(e.activeContent.id),N("view"===e.activeContent.actionType))}),[e.patientObj.id,e.activeContent]);const _=t=>{x.a.get("".concat(v,"pmtct/anc/view-delivery/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log("on it ",e.data),K(e.data.dateOfDelivery,"dateOfDelivery"),k(e.data)})).catch((e=>{}))},M=()=>{x.a.get("".concat(v,"application-codesets/v2/BOOKING STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{I(e.data)})).catch((e=>{}))},F=()=>{x.a.get("".concat(v,"application-codesets/v2/PLACE_OF_DELIVERY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{c(e.data)})).catch((e=>{}))},L=()=>{x.a.get("".concat(v,"pmtct/anc/get-delivery-date/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log(e.data),e.data&&(H(!0),Y.dateOfDelivery=e.data,K(e.data,"dateOfDelivery"))})).catch((e=>{}))},z=()=>{x.a.get("".concat(v,"application-codesets/v2/TIME_HIV_DIAGNOSIS_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{E(e.data)})).catch((e=>{}))},V=()=>{x.a.get("".concat(v,"application-codesets/v2/ROM_DELIVERY_INTERVAL"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{A(e.data)})).catch((e=>{}))},W=()=>{x.a.get("".concat(v,"application-codesets/v2/MODE_DELIVERY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{i(e.data)})).catch((e=>{}))},U=()=>{x.a.get("".concat(v,"application-codesets/v2/CHILD_STATUS_DELIVERY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{D(e.data)})).catch((e=>{}))},G=()=>{x.a.get("".concat(v,"application-codesets/v2/FEEDING DECISION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{d(e.data)})).catch((e=>{}))},q=()=>{x.a.get("".concat(v,"application-codesets/v2/MATERNAL_OUTCOME"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{b(e.data)})).catch((e=>{}))},K=async(t,a)=>{const s=t,r=await x.a.get("".concat(v,"pmtct/anc/calculate-ga-from-person?personUuid=").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid,"&visitDate=").concat(s),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});r.data>0?(Y.gaweeks=r.data,Y.dateOfDelivery=t,m(r.data)):(l.b.error("Please select a validate date"),Y.dateOfDelivery=t)},X=e=>{S({...T,[e.target.name]:""}),"dateOfDelivery"===e.target.name&&""!==e.target.value?(K(e.target.value,e.target.name),k({...Y,[e.target.name]:e.target.value})):"childStatus"===e.target.name?(k({...Y,[e.target.name]:e.target.value,numberOfInfantsAlive:"",numberOfInfantsDead:""}),S({...T,numberOfInfantsDead:"",numberOfInfantsAlive:""})):"gaweeks"===e.target.name?(m(e.target.value),k({...Y,[e.target.name]:e.target.value})):k({...Y,[e.target.name]:e.target.value})},Q=t=>{t.preventDefault(),(()=>{let e={...T};return e.artStartedLdWard=Y.artStartedLdWard?"":"This field is required",e.placeOfDelivery=Y.placeOfDelivery?"":"This field is required",e.vaginalTear=Y.vaginalTear?"":"This field is required",e.onArt=Y.onArt?"":"This field is required",e.modeOfDelivery=Y.modeOfDelivery?"":"This field is required",e.maternalOutcome=Y.maternalOutcome?"":"This field is required",e.hivExposedInfantGivenHbWithin24hrs=Y.hivExposedInfantGivenHbWithin24hrs?"":"This field is required",e.hcstatus=Y.hcstatus?"":"This field is required",e.hbstatus=Y.hbstatus?"":"This field is required",e.gaweeks=h?"":"This field is required",e.feedingDecision=Y.feedingDecision?"":"This field is required",e.episiotomy=Y.episiotomy?"":"This field is required",e.deliveryTime=Y.deliveryTime?"":"This field is required",e.dateOfDelivery=Y.dateOfDelivery?"":"This field is required",e.childStatus=Y.childStatus?"":"This field is required",e.childGivenArvWithin72=Y.childGivenArvWithin72?"":"This field is required",e.bookingStatus=Y.bookingStatus?"":"This field is required",""!==Y.childStatus&&"CHILD_STATUS_DELIVERY_STILL_BIRTH"!==Y.childStatus&&(e.numberOfInfantsAlive=Y.numberOfInfantsAlive?"":"This field is required"),""!==Y.childStatus&&"CHILD_STATUS_DELIVERY_STILL_BIRTH"!==Y.childStatus&&(e.numberOfInfantsDead=""!==Y.numberOfInfantsDead?"":"This field is required"),S({...e}),Object.values(e).every((e=>""==e))})()?(f(!0),e.activeContent&&e.activeContent.actionType?x.a.put("".concat(v,"pmtct/anc/update-delivery/").concat(e.activeContent.id),Y,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{f(!1),l.b.success("Record updated successful",{position:l.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{f(!1),l.b.error("Something went wrong",{position:l.b.POSITION.BOTTOM_CENTER})})):x.a.post("".concat(v,"pmtct/anc/pmtct-delivery"),Y,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{f(!1),e.patientObj.deliveryStatus=!0,l.b.success("Record save successful",{position:l.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{f(!1),l.b.error("Something went wrong",{position:l.b.POSITION.BOTTOM_CENTER})}))):l.b.error("All field are required",{position:l.b.POSITION.BOTTOM_CENTER})};return Object(ce.jsx)("div",{children:Object(ce.jsx)(Xe.a,{className:a.root,children:Object(ce.jsxs)(Qe.a,{children:[console.log(t),Object(ce.jsxs)("form",{children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h2",{children:"Labour and Delivery"}),e.patientObj.ancNo&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"ANC ID"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:X,value:Y.ancNo,disabled:!0})}),""!==T.ancNo?Object(ce.jsx)("span",{className:a.error,children:T.ancNo}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Booking Status ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"bookingStatus",id:"bookingStatus",onChange:X,value:Y.bookingStatus,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),R.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==T.bookingStatus?Object(ce.jsx)("span",{className:a.error,children:T.bookingStatus}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date of Delivery ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfDelivery",id:"dateOfDelivery",onChange:X,value:Y.dateOfDelivery,min:e.patientObj.firstAncDate,max:te()(new Date).format("YYYY-MM-DD"),disabled:P||y})}),""!==T.dateOfDelivery?Object(ce.jsx)("span",{className:a.error,children:T.dateOfDelivery}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Gestational Age (weeks)"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:X,value:h,disabled:!0,min:"0"})}),""!==T.gaweeks?Object(ce.jsx)("span",{className:a.error,children:T.gaweeks}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"ROM Delivery Interval"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"romDeliveryInterval",id:"romDeliveryInterval",onChange:X,value:Y.romDeliveryInterval,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),w.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==T.romDeliveryInterval?Object(ce.jsx)("span",{className:a.error,children:T.romDeliveryInterval}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Place of delivery ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"placeOfDelivery",id:"placeOfDelivery",onChange:X,value:Y.placeOfDelivery,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),n.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==T.placeOfDelivery?Object(ce.jsx)("span",{className:a.error,children:T.placeOfDelivery}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Mode of Delivery ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(ke.a,{type:"select",name:"modeOfDelivery",id:"modeOfDelivery",value:Y.modeOfDelivery,onChange:X,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),s.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==T.modeOfDelivery?Object(ce.jsx)("span",{className:a.error,children:T.modeOfDelivery}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Episiotomy ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"episiotomy",id:"episiotomy",onChange:X,value:Y.episiotomy,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==T.episiotomy?Object(ce.jsx)("span",{className:a.error,children:T.episiotomy}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Vaginal Tear ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"vaginalTear",id:"vaginalTear",onChange:X,value:Y.vaginalTear,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==T.vaginalTear?Object(ce.jsx)("span",{className:a.error,children:T.vaginalTear}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["On ART? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"onArt",id:"onArt",onChange:X,value:Y.onArt,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==T.onArt?Object(ce.jsx)("span",{className:a.error,children:T.onArt}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Time of HIV Diagnosis"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"deliveryTime",id:"deliveryTime",onChange:X,value:Y.deliveryTime,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),B.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==T.deliveryTime?Object(ce.jsx)("span",{className:a.error,children:T.deliveryTime}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["ART started in L&D ward"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"artStartedLdWard",id:"artStartedLdWard",onChange:X,value:Y.artStartedLdWard,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==T.artStartedLdWard?Object(ce.jsx)("span",{className:a.error,children:T.artStartedLdWard}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Hepatitis B Status ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hbstatus",id:"hbstatus",onChange:X,value:Y.hbstatus,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==T.hbstatus?Object(ce.jsx)("span",{className:a.error,children:T.hbstatus}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Hepatitis C Status ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hcstatus",id:"hcstatus",onChange:X,value:Y.hcstatus,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==T.hcstatus?Object(ce.jsx)("span",{className:a.error,children:T.hcstatus}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Feeding decision ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"feedingDecision",id:"feedingDecision",onChange:X,value:Y.feedingDecision,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),o.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==T.feedingDecision?Object(ce.jsx)("span",{className:a.error,children:T.feedingDecision}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Child given ARV within 72 hrs"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"childGivenArvWithin72",id:"childGivenArvWithin72",onChange:X,value:Y.childGivenArvWithin72,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==T.childGivenArvWithin72?Object(ce.jsx)("span",{className:a.error,children:T.childGivenArvWithin72}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["HBV exposed infant given Hep B Ig within 24 hrs of birth"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hivExposedInfantGivenHbWithin24hrs",id:"hivExposedInfantGivenHbWithin24hrs",onChange:X,value:Y.hivExposedInfantGivenHbWithin24hrs,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==T.hivExposedInfantGivenHbWithin24hrs?Object(ce.jsx)("span",{className:a.error,children:T.hivExposedInfantGivenHbWithin24hrs}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Non HBV exposed infant given HBV vaccine within 24hrs of birth: ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"nonHbvExposedInfantGivenHbWithin24hrs",id:"hivExposedInfantGivenHbWithin24hrs",onChange:X,value:Y.nonHbvExposedInfantGivenHbWithin24hrs,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==T.hivExposedInfantGivenHbWithin24hrs?Object(ce.jsx)("span",{className:a.error,children:T.hivExposedInfantGivenHbWithin24hrs}):""]})}),Object(ce.jsx)("h3",{children:"Maternal Outcome"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Maternal Outcome ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"maternalOutcome",id:"maternalOutcome",onChange:X,value:Y.maternalOutcome,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),j.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==T.maternalOutcome?Object(ce.jsx)("span",{className:a.error,children:T.maternalOutcome}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Child status ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"childStatus",id:"childStatus",onChange:X,value:Y.childStatus,disabled:y,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),C.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==T.childStatus?Object(ce.jsx)("span",{className:a.error,children:T.childStatus}):""]})}),Y.childStatus&&"CHILD_STATUS_DELIVERY_STILL_BIRTH"!==Y.childStatus&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Number of Child Alive"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"Number",name:"numberOfInfantsAlive",id:"numberOfInfantsAlive",onChange:X,value:Y.numberOfInfantsAlive,disabled:y,min:"0"})}),""!==T.numberOfInfantsAlive?Object(ce.jsx)("span",{className:a.error,children:T.numberOfInfantsAlive}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Number of Child Dead"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"Number",name:"numberOfInfantsDead",id:"numberOfInfantsDead",onChange:X,value:Y.numberOfInfantsDead,disabled:y,min:"0"})}),""!==T.numberOfInfantsDead?Object(ce.jsx)("span",{className:a.error,children:T.numberOfInfantsDead}):""]})})]})]}),""!==Y.maternalOutcome&&"MATERNAL_OUTCOME_ACTIVE_IN_PMTCT"!==Y.maternalOutcome&&""!==Y.maternalOutcome&&"MATERNAL_OUTCOME_ALIVE"!==Y.maternalOutcome?Object(ce.jsx)("h2",{style:{color:"red"},children:"Kindly fill tracking form"}):"",O?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),e.activeContent&&e.activeContent.actionType?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",hidden:y,className:a.button,startIcon:Object(ce.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:Q,disabled:O,children:O?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(ce.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:Q,disabled:O,children:O?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})]})]})})})},ot=(s(94),s(198)),lt=s(862),dt=s(891),jt=s(197),bt=s.n(jt);const ht=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}})));var mt=e=>{console.log(e);const t=ht(),[a,s]=(Object(o.g)(),Object(r.useState)({})),[i,n]=Object(r.useState)(!1),[c,d]=Object(r.useState)(!1),[j,b]=Object(r.useState)([]),[h,m]=Object(r.useState)([]),[p,u]=Object(r.useState)([]),[O,f]=Object(r.useState)([]),[y,N]=Object(r.useState)([]),[T,S]=Object(r.useState)([]),[C,D]=Object(r.useState)([]);let R={...a};const[I,w]=Object(r.useState)(""),[A,P]=Object(r.useState)(""),[H,B]=Object(r.useState)(""),[E,Y]=Object(r.useState)({active:!0,personId:e.patientObj.personId,clientCode:e.patientObj&&e.patientObj.clientCode?e.patientObj.clientCode:"",breastFeeding:e.patientObj&&e.patientObj.breastFeeding?e.patientObj.breastFeeding:"",dateVisit:e.patientObj&&e.patientObj.dateVisit?e.patientObj.dateVisit:"",firstTimeVisit:e.patientObj&&e.patientObj.firstTimeVisit?e.patientObj.firstTimeVisit:"",indexClient:e.patientObj&&e.patientObj.indexClient?e.patientObj.indexClient:"",numChildren:e.patientObj&&e.patientObj.numChildren?e.patientObj.numChildren:"",numWives:e.patientObj&&e.patientObj.numWives?e.patientObj.numWives:"",pregnant:e.patientObj&&e.patientObj.pregnant?e.patientObj.pregnant:"",previouslyTested:e.patientObj?e.patientObj.previouslyTested:"",referredFrom:e.patientObj?e.patientObj.referredFrom:"",riskAssessment:e.patientObj&&e.patientObj.riskAssessment?e.patientObj.riskAssessment:{},riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:"",targetGroup:e.patientObj&&e.patientObj.targetGroup?e.patientObj.targetGroup:"",testingSetting:e.patientObj?e.patientObj.testingSetting:"",typeCounseling:e.patientObj?e.patientObj.typeCounseling:"",relationshipWithIndexClient:e.patientObj?e.patientObj.relationshipWithIndexClient:"",indexClientCode:e.patientObj?e.patientObj.indexClientCode:""});Object(r.useEffect)((()=>{k(),L(),z(),V(),F(),M(),_()}),[e.patientObj]);const k=()=>{x.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{b(e.data)})).catch((e=>{}))},_=()=>{x.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{D(e.data)})).catch((e=>{}))},M=()=>{x.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{S(e.data)})).catch((e=>{}))},F=()=>{x.a.get("".concat(v,"application-codesets/v2/COUNSELING_TYPE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{N(e.data)})).catch((e=>{}))},L=()=>{x.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{m(e.data)})).catch((e=>{}))},z=()=>{x.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{u(e.data)})).catch((e=>{}))},V=()=>{x.a.get("".concat(v,"application-codesets/v2/GENDER"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{f(e.data)})).catch((e=>{}))},W=e=>{if(s({...R,[e.target.name]:""}),"indexClientCode"===e.target.name&&""!==e.target.value){async function t(){const t=e.target.value,a=await x.a.get("".concat(v,"hts/client/").concat(t),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});"Record Not Found"!==a.data?(P(""),w(a.data)):(w(""),P(a.data))}t()}Y({...E,[e.target.name]:e.target.value})},U=(t,a)=>{e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([...e.completed,a])};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt.a,{className:t.root,children:Object(ce.jsxs)(Qe.a,{children:[Object(ce.jsx)("h2",{style:{color:"#000"},children:"CLIENT INTAKE FORM "}),Object(ce.jsx)("br",{}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Target Group *"}),Object(ce.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:W,value:E.targetGroup,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),j.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==a.targetGroup?Object(ce.jsx)("span",{className:t.error,children:a.targetGroup}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Client Code *"}),Object(ce.jsx)(ke.a,{type:"text",name:"clientCode",id:"clientCode",value:E.clientCode,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==a.clientCode?Object(ce.jsx)("span",{className:t.error,children:a.clientCode}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Referred From *"}),Object(ce.jsxs)("select",{className:"form-control",name:"referredFrom",id:"referredFrom",onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),p.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==a.referredFrom?Object(ce.jsx)("span",{className:t.error,children:a.referredFrom}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Setting*"}),Object(ce.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:E.testingSetting,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),h.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==a.testingSetting?Object(ce.jsx)("span",{className:t.error,children:a.testingSetting}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Visit Date  "}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateVisit",id:"dateVisit",value:E.dateVisit,onChange:W,min:E.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==a.dateVisit?Object(ce.jsx)("span",{className:t.error,children:a.dateVisit}):""]})}),E.age>9&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Number of Children ","<5"," years"]}),Object(ce.jsx)(ke.a,{type:"number",name:"numChildren",id:"numChildren",min:0,value:E.numChildren,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),E.age>9&&"376"==E.sexId&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Number of wives/co-wives"}),Object(ce.jsx)(ke.a,{type:"number",name:"numWives",id:"numWives",min:0,value:E.numWives,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Index Testing"}),Object(ce.jsxs)("select",{className:"form-control",name:"indexClient",id:"indexClient",value:E.indexClient,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]}),""!==a.indexClient?Object(ce.jsx)("span",{className:t.error,children:a.indexClient}):""]})}),"true"===E.indexClient&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Relationship of the index client"}),Object(ce.jsxs)("select",{className:"form-control",name:"relationshipWithIndexClient",id:"relationshipWithIndexClient",value:E.relationshipWithIndexClient,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),C.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Index Client Code/ID"}),Object(ce.jsx)(ke.a,{type:"text",name:"indexClientCode",id:"indexClientCode",value:E.indexClientCode,onBlur:e=>{!async function(){const e=E.clientCode;"Record Not Found"!==(await x.a.get("".concat(v,"hts/client/").concat(e),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}})).data?B("Client code already exist"):B("")}()},onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==H?Object(ce.jsx)("span",{className:t.error,children:H}):""]})})]}),"377"===E.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Pregnant"}),Object(ce.jsxs)("select",{className:"form-control",name:"pregnant",id:"pregnant",value:E.pregnant,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),T.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Breast Feeding"}),Object(ce.jsxs)("select",{className:"form-control",name:"breastFeeding",id:"breastFeeding",value:E.breastFeeding,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]})]})})]}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"First time visit"}),Object(ce.jsxs)("select",{className:"form-control",name:"firstTimeVisit",id:"firstTimeVisit",value:E.firstTimeVisit,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]}),""!==a.firstTimeVisit?Object(ce.jsx)("span",{className:t.error,children:a.firstTimeVisit}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Previously tested within the last 3 months"}),Object(ce.jsxs)("select",{className:"form-control",name:"previouslyTested",id:"previouslyTested",value:E.previouslyTested,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]}),""!==a.previouslyTested?Object(ce.jsx)("span",{className:t.error,children:a.previouslyTested}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Type of Counseling"}),Object(ce.jsxs)("select",{className:"form-control",name:"typeCounseling",id:"typeCounseling",value:E.typeCounseling,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),y.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==a.typeCounseling?Object(ce.jsx)("span",{className:t.error,children:a.typeCounseling}):""]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)(dt.a,{content:"Save & Continue",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:t=>{t.preventDefault();const a={clientCode:E.clientCode,dateVisit:E.dateVisit,extra:{},firstTimeVisit:E.firstTimeVisit,indexClient:E.indexClient,numChildren:E.numChildren,numWives:E.numWives,personId:e.patientObj.personId,hospitalNumber:E.clientCode,previouslyTested:E.previouslyTested,referredFrom:E.referredFrom,targetGroup:E.targetGroup,testingSetting:E.testingSetting,typeCounseling:E.typeCounseling,breastFeeding:E.breastFeeding,pregnant:E.pregnant,relationshipWithIndexClient:E.relationshipWithIndexClient,riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:""};R.clientCode=E.clientCode?"":"This field is required.",R.typeCounseling=E.typeCounseling?"":"This field is required.",R.testingSetting=E.testingSetting?"":"This field is required.",R.targetGroup=E.targetGroup?"":"This field is required.",R.referredFrom=E.referredFrom?"":"This field is required.",R.previouslyTested=E.previouslyTested?"":"This field is required.",R.indexClient=E.indexClient?"":"This field is required.",R.firstTimeVisit=E.firstTimeVisit?"":"This field is required.",R.dateVisit=E.dateVisit?"":"This field is required.",s({...R}),Object.values(R).every((e=>""==e))?x.a.post("".concat(v,"hts"),a,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{n(!1),e.setPatientObj(t.data),e.patientAge>15?U("pre-test-counsel","basic"):U("hiv-test","baisc")})).catch((e=>{if(n(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})})):l.b.error("All fields are required",{position:l.b.POSITION.BOTTOM_CENTER})}})})})]})})]})})})},pt=s(890);const ut=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var Ot=e=>{const t=ut(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",s=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.sex:"",i=e.patientObj&&e.patientObj?e.patientObj.id:"",[n,c]=Object(r.useState)(!1),[o,d]=Object(r.useState)({});const[j,b]=Object(r.useState)({sexPartnerHivPositive:"",newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""}),[h,m]=Object(r.useState)({htsClientId:i,knowledgeAssessment:{},personId:a,riskAssessment:{},stiScreening:{},tbScreening:{},sexPartnerRiskAssessment:{}}),[p,u]=Object(r.useState)({previousTestedHIVNegative:"",timeLastHIVNegativeTestResult:"",clientPregnant:"",clientInformHivTransRoutes:"",clientInformRiskkHivTrans:"",clientInformPreventingsHivTrans:"",clientInformPossibleTestResult:"",informConsentHivTest:""}),[O,f]=Object(r.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:""}),[y,N]=Object(r.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:""}),[T,S]=Object(r.useState)({currentCough:"",weightLoss:"",lymphadenopathy:"",fever:"",nightSweats:""});Object(r.useEffect)((()=>{e.patientObj&&(u(e.patientObj.knowledgeAssessment&&null!==e.patientObj.knowledgeAssessment?e.patientObj.knowledgeAssessment:{}),f(e.patientObj.riskAssessment&&null!==e.patientObj.riskAssessment?e.patientObj.riskAssessment:{}),b(e.patientObj.sexPartnerRiskAssessment&&null!==e.patientObj.sexPartnerRiskAssessment?e.patientObj.sexPartnerRiskAssessment:{}),N(e.patientObj.stiScreening&&null!==e.patientObj.stiScreening?e.patientObj.stiScreening:{}),S(e.patientObj.tbScreening&&null!==e.patientObj.tbScreening?e.patientObj.tbScreening:{}),e.patientObj.riskStratificationResponseDto&&0!==Object.keys(e.patientObj.riskStratificationResponseDto.riskAssessment).length&&null===e.patientObj.riskAssessment?f({...O,...e.patientObj.riskStratificationResponseDto.riskAssessment}):f({...O,...e.patientObj.riskAssessment}))}),[e.patientObj]);const C=(t,a)=>{e.completed.includes(a)||e.setCompleted([...e.completed,a]),e.handleItemClick(t)},D=e=>{u({...p,[e.target.name]:e.target.value})},R=e=>{f({...O,[e.target.name]:e.target.value})},I=Object.values(O).filter((e=>"true"===e)),w=e=>{b({...j,[e.target.name]:e.target.value})},A=Object.values(j).filter((e=>"true"===e)),P=e=>{N({...y,[e.target.name]:e.target.value})},H=Object.values(y).filter((e=>"true"===e)),[B,E]=Object(r.useState)(0),Y=e=>{if("true"===e.target.value){const e=B+1;e>=0&&e<=5&&E(e)}if("false"===e.target.value){const e=B-1;E(e<=0?0:e)}S({...T,[e.target.name]:e.target.value})};return console.log(j),Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt.a,{className:t.root,children:Object(ce.jsxs)(Qe.a,{children:[Object(ce.jsx)("h2",{children:"PRE TEST COUNSELING"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"rgb(0,181,173)",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Knowledge Assessment"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Previously tested HIV negative *"}),Object(ce.jsxs)("select",{className:"form-control",name:"previousTestedHIVNegative",id:"previousTestedHIVNegative",value:p.previousTestedHIVNegative,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.previousTestedHIVNegative?Object(ce.jsx)("span",{className:t.error,children:o.previousTestedHIVNegative}):""]})}),"true"===p.previousTestedHIVNegative&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Time of last HIV Negative test Result*"}),Object(ce.jsxs)("select",{className:"form-control",name:"timeLastHIVNegativeTestResult",id:"timeLastHIVNegativeTestResult",value:p.timeLastHIVNegativeTestResult,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsxs)("option",{value:"<1",children:[" ","< 1"," month"]}),Object(ce.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(ce.jsx)("option",{value:"4-6 Months",children:"4-6 Months"}),Object(ce.jsxs)("option",{value:">6 Months",children:[" ",">6"," Months"]})]}),""!==o.timeLastHIVNegativeTestResult?Object(ce.jsx)("span",{className:t.error,children:o.timeLastHIVNegativeTestResult}):""]})}),"Female"===s&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Client pregnant *"}),Object(ce.jsxs)("select",{className:"form-control",name:"clientPregnant",id:"clientPregnant",value:p.clientPregnant,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.clientPregnant?Object(ce.jsx)("span",{className:t.error,children:o.clientPregnant}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Client informed about HIV transmission routes *"}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformHivTransRoutes",id:"clientInformHivTransRoutes",value:p.clientInformHivTransRoutes,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.clientInformHivTransRoutes?Object(ce.jsx)("span",{className:t.error,children:o.clientInformHivTransRoutes}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Client informed about risk factors for HIV transmission *"}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformRiskkHivTrans",id:"clientInformRiskkHivTrans",value:p.clientInformRiskkHivTrans,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.clientInformRiskkHivTrans?Object(ce.jsx)("span",{className:t.error,children:o.clientInformRiskkHivTrans}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Client informed on preventing HIV transmission methods *"}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformPreventingsHivTrans",id:"clientInformPreventingsHivTrans",value:p.clientInformPreventingsHivTrans,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.clientInformPreventingsHivTrans?Object(ce.jsx)("span",{className:t.error,children:o.clientInformPreventingsHivTrans}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Client informed about possible test results *"}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformPossibleTestResult",id:"clientInformPossibleTestResult",value:p.clientInformPossibleTestResult,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.clientInformPossibleTestResult?Object(ce.jsx)("span",{className:t.error,children:o.clientInformPossibleTestResult}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Informed consent for HIV testing given *"}),Object(ce.jsxs)("select",{className:"form-control",name:"informConsentHivTest",id:"informConsentHivTest",value:p.informConsentHivTest,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.informConsentHivTest?Object(ce.jsx)("span",{className:t.error,children:o.informConsentHivTest}):""]})}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Clinical TB screening"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Current cough *"}),Object(ce.jsxs)("select",{className:"form-control",name:"currentCough",id:"currentCough",value:T.currentCough,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.currentCough?Object(ce.jsx)("span",{className:t.error,children:o.currentCough}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Weight loss *"}),Object(ce.jsxs)("select",{className:"form-control",name:"weightLoss",id:"weightLoss",value:T.weightLoss,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.weightLoss?Object(ce.jsx)("span",{className:t.error,children:o.weightLoss}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Lymphadenopathy (swelling of the lymph nodes) *"}),Object(ce.jsxs)("select",{className:"form-control",name:"lymphadenopathy",id:"lymphadenopathy",value:T.lymphadenopathy,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.lymphadenopathy?Object(ce.jsx)("span",{className:t.error,children:o.lymphadenopathy}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Fever *"}),Object(ce.jsxs)("select",{className:"form-control",name:"fever",id:"fever",value:T.fever,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.fever?Object(ce.jsx)("span",{className:t.error,children:o.fever}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Night sweats*"}),Object(ce.jsxs)("select",{className:"form-control",name:"nightSweats",id:"nightSweats",value:T.nightSweats,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.nightSweats?Object(ce.jsx)("span",{className:t.error,children:o.nightSweats}):""]})}),Object(ce.jsxs)(pt.a,{warning:!0,children:[Object(ce.jsxs)("h4",{children:["TB Screening score (calculate the sum of the TB assessment) If score ",">= 1",", test for Xper MTB RIF or refer to TB service "]}),Object(ce.jsxs)("b",{children:["Score : ",B]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Ever had sexual intercourse "}),Object(ce.jsxs)("select",{className:"form-control",name:"everHadSexualIntercourse",id:"everHadSexualIntercourse",value:O.everHadSexualIntercourse,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.everHadSexualIntercourse?Object(ce.jsx)("span",{className:t.error,children:o.everHadSexualIntercourse}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Blood transfusion in last 3 months *"}),Object(ce.jsxs)("select",{className:"form-control",name:"bloodtransInlastThreeMonths",id:"bloodtransInlastThreeMonths",value:O.bloodtransInlastThreeMonths,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.bloodtransInlastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:o.bloodtransInlastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Unprotected sex with casual partner in last 3 months *"}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedSexWithCasualLastThreeMonths",id:"uprotectedSexWithCasualLastThreeMonths",value:O.uprotectedSexWithCasualLastThreeMonths,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.uprotectedSexWithCasualLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:o.uprotectedSexWithCasualLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Unprotected sex with regular partner in the last 3months"}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedSexWithRegularPartnerLastThreeMonths",id:"uprotectedSexWithRegularPartnerLastThreeMonths",value:O.uprotectedSexWithRegularPartnerLastThreeMonths,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.uprotectedSexWithRegularPartnerLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:o.uprotectedSexWithRegularPartnerLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Unprotected vaginal sex"}),Object(ce.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSex",id:"unprotectedVaginalSex",value:O.unprotectedVaginalSex,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.unprotectedVaginalSex?Object(ce.jsx)("span",{className:t.error,children:o.unprotectedVaginalSex}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Unprotected Anal sex"}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:O.uprotectedAnalSex,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.uprotectedAnalSex?Object(ce.jsx)("span",{className:t.error,children:o.uprotectedAnalSex}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"STI in last 3 months *"}),Object(ce.jsxs)("select",{className:"form-control",name:"stiLastThreeMonths",id:"stiLastThreeMonths",value:O.stiLastThreeMonths,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.stiLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:o.stiLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Sex under the influence of drugs or alcohol*"}),Object(ce.jsxs)("select",{className:"form-control",name:"sexUnderInfluence",id:"sexUnderInfluence",value:O.sexUnderInfluence,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.sexUnderInfluence?Object(ce.jsx)("span",{className:t.error,children:o.sexUnderInfluence}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"More than 1 sex partner during last 3 months*"}),Object(ce.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:O.moreThanOneSexPartnerLastThreeMonths,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.moreThanOneSexPartnerLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:o.moreThanOneSexPartnerLastThreeMonths}):""]})}),Object(ce.jsxs)(pt.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(ce.jsxs)("b",{children:["Score : ",I.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{})]}),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth?"}),Object(ce.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:O.experiencePain,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.experiencePain?Object(ce.jsx)("span",{className:t.error,children:o.experiencePain}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:O.haveSexWithoutCondom,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.haveSexWithoutCondom?Object(ce.jsx)("span",{className:t.error,children:o.haveSexWithoutCondom}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you had a condom burst with your partner during sexual intercourse?  *"}),Object(ce.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:O.haveCondomBurst,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.haveCondomBurst?Object(ce.jsx)("span",{className:t.error,children:o.haveCondomBurst}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind?"}),Object(ce.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:O.abuseDrug,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.abuseDrug?Object(ce.jsx)("span",{className:t.error,children:o.abuseDrug}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you/partner had any blood or blood product transfusion?"}),Object(ce.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:O.bloodTransfusion,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.bloodTransfusion?Object(ce.jsx)("span",{className:t.error,children:o.bloodTransfusion}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you/partner experienced coughing, weight loss, fever, night sweats consistently?"}),Object(ce.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:O.consistentWeightFeverNightCough,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.consistentWeightFeverNightCough?Object(ce.jsx)("span",{className:t.error,children:o.consistentWeightFeverNightCough}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you/partner paid or sold vaginal, anal or oral sex? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:O.soldPaidVaginalSex,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.soldPaidVaginalSex?Object(ce.jsx)("span",{className:t.error,children:o.soldPaidVaginalSex}):""]})}),Object(ce.jsxs)(pt.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(ce.jsxs)("b",{children:["Score :",I.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{})]}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you had sex with a partner who is HIV positive? "}),Object(ce.jsxs)("select",{className:"form-control",name:"sexPartnerHivPositive",id:"sexPartnerHivPositive",value:j.sexPartnerHivPositive,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.sexPartnerHivPositive?Object(ce.jsx)("span",{className:t.error,children:o.sexPartnerHivPositive}):""]})}),"true"===j.sexPartnerHivPositive&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Is sex partner newly diagnosed with HIV and started treatment less than 3-6 months ago?*"}),Object(ce.jsxs)("select",{className:"form-control",name:"newDiagnosedHivlastThreeMonths",id:"newDiagnosedHivlastThreeMonths",value:j.newDiagnosedHivlastThreeMonths,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.newDiagnosedHivlastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:o.newDiagnosedHivlastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Is sex partner pregnant and currently receiving ARV for PMTCT?*"}),Object(ce.jsxs)("select",{className:"form-control",name:"currentlyArvForPmtct",id:"currentlyArvForPmtct",value:j.currentlyArvForPmtct,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.currentlyArvForPmtct?Object(ce.jsx)("span",{className:t.error,children:o.currentlyArvForPmtct}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Known HIV positive partner on ARV with an unsurpressed VL"}),Object(ce.jsxs)("select",{className:"form-control",name:"knowHivPositiveOnArv",id:"knowHivPositiveOnArv",value:j.knowHivPositiveOnArv,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.knowHivPositiveOnArv?Object(ce.jsx)("span",{className:t.error,children:o.knowHivPositiveOnArv}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Known HIV positive recently returned to treatment after being lost to follow up"}),Object(ce.jsxs)("select",{className:"form-control",name:"knowHivPositiveAfterLostToFollowUp",id:"knowHivPositiveAfterLostToFollowUp",value:j.knowHivPositiveAfterLostToFollowUp,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.knowHivPositiveAfterLostToFollowUp?Object(ce.jsx)("span",{className:t.error,children:o.knowHivPositiveAfterLostToFollowUp}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Unprotected Anal sex"}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:j.uprotectedAnalSex,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.uprotectedAnalSex?Object(ce.jsx)("span",{className:t.error,children:o.uprotectedAnalSex}):""]})})]}),Object(ce.jsxs)(pt.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"Sex Partner Risk Assessment score (sum of all 6 answers)"}),Object(ce.jsxs)("b",{children:["Score :",A.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientObj&&"Female"===e.patientObj.personResponseDto.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(ce.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:y.vaginalDischarge,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.vaginalDischarge?Object(ce.jsx)("span",{className:t.error,children:o.vaginalDischarge}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(ce.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:y.lowerAbdominalPains,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.lowerAbdominalPains?Object(ce.jsx)("span",{className:t.error,children:o.lowerAbdominalPains}):""]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientObj.personResponseDto.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(ce.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:y.urethralDischarge,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.urethralDischarge?Object(ce.jsx)("span",{className:t.error,children:o.urethralDischarge}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Complaints of scrotal swelling and pain"}),Object(ce.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:y.complaintsOfScrotal,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.complaintsOfScrotal?Object(ce.jsx)("span",{className:t.error,children:o.complaintsOfScrotal}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(ce.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:y.complaintsGenitalSore,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==o.complaintsGenitalSore?Object(ce.jsx)("span",{className:t.error,children:o.complaintsGenitalSore}):""]})})]}),Object(ce.jsxs)(pt.a,{warning:!0,children:[Object(ce.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test "]}),Object(ce.jsxs)("b",{children:["Score :",H.length]})]}),n?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(dt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:()=>C("basic","basic")}),Object(ce.jsx)(dt.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:t=>{t.preventDefault(),h.htsClientId=i,h.knowledgeAssessment=p,h.personId=a,h.riskAssessment=O,h.stiScreening=y,h.tbScreening=T,h.sexPartnerRiskAssessment=j,x.a.put("".concat(v,"hts/").concat(i,"/pre-test-counseling"),h,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{c(!1),e.setPatientObj(t.data),C("hiv-test","pre-test-counsel")})).catch((e=>{if(c(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})};const xt=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var vt=e=>{const t=xt(),[a,s]=Object(r.useState)(!1),[i,n]=Object(r.useState)({});let c={...i};console.log(e.patientObj);const o=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",d=e.patientObj&&e.patientObj?e.patientObj.id:"",[j,b]=Object(r.useState)(""),[h,m]=Object(r.useState)(!0),p=(e=>{var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),i=t.getFullYear()-r.getFullYear(),n=t.getMonth()-r.getMonth();return(n<0||0===n&&t.getDate()<r.getDate())&&i--,0===i?n+" month(s)":i})(ee(e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:0).format("DD-MM-YYYY")),[u,O]=Object(r.useState)({confirmatoryTest:{},confirmatoryTest2:{},hivTestResult:"",hivTestResult2:"",htsClientId:"",personId:e.patientObj?e.patientObj.id:"",test1:{},test2:{},tieBreakerTest:{},tieBreakerTest2:{},syphilisTesting:{},hepatitisTesting:{},others:{},cd4:{}}),[f,y]=Object(r.useState)({date:"",result:""}),[N,T]=Object(r.useState)({date2:"",result2:""}),S=e=>{D({...C,[e.target.name]:e.target.value})},[C,D]=Object(r.useState)({cd4Count:"",cd4SemiQuantitative:"",cd4FlowCyteometry:""}),R=e=>{"No"===e.target.value?(y({...f,[e.target.name]:e.target.value}),A({date:"",result:""}),k({date:"",result:""}),m(!1)):(y({...f,[e.target.name]:e.target.value}),m(!0))},I=e=>{"No"===e.target.value?(T({...N,[e.target.name]:e.target.value}),H({date2:"",result2:""}),M({date2:"",result2:""}),m(!1)):(T({...N,[e.target.name]:e.target.value}),m(!0))},[w,A]=Object(r.useState)({date:"",result:""}),[P,H]=Object(r.useState)({date2:"",result2:""}),B=e=>{A({...w,[e.target.name]:e.target.value}),"Yes"===f.result&&e.target.value,m(!0)},E=e=>{H({...P,[e.target.name]:e.target.value}),"Yes"===N.result2&&e.target.value,m(!0)},[Y,k]=Object(r.useState)({date:"",result:""}),[_,M]=Object(r.useState)({date2:"",result2:""}),F=e=>{k({...Y,[e.target.name]:e.target.value}),"No"===w.result&&"Yes"===e.target.value?m(!0):"No"===w.result&&"No"===e.target.value?m(!1):m(!0)},L=e=>{M({..._,[e.target.name]:e.target.value}),"No"===P.result2&&"Yes"===e.target.value?m(!0):"No"===P.result2&&"No"===e.target.value?m(!1):m(!0)},[z,V]=Object(r.useState)({syphilisTestResult:""}),[W,U]=Object(r.useState)({hepatitisCTestResult:"",hepatitisBTestResult:"",longitude:"",latitude:"",adhocCode:""}),G=e=>{U({...W,[e.target.name]:e.target.value})},[q,K]=Object(r.useState)({longitude:"",latitude:"",adhocCode:""});Object(r.useEffect)((()=>{e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?b(e.patientObj.dateVisit):b(""),D(e.patientObj&&null!==e.patientObj.cd4?e.patientObj.cd4:{}),k(e.patientObj&&null!==e.patientObj.tieBreakerTest?e.patientObj.tieBreakerTest:{}),V(e.patientObj&&null!==e.patientObj.syphilisTesting?e.patientObj.syphilisTesting:{}),U(e.patientObj&&null!==e.patientObj.hepatitisTesting?e.patientObj.hepatitisTesting:{}),K(e.patientObj&&null!==e.patientObj.others?e.patientObj.others:{}))}),[e.patientObj]);const X=e=>{K({...q,[e.target.name]:e.target.value})},Q=(t,a)=>{e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([...e.completed,a])};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt.a,{className:t.root,children:Object(ce.jsxs)(Qe.a,{children:[Object(ce.jsx)("h2",{style:{color:"#000"},children:"REQUEST AND RESULT FORM"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:"HIV TEST RESULT"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),Object(ce.jsx)("h4",{children:"Initial HIV Test 1:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:" Date  "}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date",id:"date",value:f.date,onChange:R,min:""!==j&&null!==j?j:"",max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==i.date?Object(ce.jsx)("span",{className:t.error,children:i.date}):""]})}),f.date&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result",id:"result",value:f.result,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===f.date,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==i.result?Object(ce.jsx)("span",{className:t.error,children:i.result}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===f.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Confirmatory Test:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:" Date  "}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date",id:"date",value:w.date,onChange:B,min:f.date,max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==i.dateOfEac1?Object(ce.jsx)("span",{className:t.error,children:i.dateOfEac1}):""]})}),w.date&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result",id:"result",value:w.result,onChange:B,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===w.date,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===w.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Tie Breaker Test:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:" Date  "}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date",id:"date",value:Y.date,onChange:F,min:w.date,max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Y.date&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result",id:"result",value:Y.result,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===Y.date,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group  col-md-12",children:["No"===f.result&&Object(ce.jsx)(Te.a,{color:"green",children:"Negative"}),"No"===f.result&&"No"===w.result&&Object(ce.jsx)(Te.a,{color:"green",children:"Negative"}),"Yes"===f.result&&"Yes"===w.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Te.a,{color:"red",children:"Positive"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("hr",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h4",{children:"Initial HIV Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:" Date "}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date2",id:"date2",value:N.date2,onChange:I,min:w.date,max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==i.date2?Object(ce.jsx)("span",{className:t.error,children:i.date2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result  "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:N.result2,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===N.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==i.result2?Object(ce.jsx)("span",{className:t.error,children:i.result2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===N.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:" Date  "}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date2",id:"date2",value:P.date2,onChange:E,min:N.date2,max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:P.result2,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===P.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===P.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:" Date  "}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date2",id:"date2",value:_.date2,onChange:L,min:P.date2,max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:_.result2,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===_.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===w.result&&"Yes"===Y.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Te.a,{color:"red",children:"Positive"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("hr",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h4",{children:"Initial HIV Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:" Date  "}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date2",id:"date2",value:N.date2,onChange:I,min:Y.date,max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==i.date2?Object(ce.jsx)("span",{className:t.error,children:i.date2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result  "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:N.result2,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===N.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==i.result2?Object(ce.jsx)("span",{className:t.error,children:i.result2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===N.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:" Date  "}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date2",id:"date2",value:P.date2,onChange:E,min:N.date2,max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:P.result2,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===P.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===P.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:" Date  "}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date2",id:"date2",value:_.date2,onChange:L,min:P.date2,max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:_.result2,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===_.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===w.result&&"No"===Y.result&&("Yes"===f.result||"Yes"===f.result||""===f.result)&&Object(ce.jsx)(Te.a,{color:"green",children:"Negative"}),N.result2&&"No"===N.result2&&Object(ce.jsx)(Te.a,{color:"green",children:"Negative"}),"No"===N.result2&&"No"===P.result2&&Object(ce.jsx)(Te.a,{color:"green",children:"Negative"}),"Yes"===N.result2&&"Yes"===P.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Te.a,{color:"red",children:"Positive"}),Object(ce.jsx)("br",{})]}),"No"===P.result2&&"Yes"===_.result2&&Object(ce.jsx)(Te.a,{color:"red",children:"Positive"}),"No"===P.result2&&"No"===_.result2&&("Yes"===N.result2||"Yes"===N.result2||""===N.result2)&&Object(ce.jsx)(Te.a,{color:"green",children:"Negative"})]})}),h&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"CD4 Count"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"CD4 Count "}),Object(ce.jsxs)("select",{className:"form-control",name:"cd4Count",id:"cd4Count",value:C.cd4Count,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Semi-Quantitative",children:"Semi-Quantitative"}),Object(ce.jsx)("option",{value:"Flow Cyteometry",children:"Flow Cyteometry"})]})]})}),"Semi-Quantitative"===C.cd4Count&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"CD4 Count Value"}),Object(ce.jsxs)("select",{className:"form-control",name:"cd4SemiQuantitative",id:"cd4SemiQuantitative",value:C.cd4SemiQuantitative,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Semi-Quantitative",children:"<200"}),Object(ce.jsx)("option",{value:"Flow Cyteometry",children:">=200"})]})]})}),"Flow Cyteometry"===C.cd4Count&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"CD4 Count Value"}),Object(ce.jsx)(ke.a,{type:"text",name:"cd4FlowCyteometry",id:"cd4FlowCyteometry",value:C.cd4FlowCyteometry,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-7"})]}),Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Syphilis test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",value:z.syphilisTestResult,onChange:e=>{V({...z,[e.target.name]:e.target.value})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis Testing"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Hepatitis B virus test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",value:W.hepatitisBTestResult,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Hepatitis C virus test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",value:W.hepatitisCTestResult,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Others"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Longitude"}),Object(ce.jsx)(ke.a,{type:"number",name:"longitude",id:"longitude",value:q.longitude,onChange:X,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Latitude"}),Object(ce.jsx)(ke.a,{type:"number",name:"latitude",id:"latitude",value:q.latitude,onChange:X,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Adhoc Code"}),Object(ce.jsx)(ke.a,{type:"number",name:"adhocCode",id:"adhocCode",value:q.adhocCode,onChange:X,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),a?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[p<=15?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(dt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:()=>Q("basic","basic")})}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(dt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:()=>Q("pre-test-counsel","pre-test-counsel")})}),Object(ce.jsx)(dt.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:t=>{t.preventDefault(),""!==f.date&&(c.date=f.result?"":"This field is required."),n({...c}),Object.values(c).every((e=>""==e))&&("No"===N.result2?u.hivTestResult2="Negative":"Yes"===N.result2&&"Yes"===P.result2||"No"===P.result2&&"Yes"===_.result2?u.hivTestResult2="Positive":"No"===P.result2&&"No"===_.result2?u.hivTestResult2="Negative":u.hivTestResult2="","No"===f.result?u.hivTestResult="Negative":"Yes"===f.result&&"Yes"===w.result||"No"===w.result&&"Yes"===Y.result?u.hivTestResult="Positive":"No"===w.result&&"No"===Y.result?u.hivTestResult="Negative":u.hivTestResult="",u.htsClientId=d,u.confirmatoryTest=w,u.confirmatoryTest2=P,u.personId=o,u.test1=f,u.test2=N,u.tieBreakerTest=Y,u.tieBreakerTest2=_,u.syphilisTesting=z,u.hepatitisTesting=W,u.cd4=C,u.others=q,x.a.put("".concat(v,"hts/").concat(d,"/request-result"),u,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{s(!1),e.setPatientObj(t.data),Q("post-test","hiv-test")})).catch((e=>{if(s(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")})))}})]})})]})})]})})})};const gt=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var ft=e=>{const t=gt(),[a,s]=Object(r.useState)(!1),[i,n]=Object(r.useState)({}),[c,o]=Object(r.useState)([]),[d,j]=Object(r.useState)([]),[b,h]=Object(r.useState)(!0),[m,p]=Object(r.useState)([]),[u,O]=Object(r.useState)([]),[f,y]=Object(r.useState)(""),[N,T]=Object(r.useState)({htsClientId:null,indexNotificationServicesElicitation:{},personId:null}),[S,C]=Object(r.useState)({firstName:"",middleName:"",lastName:"",dob:"",phoneNumber:"",altPhoneNumber:"",sex:"",htsClientId:e&&e.patientObj?e.patientObj.id:"",physicalHurt:"",threatenToHurt:"",address:"",hangOutSpots:"",relativeToIndexClient:"",currentlyLiveWithPartner:"",partnerTestedPositive:"",sexuallyUncomfortable:"",notificationMethod:"",datePartnerCameForTesting:""});Object(r.useEffect)((()=>{D(),w(),R(),I(),e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?y(e.patientObj.dateVisit):y(""))}),[e.patientObj]);const D=()=>{x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o(e.data)})).catch((e=>{}))},R=()=>{x.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{p(e.data)})).catch((e=>{}))},I=()=>{x.a.get("".concat(v,"application-codesets/v2/CONSENT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{O(e.data)})).catch((e=>{}))},w=()=>{x.a.get("".concat(v,"application-codesets/v2/NOTIFICATION_CONTACT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{j(e.data)})).catch((e=>{}))},A=t=>{e.handleIClickPage(t)},P=e=>{if("firstName"===e.target.name&&""!==e.target.value){const t=E(e.target.value);C({...S,[e.target.name]:t})}if("lastName"===e.target.name&&""!==e.target.value){const t=E(e.target.value);C({...S,[e.target.name]:t})}if("middleName"===e.target.name&&""!==e.target.value){const t=E(e.target.value);C({...S,[e.target.name]:t})}C({...S,[e.target.name]:e.target.value})},H=e=>{"Actual"==e.target.value?(S.isDateOfBirthEstimated=!1,h(!0)):"Estimated"==e.target.value&&(S.isDateOfBirthEstimated=!0,h(!1))},B=(e,t)=>{C({...S,[t]:e.slice(0,10)})},E=e=>e.replace(/[^a-z]/gi,"");return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt.a,{className:t.root,children:Object(ce.jsxs)(Qe.a,{children:[Object(ce.jsxs)("h2",{style:{color:"#000"},children:["Index Notification Services - Elicitation",Object(ce.jsx)(dt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>A("list"),children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:" Back To Client Index List"})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"First Name"}),Object(ce.jsx)(ke.a,{type:"text",name:"firstName",id:"firstName",value:S.firstName,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Middle Name"}),Object(ce.jsx)(ke.a,{type:"text",name:"middleName",id:"middleName",value:S.middleName,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Last Name"}),Object(ce.jsx)(ke.a,{type:"text",name:"lastName",id:"lastName",value:S.lastName,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Of Birth"}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>H(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>H(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date"}),Object(ce.jsx)("input",{className:"form-control",type:"date",onKeyPress:e=>{e.preventDefault()},name:"dob",id:"dob",max:ee(new Date).format("YYYY-MM-DD"),value:S.dob,onChange:e=>{if(e.target.value){const t=new Date,a=new Date(e.target.value);let s=t.getFullYear()-a.getFullYear();const r=t.getMonth()-a.getMonth();(r<0||0===r&&t.getDate()<a.getDate())&&s--,S.age=s}else C({...S,age:""});C({...S,[e.target.name]:e.target.value}),C({...S,dob:e.target.value})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Age"}),Object(ce.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:S.age,disabled:b,onChange:e=>{if(!b&&e.target.value){const t=new Date;t.setDate(15),t.setMonth(5);const a=ee(t.toISOString()).add(-1*e.target.value,"years");C({...S,dob:ee(a).format("YYYY-MM-DD")}),S.dob=ee(a).format("YYYY-MM-DD")}C({...S,age:e.target.value})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Phone Number"}),Object(ce.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:S.phoneNumber,onChange:e=>{B(e,"phoneNumber")}}),""!==i.phoneNumber?Object(ce.jsx)("span",{className:t.error,children:i.phoneNumber}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Alternative Phone Number"}),Object(ce.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"altPhoneNumber",id:"altPhoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:S.altPhoneNumber,onChange:e=>{B(e,"altPhoneNumber")}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Sex *"}),Object(ce.jsxs)("select",{className:"form-control",name:"sex",id:"sex",value:S.sex,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),c.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Address"}),Object(ce.jsx)(ke.a,{type:"text",name:"address",id:"address",value:S.address,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Hang-out spots"}),Object(ce.jsx)(ke.a,{type:"text",name:"hangOutSpots",id:"hangOutSpots",value:S.hangOutSpots,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Relationship to Index Client *"}),Object(ce.jsxs)("select",{className:"form-control",name:"relativeToIndexClient",id:"relativeToIndexClient",value:S.relativeToIndexClient,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),m.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Do you currently live with this partner? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"currentlyLiveWithPartner",id:"currentlyLiveWithPartner",value:S.currentlyLiveWithPartner,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"As far as you know, as this partner ever tested positive for HIV *"}),Object(ce.jsxs)("select",{className:"form-control",name:"partnerTestedPositive",id:"partnerTestedPositive",value:S.partnerTestedPositive,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),u.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Has this partner ever hit, kick, slapped or otherwise physical hurt you? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"physicalHurt",id:"physicalHurt",value:S.physicalHurt,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),u.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Has this partner ever threaten to hurt you? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"threatenToHurt",id:"threatenToHurt",value:S.threatenToHurt,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),u.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Has this partner ever threaten force you to do something sexually that made you uncomfortable ?  *"}),Object(ce.jsxs)("select",{className:"form-control",name:"sexuallyUncomfortable",id:"sexuallyUncomfortable",value:S.sexuallyUncomfortable,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),u.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Notification Method selected*"}),Object(ce.jsxs)("select",{className:"form-control",name:"notificationMethod",id:"notificationMethod",value:S.notificationMethod,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),d.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"If contract by which date will partner come for testing?"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"datePartnerCameForTesting",id:"datePartnerCameForTesting",value:S.datePartnerCameForTesting,onChange:P,min:f,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.datePartnerComeForTesting?Object(ce.jsx)("span",{className:t.error,children:i.datePartnerComeForTesting}):""]})}),a?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)(dt.a,{content:"Save",icon:"save",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:e=>{e.preventDefault(),S.isDateOfBirthEstimated=1==S.isDateOfBirthEstimated?1:0,x.a.post("".concat(v,"index-elicitation"),S,{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{s(!1),l.b.success("Record save successful",{position:l.b.POSITION.BOTTOM_CENTER}),A("list")})).catch((e=>{if(s(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})}))}})})})]})})]})})})};const yt={Add:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(N.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(D.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(E.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(k.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(q.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(M.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(L.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(V.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(X.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(S.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(U.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(J.a,{...e,ref:t})))};Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Nt=e=>{const[t,a]=Object(r.useState)([]);e.patientObj&&e.patientObj.id&&e.patientObj.id;Object(r.useEffect)((()=>{!async function(){x.a.get("".concat(v,"hts/").concat(e.patientObj.id,"/index-elicitation"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log(e.data),a(e.data)})).catch((e=>{}))}()}),[]);const s=e=>{var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),i=t.getFullYear()-r.getFullYear(),n=t.getMonth()-r.getMonth();return(n<0||0===n&&t.getDate()<r.getDate())&&i--,0===i?n+" month(s)":i+" year(s)"};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(dt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>{return t="add",void e.handleIClickPage(t);var t},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"New Index Client "})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(u.a,{icons:yt,title:"List of index client ",columns:[{title:"Name",field:"name"},{title:"Age",field:"age"},{title:"Phone Number",field:"phone"},{title:"Adress",field:"address"},{title:"Actions",field:"actions",filtering:!1}],data:t.map((e=>({name:e.firstName+" "+e.lastName,age:s(te()(e.dob).format("DD-MM-YYYY")),phone:e.phoneNumber,address:e.address,actions:Object(ce.jsx)(ce.Fragment,{})}))),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})]})};var Tt=e=>{const[t,a]=Object(r.useState)("list"),s=e=>{a(e)};return Object(ce.jsx)(r.Fragment,{children:Object(ce.jsx)(d.a,{children:Object(ce.jsxs)(j.a,{md:12,children:["list"===t&&Object(ce.jsx)(Nt,{activePage:t,setActivePage:a,handleIClickPage:s,patientObj:e.patientObj}),"add"===t&&Object(ce.jsx)(ft,{activePage:t,setActivePage:a,handleIClickPage:s,patientObj:e.patientObj}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)(dt.a,{content:"Done",icon:"list",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:()=>{e.setActivePage({...e.activePage,activePage:"recent-history"})}})})})]})})})};const St=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var Ct=e=>{const t=St(),[a,s]=Object(r.useState)(!1),[i,n]=Object(r.useState)({});return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt.a,{className:t.root,children:Object(ce.jsxs)(Qe.a,{children:[Object(ce.jsxs)("h3",{children:["OTHERS - (Resquest ","& "," Result Form)"]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Syphilis test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis B Testing"})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Hepatitis B virus test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Hepatitis C virus test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hivRequestResultCT",id:"hivRequestResultCT",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Completed By"}),Object(ce.jsx)(ke.a,{type:"number",name:"completedBy",id:"completedBy",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Longitude"}),Object(ce.jsx)(ke.a,{type:"number",name:"longitude",id:"longitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Latitude"}),Object(ce.jsx)(ke.a,{type:"number",name:"latitude",id:"latitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Adhoc Code"}),Object(ce.jsx)(ke.a,{type:"number",name:"adhocCode",id:"adhocCode",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),a?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:t.button,startIcon:Object(ce.jsx)(Me.a,{}),onClick:()=>{return t="basic",a="others",e.handleItemClick(t),void(e.completed.includes(a)||e.setCompleted([...e.completed,a]));var t,a},style:{backgroundColor:"#014d88"},children:a?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})]})})})};const Dt=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var Rt=e=>{const t=Dt(),a=Object(o.g)(),s=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",i=e.patientObj&&e.patientObj?e.patientObj.id:"",[n,c]=Object(r.useState)(!1);console.log(e.patientObj);const[d,j]=Object(r.useState)({htsClientId:i,postTestCounselingKnowledgeAssessment:{},personId:s}),[b,h]=Object(r.useState)({hivTestResult:"",hivTestBefore:"",hivRequestResult:"",hivRequestResultCt:"",clientReceivedHivTestResult:"",postTestCounseling:"",riskReduction:"",postTestDisclosure:"",bringPartnerHivtesting:"",childrenHivtesting:"",informationFp:"",partnerFpThanCondom:"",partnerFpUseCondom:"",correctCondomUse:"",condomProvidedToClient:"",unprotectedSexRegularPartnerLastThreeMonth:"",referredToServices:""});Object(r.useEffect)((()=>{e.patientObj&&e.patientObj.postTestCounselingKnowledgeAssessment?h(e.patientObj.postTestCounselingKnowledgeAssessment):""!==b.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Positive"!==e.patientObj.hivTestResult&&"Positive"!==e.patientObj.hivTestResult2?""!==b.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Negative"!==e.patientObj.hivTestResult&&"Negative"!==e.patientObj.hivTestResult2||(b.hivTestResult="False",h({...b,hivTestResult:"False"})):(b.hivTestResult="True",h({...b,hivTestResult:"True"}))}),[e.patientObj,b.hivTestResult]);const m=e=>{h({...b,[e.target.name]:e.target.value})},p=(t,a)=>{e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([...e.completed,a])},u=t=>{t.preventDefault(),Object.values(b).every((e=>""===e))?l.b.error("All post test fields are required"):(d.htsClientId=e.patientObj.id,d.postTestCounselingKnowledgeAssessment=b,d.personId=e.patientObj.personResponseDto.id,x.a.put("".concat(v,"hts/").concat(e.patientObj.id,"/post-test-counseling"),d,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{c(!1),e.setPatientObj(t.data),"True"===b.hivTestResult?p("recency-testing","post-test"):"False"===b.hivTestResult&&a.push("/")})).catch((e=>{if(c(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")})))};return console.log(b.hivTestResult),Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt.a,{className:t.root,children:Object(ce.jsxs)(Qe.a,{children:[Object(ce.jsx)("h2",{children:"POST TEST COUNSELING"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"HIV test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hivTestResult",id:"hivTestResult",value:b.hivTestResult,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"True",children:"Positive"}),Object(ce.jsx)("option",{value:"False",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you been tested for HIV before within this year? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hivTestBefore",id:"hivTestBefore",value:b.hivTestBefore,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Not previously tested",children:"Not previously tested"}),Object(ce.jsx)("option",{value:"Previously tested negative",children:"Previously tested negative"}),Object(ce.jsx)("option",{value:"Previously tested positive in HIV care",children:"Previously tested positive in HIV care"}),Object(ce.jsx)("option",{value:"Previously tested positive not in HIV care",children:"Previously tested positive not in HIV care"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"HIV Request and Result form signed by tester *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hivRequestResult",id:"hivRequestResult",value:b.hivRequestResult,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hivRequestResultCt",id:"hivRequestResultCt",value:b.hivRequestResultCt,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Client received HIV test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"clientReceivedHivTestResult",id:"clientReceivedHivTestResult",value:b.clientReceivedHivTestResult,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Post test counseling done *"}),Object(ce.jsxs)("select",{className:"form-control",name:"postTestCounseling",id:"postTestCounseling",value:b.postTestCounseling,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Risk reduction plan developed *"}),Object(ce.jsxs)("select",{className:"form-control",name:"riskReduction",id:"riskReduction",value:b.riskReduction,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Post test disclosure plan developed *"}),Object(ce.jsxs)("select",{className:"form-control",name:"postTestDisclosure",id:"postTestDisclosure",value:b.postTestDisclosure,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Will bring partner(s) for HIV testing *"}),Object(ce.jsxs)("select",{className:"form-control",name:"bringPartnerHivtesting",id:"bringPartnerHivtesting",value:b.bringPartnerHivtesting,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Will bring own children ","<5"," years for HIV testing *"]}),Object(ce.jsxs)("select",{className:"form-control",name:"childrenHivtesting",id:"childrenHivtesting",value:b.childrenHivtesting,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Provided with information on FP and dual contraception *"}),Object(ce.jsxs)("select",{className:"form-control",name:"informationFp",id:"informationFp",value:b.informationFp,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Client/Partner use FP methods (other than condom)*"}),Object(ce.jsxs)("select",{className:"form-control",name:"partnerFpThanCondom",id:"partnerFpThanCondom",value:b.partnerFpThanCondom,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Client/Partner use condoms as (one) FP method "}),Object(ce.jsxs)("select",{className:"form-control",name:"partnerFpUseCondom",id:"partnerFpUseCondom",value:b.partnerFpUseCondom,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Correct condom use demonstrated *"}),Object(ce.jsxs)("select",{className:"form-control",name:"correctCondomUse",id:"correctCondomUse",value:b.correctCondomUse,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Condoms provided to client *"}),Object(ce.jsxs)("select",{className:"form-control",name:"condomProvidedToClient",id:"condomProvidedToClient",value:b.condomProvidedToClient,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Client referred to other services *"}),Object(ce.jsxs)("select",{className:"form-control",name:"referredToServices",id:"referredToServices",value:b.referredToServices,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)(pt.a,{success:!0,children:Object(ce.jsxs)("h4",{children:["If client tests HIV negative, and HIV Risk Assessment Score ",">0"," or there is evidence for a STI syndrome, recommend re-testing after 3 months"]})}),n?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(dt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:()=>p("hiv-test","hiv-test")}),"True"===b.hivTestResult&&Object(ce.jsx)(dt.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:u}),"False"===b.hivTestResult&&Object(ce.jsx)(dt.a,{content:"Save & Finish",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:u})]})})]})})]})})})};const It=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var wt=e=>{const t=It(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",s=e.patientObj&&e.patientObj?e.patientObj.id:"",[i,n]=Object(r.useState)(!1),[c,o]=Object(r.useState)({}),[d,j]=Object(r.useState)("");let b={...c};const h=(t,a)=>{e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([...e.completed,a])},[m,p]=Object(r.useState)({htsClientId:s,recency:{},personId:a}),[u,O]=Object(r.useState)({optOutRTRI:"",optOutRTRITestName:"",optOutRTRITestDate:"",rencencyId:"",controlLine:"",verififcationLine:"",longTermLine:"",rencencyInterpretation:"",hasViralLoad:"",sampleCollectedDate:"",sampleReferanceNumber:"",dateSampleSentToPCRLab:"",sampleTestDate:"",sampleType:"",receivingPcrLab:"",viralLoadResultClassification:"",recencyResult:"",finalRecencyResult:""});Object(r.useEffect)((()=>{e.patientObj&&(O(e.patientObj&&null!==e.patientObj.recency?e.patientObj.recency:{}),e.patientObj.confirmatoryTest&&""!==e.patientObj.confirmatoryTest.date?j(e.patientObj.confirmatoryTest.date):e.patientObj.confirmatoryTest2&&""!==e.patientObj.confirmatoryTest2.date2?j(e.patientObj.confirmatoryTest2.date2):j("")),"true"===u.longTermLine&&"true"===u.verififcationLine&&"true"===u.controlLine?(u.rencencyInterpretation="Long Term",O({...u,rencencyInterpretation:"Long Term"})):"false"===u.longTermLine&&"true"===u.verififcationLine&&"true"===u.controlLine?(u.rencencyInterpretation="Recent",O({...u,rencencyInterpretation:"Recent"})):"false"===u.longTermLine&&"false"===u.verififcationLine&&"true"===u.controlLine?(u.rencencyInterpretation="Negative",O({...u,rencencyInterpretation:"Negative"})):"true"===u.longTermLine&&"true"===u.verififcationLine&&"false"===u.controlLine||"true"===u.longTermLine&&"false"===u.verififcationLine&&"true"===u.controlLine?(u.rencencyInterpretation="Invalid",O({...u,rencencyInterpretation:"Invalid"})):O({...u,rencencyInterpretation:""})}),[u.longTermLine,u.verififcationLine,u.controlLine,e.patientObj]),console.log(e.patientObj);const f=e=>{if(o({...b,[e.target.name]:""}),"viralLoadResultClassification"===e.target.name)">=1000"===e.target.value?(u.finalRecencyResult="RITA Recent",O({...u,[e.target.name]:e.target.value})):"<1000"===e.target.value?(u.finalRecencyResult="RITA Long term",O({...u,[e.target.name]:e.target.value})):"Failed run"===e.target.value?(u.finalRecencyResult="RITA Inconclusive",O({...u,[e.target.name]:e.target.value})):"Invalid viral load result"===e.target.value?(u.finalRecencyResult="RITA Inconclusive",O({...u,[e.target.name]:e.target.value})):O({...u,[e.target.name]:e.target.value});else if("rencencyId"===e.target.name&&""!==e.target.value){const t=y(e.target.value);O({...u,[e.target.name]:t})}else O({...u,[e.target.name]:e.target.value})},y=e=>e.slice(0,10);return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt.a,{className:t.root,children:Object(ce.jsxs)(Qe.a,{children:[Object(ce.jsx)("h2",{children:"RECENCY FORM"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"RENCENCY"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Opt Out of RTRI?*"}),Object(ce.jsxs)("select",{className:"form-control",name:"optOutRTRI",id:"optOutRTRI",value:u.optOutRTRI,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-8"}),"false"===u.optOutRTRI&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Test Name *"}),Object(ce.jsxs)("select",{className:"form-control",name:"optOutRTRITestName",id:"optOutRTRITestName",value:u.optOutRTRITestName,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Asante",children:"Asante"}),Object(ce.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Test Date *"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"optOutRTRITestDate",id:"optOutRTRITestDate",value:u.optOutRTRITestDate,onChange:f,min:""!==d&&null!==d?d:"",max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Recency ID *"}),Object(ce.jsx)(ke.a,{className:"form-control",name:"rencencyId",id:"rencencyId",type:"text",value:u.rencencyId,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Control Line *"}),Object(ce.jsxs)("select",{className:"form-control",name:"controlLine",id:"controlLine",value:u.controlLine,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Verification Line *"}),Object(ce.jsxs)("select",{className:"form-control",name:"verififcationLine",id:"verififcationLine",value:u.verififcationLine,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Long Term Line *"}),Object(ce.jsxs)("select",{className:"form-control",name:"longTermLine",id:"longTermLine",value:u.longTermLine,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Recency Interpretation *"}),Object(ce.jsx)(ke.a,{className:"form-control",name:"rencencyInterpretation",id:"rencencyInterpretation",type:"text",value:u.rencencyInterpretation,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),"Recent"===u.rencencyInterpretation&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Has viral load request been made? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hasViralLoad",id:"hasViralLoad",value:u.hasViralLoad,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===u.hasViralLoad&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h4",{children:"Viral Load Classification :"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Sample Collected Date"}),Object(ce.jsx)(ke.a,{className:"form-control",name:"sampleCollectedDate",id:"sampleCollectedDate",type:"date",onKeyPress:e=>{e.preventDefault()},value:u.sampleCollectedDate,min:u.optOutRTRITestDate,max:ee(new Date).format("YYYY-MM-DD"),onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Sample Refernce Number"}),Object(ce.jsx)(ke.a,{className:"form-control",name:"sampleReferanceNumber",id:"sampleReferanceNumber",type:"text",value:u.sampleReferanceNumber,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==c.sampleReferanceNumber?Object(ce.jsx)("span",{className:t.error,children:c.sampleReferanceNumber}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Sample Type"}),Object(ce.jsxs)("select",{className:"form-control",name:"sampleType",id:"sampleType",value:u.sampleType,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"DBS",children:"DBS"}),Object(ce.jsx)("option",{value:"Plasma",children:"Plasma"})]}),""!==c.sampleType?Object(ce.jsx)("span",{className:t.error,children:c.sampleType}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Sample Sent to PCR Lab"}),Object(ce.jsx)(ke.a,{className:"form-control",name:"dateSampleSentToPCRLab",id:"dateSampleSentToPCRLab",type:"date",onKeyPress:e=>{e.preventDefault()},min:u.optOutRTRITestDate,value:u.dateSampleSentToPCRLab,max:ee(new Date).format("YYYY-MM-DD"),onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==c.dateSampleSentToPCRLab?Object(ce.jsx)("span",{className:t.error,children:c.dateSampleSentToPCRLab}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Sample Test Date"}),Object(ce.jsx)(ke.a,{className:"form-control",name:"sampleTestDate",id:"sampleTestDate",type:"date",onKeyPress:e=>{e.preventDefault()},min:u.optOutRTRITestDate,max:ee(new Date).format("YYYY-MM-DD"),value:u.sampleTestDate,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Receiving PCR Lab"}),Object(ce.jsx)(ke.a,{className:"form-control",name:"receivingPcrLab",id:"receivingPcrLab",type:"text",value:u.receivingPcrLab,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Viral Load Result Classification and Result (copies/ml)"}),Object(ce.jsxs)("select",{className:"form-control",name:"viralLoadResultClassification",id:"viralLoadResultClassification",value:u.viralLoadResultClassification,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsxs)("option",{value:">=1000",children:[">= "," 1000"]}),Object(ce.jsxs)("option",{value:"<1000",children:["< "," 1000"]}),Object(ce.jsx)("option",{value:"Failed run",children:"Failed run"}),Object(ce.jsx)("option",{value:"Invalid viral load result",children:"Invalid viral load result"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Final Recency Result"}),Object(ce.jsx)(ke.a,{className:"form-control",name:"finalRecencyResult",id:"finalRecencyResult",type:"text",disabled:!0,value:u.finalRecencyResult,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]}),i?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(dt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:()=>h("post-test","post-test")}),Object(ce.jsx)(dt.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:t=>{t.preventDefault(),m.htsClientId=s,m.recency=u,m.personId=a,console.log(u),x.a.put("".concat(v,"hts/").concat(s,"/recency"),m,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{n(!1),e.setPatientObj(t.data),h("indexing","recency-testing")})).catch((e=>{if(n(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})};const At=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}})));var Pt=e=>{const t=At();Object(o.g)();console.log(e);const[a,s]=Object(r.useState)([]);let n=[];const[c,d]=Object(r.useState)([]),[j,b]=Object(r.useState)({}),[h,m]=Object(r.useState)(!1);let p={...j};const[u,O]=i.a.useState(!1),f=()=>O(!u),[y,N]=Object(r.useState)([]),[T,S]=Object(r.useState)(0),[C,D]=Object(r.useState)({age:e.patientAge,dob:"",visitDate:"",dateOfBirth:"",dateOfRegistration:"",isDateOfBirthEstimated:"",targetGroup:"",testingSetting:"",modality:"",code:"",personId:e.patientObj.personId,riskAssessment:{},entryPoint:""}),[R,I]=Object(r.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:"",lastHivTestForceToHaveSex:"",lastHivTestHadAnal:"",lastHivTestInjectedDrugs:"",whatWasTheResult:"",lastHivTestDone:"",diagnosedWithTb:"",lastHivTestPainfulUrination:"",lastHivTestBloodTransfusion:"",lastHivTestVaginalOral:"",lastHivTestBasedOnRequest:""});Object(r.useEffect)((()=>{A(),w()}),[e.patientObj]);const w=()=>{x.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{s(e.data)})).catch((e=>{}))},A=()=>{x.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{d(e.data)})).catch((e=>{}))},P=e=>{b({...p,[e.target.name]:""}),"testingSetting"===e.target.name&&""!==e.target.value&&(!function(e){const t=e;x.a.get("".concat(v,"application-codesets/v2/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{N(e.data)})).catch((e=>{}))}(e.target.value),D({...C,[e.target.name]:e.target.value})),"modality"===e.target.name&&""!==e.target.value&&("TEST_SETTING_STANDALONE_HTS_PMTCT_(ANC1_ONLY)"===e.target.value?(S(1),D({...C,[e.target.name]:e.target.value})):"TEST_SETTING_STANDALONE_HTS_EMERGENCY"===e.target.value?D({...C,[e.target.name]:e.target.value}):"TEST_SETTING_STANDALONE_HTS_INDEX"===e.target.value?(S(1),D({...C,[e.target.name]:e.target.value})):"TEST_SETTING_STANDALONE_HTS_PMTCT_(POST_ANC1:_PREGNANCYL&DBF)"===e.target.value?(S(1),D({...C,[e.target.name]:e.target.value})):"TEST_SETTING_STANDALONE_HTS_STI"===e.target.value?(S(1),D({...C,[e.target.name]:e.target.value})):"TEST_SETTING_STANDALONE_HTS_TB"===e.target.value?(S(1),D({...C,[e.target.name]:e.target.value})):"TEST_SETTING_CT_STI"===e.target.value?(S(1),D({...C,[e.target.name]:e.target.value})):"TEST_SETTING_CT_PMTCT"===e.target.value?(S(1),D({...C,[e.target.name]:e.target.value})):"TEST_SETTING_CT_TB"===e.target.value?(S(1),D({...C,[e.target.name]:e.target.value})):"TEST_SETTING_TB_TB"===e.target.value?(S(1),D({...C,[e.target.name]:e.target.value})):"TEST_SETTING_STI_STI"===e.target.value?(S(1),D({...C,[e.target.name]:e.target.value})):"TEST_SETTING_OPD_STI"===e.target.value?D({...C,[e.target.name]:e.target.value}):"TEST_SETTING_OUTREACH_INDEX"===e.target.value?(S(1),D({...C,[e.target.name]:e.target.value})):(S(0),D({...C,[e.target.name]:e.target.value}))),D({...C,[e.target.name]:e.target.value})};const H=()=>(p.dateVisit=C.visitDate?"":"This field is required.",p.testingSetting=C.testingSetting?"":"This field is required.",p.modality=C.modality?"":"This field is required.",e.patientObj.age>15&&(p.targetGroup=C.targetGroup?"":"This field is required."),b({...p}),Object.values(p).every((e=>""==e))),B=(t,a)=>{e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([...e.completed,a])},E=Object.values(R);n=E.filter((e=>"true"===e));const Y=e=>{I({...R,[e.target.name]:e.target.value})};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(lt.a,{className:t.root,children:Object(ce.jsxs)(Qe.a,{children:[Object(ce.jsx)("h2",{style:{color:"#000"},children:"RISK STRATIFICATION"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Modality"}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Entry Point "}),Object(ce.jsxs)("select",{className:"form-control",name:"entryPoint",id:"entryPoint",value:C.entryPoint,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Facility",children:"Facility"}),Object(ce.jsx)("option",{value:"Community",children:"Community"})]}),""!==j.entryPoint?Object(ce.jsx)("span",{className:t.error,children:j.entryPoint}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"",children:"Visit Date * "}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"visitDate",id:"visitDate",value:C.visitDate,onChange:P,min:"1983-12-31",max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==j.dateVisit?Object(ce.jsx)("span",{className:t.error,children:j.dateVisit}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Setting"}),Object(ce.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:C.testingSetting,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),a.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==j.testingSetting?Object(ce.jsx)("span",{className:t.error,children:j.testingSetting}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Modality"}),Object(ce.jsxs)("select",{className:"form-control",name:"modality",id:"modality",value:C.modality,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),y.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.code)))]}),""!==j.modality?Object(ce.jsx)("span",{className:t.error,children:j.modality}):""]})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Target Group *"}),Object(ce.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:P,value:C.targetGroup,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),c.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==j.targetGroup?Object(ce.jsx)("span",{className:t.error,children:j.targetGroup}):""]})}),Object(ce.jsx)("br",{}),e.patientAge>15&&Object(ce.jsxs)(ce.Fragment,{children:[""!==C.targetGroup&&"TARGET_GROUP_GEN_POP"===C.targetGroup&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Is this HIV test based on a Clinician/Doctor/Health Care Provider\u2019s  request? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestBasedOnRequest",id:"lastHivTestBasedOnRequest",value:R.lastHivTestBasedOnRequest,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestBasedOnRequest?Object(ce.jsx)("span",{className:t.error,children:j.lastHivTestBasedOnRequest}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"When was your last HIV test done?  *"}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestDone",id:"lastHivTestDone",value:R.lastHivTestDone,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestDone?Object(ce.jsx)("span",{className:t.error,children:j.lastHivTestDone}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"What was the result? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"whatWasTheResult",id:"whatWasTheResult",value:R.whatWasTheResult,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.whatWasTheResult?Object(ce.jsx)("span",{className:t.error,children:j.whatWasTheResult}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Since your last HIV test, have you had anal or vaginal or oral sex without a condom with someone who was HIV positive or unaware of their HIV status? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestVaginalOral",id:"lastHivTestVaginalOral",value:R.lastHivTestVaginalOral,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestVaginalOral?Object(ce.jsx)("span",{className:t.error,children:j.lastHivTestVaginalOral}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Since your last HIV test, have you had a blood or blood product transfusion? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestBloodTransfusion",id:"lastHivTestBloodTransfusion",value:R.lastHivTestBloodTransfusion,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestBloodTransfusion?Object(ce.jsx)("span",{className:t.error,children:j.lastHivTestBloodTransfusion}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Since your last HIV test, have you experienced painful urination, lower abdominal pain, vaginal or penile discharge, pain during sexual intercourse, thick, cloudy, or foul smelling discharge and/or small bumps or blisters near the mouth, penis, vagina, or anal areas? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestPainfulUrination",id:"lastHivTestPainfulUrination",value:R.lastHivTestPainfulUrination,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestPainfulUrination?Object(ce.jsx)("span",{className:t.error,children:j.lastHivTestPainfulUrination}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you been diagnosed with TB or currently have any of the following symptoms : cough, fever, weight loss, night sweats? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"diagnosedWithTb",id:"diagnosedWithTb",value:R.diagnosedWithTb,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.diagnosedWithTb?Object(ce.jsx)("span",{className:t.error,children:j.diagnosedWithTb}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Since your last HIV test, have you ever injected drugs, shared needles or other sharp objects with someone known to be HIV positive or who you didn\u2019t know their HIV status? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestInjectedDrugs",id:"sexUnderInfluence",value:R.lastHivTestInjectedDrugs,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestInjectedDrugs?Object(ce.jsx)("span",{className:t.error,children:j.lastHivTestInjectedDrugs}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Since your last HIV test, have you had anal, oral or vaginal sex in exchange for money or other benefits? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestHadAnal",id:"lastHivTestHadAnal",value:R.lastHivTestHadAnal,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestHadAnal?Object(ce.jsx)("span",{className:t.error,children:j.lastHivTestHadAnal}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Since your last HIV test, have you been forced to have sex? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestForceToHaveSex",id:"moreThanOneSexPartnerLastThreeMonths",value:R.lastHivTestForceToHaveSex,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestForceToHaveSex?Object(ce.jsx)("span",{className:t.error,children:j.lastHivTestForceToHaveSex}):""]})}),Object(ce.jsx)("br",{})]}),""!==C.targetGroup&&"TARGET_GROUP_GEN_POP"!==C.targetGroup&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth?"}),Object(ce.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:R.experiencePain,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.experiencePain?Object(ce.jsx)("span",{className:t.error,children:j.experiencePain}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:R.haveSexWithoutCondom,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.haveSexWithoutCondom?Object(ce.jsx)("span",{className:t.error,children:j.haveSexWithoutCondom}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you had a condom burst with your partner during sexual intercourse?  *"}),Object(ce.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:R.haveCondomBurst,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.haveCondomBurst?Object(ce.jsx)("span",{className:t.error,children:j.haveCondomBurst}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind?"}),Object(ce.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:R.abuseDrug,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.abuseDrug?Object(ce.jsx)("span",{className:t.error,children:j.abuseDrug}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you/partner had any blood or blood product transfusion?"}),Object(ce.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:R.bloodTransfusion,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.bloodTransfusion?Object(ce.jsx)("span",{className:t.error,children:j.bloodTransfusion}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you/partner experienced coughing, weight loss, fever, night sweats consistently?"}),Object(ce.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:R.consistentWeightFeverNightCough,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.consistentWeightFeverNightCough?Object(ce.jsx)("span",{className:t.error,children:j.consistentWeightFeverNightCough}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Have you/partner paid or sold vaginal, anal or oral sex? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:R.soldPaidVaginalSex,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==j.soldPaidVaginalSex?Object(ce.jsx)("span",{className:t.error,children:j.soldPaidVaginalSex}):""]})}),Object(ce.jsx)("br",{})]})]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)(pt.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"Personal HIV Risk assessment score "}),Object(ce.jsxs)("b",{children:["Score :",T+(e.patientAge>15?n.length:0)]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)(dt.a,{content:"Save",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:t=>{t.preventDefault(),e.patientObj.targetGroup=C.targetGroup,e.patientObj.testingSetting=C.testingSetting,e.patientObj.dateVisit=C.visitDate,e.patientObj.riskAssessment=R,C.riskAssessment=R,(T>0||n.length>0)&&e.patientAge>15&&(H()?x.a.post("".concat(v,"risk-stratification"),C,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{m(!1),C.code=t.data.code,e.setExtra(C),B("basic","risk"),e.setHideOtherMenu(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})})):l.b.error("All fields are required",{position:l.b.POSITION.BOTTOM_CENTER})),e.patientAge<15?H()?x.a.post("".concat(v,"risk-stratification"),C,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{m(!1),e.patientObj.riskStratificationResponseDto=t.data,C.code=t.data.code,e.setExtra(C),e.setHideOtherMenu(!1),B("basic","risk")})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...")})):l.b.error("All fields are required",{position:l.b.POSITION.BOTTOM_CENTER}):(e.setExtra(C),H()?x.a.post("".concat(v,"risk-stratification"),C,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{m(!1),e.patientObj.riskStratificationResponseDto=t.data,C.code=t.data.code,e.setExtra(C)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})})):l.b.error("All fields are required",{position:l.b.POSITION.BOTTOM_CENTER}))}})})})]})})]})}),Object(ce.jsxs)(ne.a,{show:u,toggle:f,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(ce.jsx)(ne.a.Header,{children:Object(ce.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(ne.a.Body,{children:Object(ce.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(ce.jsx)(ne.a.Footer,{children:Object(ce.jsx)(dt.a,{onClick:f,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};const Ht=Object(we.a)((e=>({error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Bt=e=>{Ht(),Object(o.g)(),Object(o.h)().state;const[t,a]=Object(r.useState)(!1),[s,i]=Object(r.useState)("hiv-test"),[n,c]=Object(r.useState)([]),[d,j]=Object(r.useState)(!0),[b,h]=Object(r.useState)({breastFeeding:"",capturedBy:"",cd4:{},clientCode:"",riskStratificationCode:"",confirmatoryTest:{},dateVisit:"",extra:{},firstTimeVisit:"",hepatitisTesting:{},hivTestResult:"",id:"",indexClient:"",indexClientCode:"",indexElicitation:[{address:"",altPhoneNumber:"",archived:0,currentlyLiveWithPartner:!0,datePartnerCameForTesting:"",dob:"",extra:{},facilityId:0,firstName:"",hangOutSpots:"",htsClient:{archived:0,breastFeeding:0,capturedBy:"",cd4:{},clientCode:"",confirmatoryTest:{},dateVisit:"",extra:{},facilityId:0,firstTimeVisit:!0,hepatitisTesting:{},hivTestResult:"",id:0,indexClient:!0,indexClientCode:"",indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:0,numWives:0,others:{},person:{active:"",address:{},archived:0,contact:{},contactPoint:{},createdDate:"",dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",facilityId:0,firstName:"string",gender:{},hospitalNumber:"",id:"",identifier:{},isDateOfBirthEstimated:!0,lastModifiedDate:"",maritalStatus:{},new:!0,ninNumber:"",organization:{},otherName:"",sex:"",surname:"",uuid:""},personUuid:"",postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:!0,recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:0,tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",uuid:""},htsClientUuid:"",id:"",isDateOfBirthEstimated:!0,lastName:"",middleName:"",notificationMethod:"",partnerTestedPositive:"",phoneNumber:"",physicalHurt:"",relationshipToIndexClient:"",sex:"",sexuallyUncomfortable:"",threatenToHurt:"",uuid:""}],indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:"",numWives:"",others:{},personId:e.patientObj.personId,personResponseDto:{active:!0,address:{address:[{city:"",line:[""],stateId:"",district:"",countryId:1,postalCode:"",organisationUnitId:0}]},biometricStatus:!0,checkInDate:"",contact:{},contactPoint:{contactPoint:[{type:"phone",value:""}]},dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",encounterDate:"",facilityId:"",firstName:"",gender:{},id:"",identifier:{},isDateOfBirthEstimated:!0,maritalStatus:{},ninNumber:"",organization:{},otherName:"",sex:"",surname:"",visitId:""},postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:"",recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:"",tbScreening:{},test1:{},test2:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",riskStratificationResponseDto:null}),[m,p]=Object(r.useState)({risk:"",index:"",pre:"",post:"",recency:"",elicitation:""}),u=e=>{i(e)};return Object(r.useEffect)((()=>{}),[]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(l.a,{autoClose:3e3,hideProgressBar:!0}),Object(ce.jsx)(Xe.a,{children:Object(ce.jsx)(Qe.a,{children:Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h3",{children:"PMTCT - HIV COUNSELLING AND TESTING"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"col-md-3 col-sm-3 col-lg-3",children:Object(ce.jsxs)(Ie.a,{size:"large",vertical:!0,style:{backgroundColor:"#014D88"},children:[Object(ce.jsx)(Ie.a.Item,{name:"inbox",active:"hiv-test"===s,onClick:()=>u("hiv-test"),style:{backgroundColor:"hiv-test"===s?"#000":""},children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Request ","&"," Result Form",n.includes("hiv-test")&&Object(ce.jsx)(ot.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Ie.a.Item,{name:"spam",active:"recency-testing"===s,onClick:()=>u("recency-testing"),style:{backgroundColor:"recency-testing"===s?"#000":""},children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["HIV Recency Testing",n.includes("recency-testing")&&Object(ce.jsx)(ot.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Ie.a.Item,{name:"spam",active:"indexing"===s,onClick:()=>u("indexing"),style:{backgroundColor:"indexing"===s?"#000":""},children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Index Notification Services - Elicitation",n.includes("indexing")&&Object(ce.jsx)(ot.a,{name:"check",color:"green"})]})})]})}),Object(ce.jsxs)("div",{className:"col-md-9 col-sm-9 col-lg-9 ",style:{backgroundColor:"#fff",margingLeft:"-50px",paddingLeft:"-20px"},children:["risk"===s&&Object(ce.jsx)(Pt,{handleItemClick:u,setCompleted:c,completed:n,setPatientObj:h,patientObj:b,setHideOtherMenu:j,patientAge:e.patientObj.age,setExtra:p,extra:m,activePage:e.activePage,setActivePage:e.setActivePage}),"basic"===s&&Object(ce.jsx)(mt,{handleItemClick:u,setCompleted:c,completed:n,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age,setExtra:p,extra:m}),"pre-test-counsel"===s&&Object(ce.jsx)(Ot,{handleItemClick:u,setCompleted:c,completed:n,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age}),"hiv-test"===s&&Object(ce.jsx)(vt,{handleItemClick:u,setCompleted:c,completed:n,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age}),"post-test"===s&&Object(ce.jsx)(Rt,{handleItemClick:u,setCompleted:c,completed:n,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age,patientsHistory:e.patients}),"indexing"===s&&Object(ce.jsx)(Tt,{handleItemClick:u,setCompleted:c,completed:n,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age}),"recency-testing"===s&&Object(ce.jsx)(wt,{handleItemClick:u,setCompleted:c,completed:n,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age}),"others"===s&&Object(ce.jsx)(Ct,{handleItemClick:u,setCompleted:c,completed:n,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age})]})]})})})})]})},Et=s(883);const Yt={Add:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(N.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(D.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(E.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(k.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(q.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(M.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(L.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(V.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(X.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(S.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(U.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(J.a,{...e,ref:t})))};var kt=e=>{const[t,a]=Object(r.useState)([]),[s,n]=Object(r.useState)(!0),[c,o]=i.a.useState(!1),[d,j]=Object(r.useState)(!1),[b,h]=Object(r.useState)(null),m=()=>o(!c);Object(r.useEffect)((()=>{p()}),[e.patientObj.id]);const p=()=>{n(!0),x.a.get("".concat(v,"pmtct/anc/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{n(!1),a(null!==e.data.partnerInformation?[e.data.partnerInformation]:[])})).catch((e=>{}))},O=(t,a)=>{e.setActiveContent({...e.activeContent,route:"add-partner",id:t,actionType:a,obj:t})};return Object(ce.jsxs)("div",{children:[t&&t.length<=0&&Object(ce.jsx)(dt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>O(),style:{backgroundColor:"#014d88"},startIcon:Object(ce.jsx)(me.a,{size:"10"}),children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"New Partner"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(u.a,{icons:Yt,title:"List of Partners ",columns:[{title:"Partner Name",field:"name"},{title:"Partner Age",field:"age"},{title:"Pre-test Counseled",field:"pre"},{title:"Partner Accept HIV Test",field:"hiv"},{title:"Post-Test Counseled",field:"post"},{title:"HBV Status",field:"hbv"},{title:"HCV Status",field:"hcv"},{title:"Syphillis Status",field:"syphillis"},{title:"Referred To",field:"referred",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:s,data:t.map((e=>({name:e.fullName,age:e.age,pre:e.preTestCounseled,hiv:e.acceptHivTest,post:e.postTestCounseled,hbv:e.hbStatus,hcv:e.hbStatus,syphillis:e.syphillisStatus,referred:e.referredTo,actions:Object(ce.jsx)("div",{children:Object(ce.jsx)(Ie.a.Menu,{position:"right",children:Object(ce.jsx)(Ie.a.Item,{children:Object(ce.jsx)(dt.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(ce.jsx)(Et.a,{item:!0,text:"Action",children:Object(ce.jsxs)(Et.a.Menu,{style:{marginTop:"10px"},children:[Object(ce.jsxs)(Et.a.Item,{onClick:()=>O(e,"view"),children:[" ",Object(ce.jsx)(ot.a,{name:"eye"}),"View  "]}),Object(ce.jsxs)(Et.a.Item,{onClick:()=>O(e,"update"),children:[Object(ce.jsx)(ot.a,{name:"edit"}),"Edit"]}),Object(ce.jsxs)(Et.a.Item,{onClick:()=>(e=>{m(),h(e)})(e),children:[" ",Object(ce.jsx)(ot.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(ce.jsxs)(ne.a,{show:c,toggle:m,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(ce.jsx)(ne.a.Header,{children:Object(ce.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(ne.a.Body,{children:Object(ce.jsxs)("h4",{children:["Are you Sure you want to delete - ",Object(ce.jsx)("b",{children:b&&b.fullName})]})}),Object(ce.jsxs)(ne.a.Footer,{children:[Object(ce.jsx)(dt.a,{onClick:()=>(j(!0),void x.a.delete("".concat(v,"pmtct/anc/delete/partnerinfo/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),p(),m(),j(!1)})).catch((e=>{if(j(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))),style:{backgroundColor:"red",color:"#fff"},disabled:d,children:!1===d?"Yes":"Deleting..."}),Object(ce.jsx)(dt.a,{onClick:m,style:{backgroundColor:"#014d88",color:"#fff"},disabled:d,children:"No"})]})]})]})};const _t={Add:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(N.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(D.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(E.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(k.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(q.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(M.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(L.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(V.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(X.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(S.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(U.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(J.a,{...e,ref:t})))};var Mt=e=>{const[t,a]=Object(r.useState)([]),[s,n]=Object(r.useState)([]),[c,o]=Object(r.useState)(!0),[d,j]=Object(r.useState)(0),[b,h]=i.a.useState(!1),[m,p]=Object(r.useState)(!1),[O,f]=Object(r.useState)(null),y=()=>h(!b);Object(r.useEffect)((()=>{N(),T()}),[]);const N=()=>{o(!0),x.a.get("".concat(v,"pmtct/anc/get-infant-by-mother-person-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o(!1),a(e.data)})).catch((e=>{}))},T=()=>{o(!0),e.patientObj.ancNo?x.a.get("".concat(v,"pmtct/anc/view-delivery2/").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o(!1),n(e.data.dateOfDelivery),j(e.data&&e.data.numberOfInfantsAlive?e.data.numberOfInfantsAlive:0)})).catch((e=>{})):x.a.get("".concat(v,"pmtct/anc/view-delivery-with-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o(!1),n(e.data.dateOfDelivery),j(e.data&&e.data.numberOfInfantsAlive?e.data.numberOfInfantsAlive:0)})).catch((e=>{}))},S=(t,a)=>{e.setActiveContent({...e.activeContent,route:"add-infant",id:null===t||void 0===t?void 0:t.id,actionType:a,obj:t})};return Object(ce.jsxs)("div",{children:[t.length<d&&d>t.length&&"POINT_ENTRY_PMTCT_POSTNATAL_WARD"!==e.patientObj.entryPoint&&"621"!==e.patientObj.entryPoint&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(dt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>S(s,"create"),style:{backgroundColor:"#014d88"},startIcon:Object(ce.jsx)(me.a,{size:"10"}),children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"New Infant"})})}),"POINT_ENTRY_PMTCT_POSTNATAL_WARD"===e.patientObj.entryPoint||"621"===e.patientObj.entryPoint&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(dt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>S(s,"create"),style:{backgroundColor:"#014d88"},startIcon:Object(ce.jsx)(me.a,{size:"10"}),children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"New Infant"})})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(u.a,{icons:_t,title:"List of Infants ",columns:[{title:"Infant Name",field:"name"},{title:"Hospital No.",field:"hospital"},{title:"Age",field:"age"},{title:"Date of Delivery",field:"date"},{title:"Sex",field:"sex",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:c,data:t.map((e=>({name:e.firstName+" "+e.surname,hospital:e.hospitalNumber,age:Ze(e.dateOfDelivery),sex:"SEX_FEMALE"===e.sex?"Female":"Male",date:e.dateOfDelivery,actions:Object(ce.jsx)("div",{children:Object(ce.jsx)(Ie.a.Menu,{position:"right",children:Object(ce.jsx)(Ie.a.Item,{children:Object(ce.jsx)(dt.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(ce.jsx)(Et.a,{item:!0,text:"Action",children:Object(ce.jsxs)(Et.a.Menu,{style:{marginTop:"10px"},children:[Object(ce.jsxs)(Et.a.Item,{onClick:()=>S(e,"view"),children:[" ",Object(ce.jsx)(ot.a,{name:"eye"}),"View"," "]}),Object(ce.jsxs)(Et.a.Item,{onClick:()=>S(e,"update"),children:[Object(ce.jsx)(ot.a,{name:"edit"}),"Edit"]}),Object(ce.jsxs)(Et.a.Item,{onClick:()=>(e=>{y(),f(e)})(e),children:[" ",Object(ce.jsx)(ot.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(ce.jsxs)(ne.a,{show:b,toggle:y,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(ce.jsx)(ne.a.Header,{children:Object(ce.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(ne.a.Body,{children:Object(ce.jsxs)("h4",{children:["Are you Sure you want to delete -"," ",Object(ce.jsx)("b",{children:O&&O.firstName+" "+O.surname})]})}),Object(ce.jsxs)(ne.a.Footer,{children:[Object(ce.jsx)(dt.a,{onClick:()=>{return e=O,p(!0),void x.a.delete("".concat(v,"pmtct/anc/delete/infantinfo/").concat(e.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),N(),y(),p(!1)})).catch((e=>{if(p(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}));var e},style:{backgroundColor:"red",color:"#fff"},disabled:m,children:!1===m?"Yes":"Deleting..."}),Object(ce.jsx)(dt.a,{onClick:y,style:{backgroundColor:"#014d88",color:"#fff"},disabled:m,children:"No"})]})]})]})};const Ft=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Lt=e=>{e.patientObj;const t=Ft(),[a,s]=Object(r.useState)(!1),[i,n]=Object(r.useState)(!1),[c,o]=Object(r.useState)({}),[d,j]=Object(r.useState)([]),[b,h]=Object(r.useState)([]),[m,p]=Object(r.useState)(""),[u,O]=Object(r.useState)({age:"",dateOfBirth:"",fullName:"",hbStatus:"",hcStatus:"",postTestCounseled:"",referredTo:"",syphillsStatus:"",referredToOthers:"",hivStatus:"",dateConfirmedHivTest:""});Object(r.useEffect)((()=>{var t,a;if(f(),y(),e.activeContent&&e.activeContent.id&&(O(e.activeContent.obj),n("view"===e.activeContent.actionType)),e.patientObj.hivStatus)p(e.patientObj.hivStatus);else if(null!==e&&void 0!==e&&null!==(t=e.patientObj)&&void 0!==t&&t.staticHivStatus){var s;p(null===e||void 0===e||null===(s=e.patientObj)||void 0===s?void 0:s.staticHivStatus)}else if(null!==e&&void 0!==e&&null!==(a=e.patientObj)&&void 0!==a&&a.dynamicHivStatus){var r;p(null===e||void 0===e||null===(r=e.patientObj)||void 0===r?void 0:r.dynamicHivStatus)}}),[e.patientObj.id,e.activeContent]);const f=()=>{x.a.get("".concat(v,"application-codesets/v2/PARTNER_SYPHILIS_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{j(e.data)})).catch((e=>{}))},y=()=>{x.a.get("".concat(v,"application-codesets/v2/PARTNER_REFERRED_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{h(e.data)})).catch((e=>{}))},N=e=>{o({...c,[e.target.name]:""}),O({...u,[e.target.name]:e.target.value}),"referredTo"===e.target.name&&"OTHERS"!==u.referredTo&&(u.referredToOthers="",O({...u,referredToOthers:""}),O({...u,[e.target.name]:e.target.value})),O({...u,[e.target.name]:e.target.value})},T=t=>{t.preventDefault(),(()=>{let e={...c};return e.age=u.age?"":"This field is required",e.postTestCounseled=u.postTestCounseled?"":"This field is required",e.fullName=u.fullName?"":"This field is required",e.hivStatus=u.hivStatus?"":"This field is required",o({...e}),Object.values(e).every((e=>""==e))})()?(s(!0),x.a.put("".concat(v,"pmtct/anc/update-partnerinformation-in-anc/").concat(e.patientObj.id),u,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{s(!1),l.b.success("Record save successful",{position:l.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"partners"})})).catch((e=>{s(!1),l.b.error("Something went wrong",{position:l.b.POSITION.BOTTOM_CENTER})}))):l.b.error("All field are required",{position:l.b.POSITION.BOTTOM_CENTER})},S=()=>{e.setActiveContent({...e.activeContent,route:"partners",id:"",actionType:""})};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(dt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>S(),style:{backgroundColor:"#014d88"},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:" Back"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Xe.a,{className:t.root,children:Object(ce.jsx)(Qe.a,{children:Object(ce.jsxs)("form",{children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h2",{children:"New Partner "}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["ANC Number ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:N,value:e.patientObj.ancNo,disabled:!0})}),""!==c.ancNo?Object(ce.jsx)("span",{className:t.error,children:c.ancNo}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Partner HIV Status (Pregnant Woman)"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"partnerHivSTatus",id:"partnerHivSTatus",value:m,disabled:!0})}),""!==c.ancNo?Object(ce.jsx)("span",{className:t.error,children:c.ancNo}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Partner Full Name ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"fullName",id:"fullName",onChange:N,value:u.fullName,disabled:i})}),""!==c.fullName?Object(ce.jsx)("span",{className:t.error,children:c.fullName}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Partner age ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"Number",name:"age",id:"age",min:10,onChange:N,value:u.age,disabled:i})}),""!==c.ancNo?Object(ce.jsx)("span",{className:t.error,children:c.ancNo}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Pre-test Counseled ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"preTestCounseled",id:"preTestCounseled",onChange:N,value:u.preTestCounseled,disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==c.preTestCounseled?Object(ce.jsx)("span",{className:t.error,children:c.preTestCounseled}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Partner accepts HIV test"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"acceptHivTest",id:"acceptHivTest",onChange:N,value:u.acceptHivTest,disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==c.acceptHivTest?Object(ce.jsx)("span",{className:t.error,children:c.acceptHivTest}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Partner HIV Status ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hivStatus",id:"hivStatus",onChange:N,value:u.hivStatus,disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"}),Object(ce.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==c.hivStatus?Object(ce.jsx)("span",{className:t.error,children:c.hivStatus}):""]})}),(null===u||void 0===u?void 0:u.hivStatus)&&"positive"===(null===u||void 0===u?void 0:u.hivStatus.toLowerCase())&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date Confirmed HIV Test"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateConfirmedHivTest",id:"dateConfirmedHivTest",value:u.dateConfirmedHivTest,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:N,max:te()(new Date).format("YYYY-MM-DD"),disabled:i})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Post-test counseled/ received test result"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"postTestCounseled",id:"postTestCounseled",onChange:N,value:u.postTestCounseled,disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==c.postTestCounseled?Object(ce.jsx)("span",{className:t.error,children:c.postTestCounseled}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"HBV status "}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hbStatus",id:"hbStatus",onChange:N,value:u.hbStatus,disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==c.hbStatus?Object(ce.jsx)("span",{className:t.error,children:c.hbStatus}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"HCV status "}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hcStatus",id:"hcStatus",onChange:N,value:u.hcStatus,disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==c.hcStatus?Object(ce.jsx)("span",{className:t.error,children:c.hcStatus}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Syphillis Status "}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"syphillisStatus",id:"syphillisStatus",onChange:N,value:u.syphillisStatus,disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),d.map((e=>Object(ce.jsx)("option",{value:e.display,children:e.display},e.id)))]})}),""!==c.syphillisStatus?Object(ce.jsx)("span",{className:t.error,children:c.syphillisStatus}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Referred To"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"referredTo",id:"referredTo",onChange:N,value:u.referredTo,disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),b.map((e=>Object(ce.jsx)("option",{value:e.display,children:e.display},e.id)))]})}),""!==c.referredTo?Object(ce.jsx)("span",{className:t.error,children:c.referredTo}):""]})}),"OTHERS"===u.referredTo&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Referred To Others (Please specify)"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"referredToOthers",id:"referredToOthers",onChange:N,value:u.referredToOthers,disabled:i})})]})})]}),a?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),e.activeContent&&"update"===e.activeContent.actionType?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:a,startIcon:Object(ce.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:T,children:a?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating"}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",hidden:i,className:t.button,disabled:a,startIcon:Object(ce.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:T,children:a?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving"}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})}),Object(ce.jsx)(Z.a,{variant:"contained",className:t.button,startIcon:Object(ce.jsx)(st.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>S(),children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})]})};const zt=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Vt=e=>{const t=e.patientObj,a=zt(),[s,i]=Object(r.useState)(!1),[n,c]=Object(r.useState)({}),[o,d]=Object(r.useState)(!1),[j,b]=Object(r.useState)([]),[h,m]=Object(r.useState)(""),[p,u]=Object(r.useState)(""),[O,f]=Object(r.useState)([]),[y,N]=Object(r.useState)([]),[T,S]=Object(r.useState)([]),[C,D]=Object(r.useState)({bodyWeight:""}),[R,I]=Object(r.useState)([]),[w,A]=Object(r.useState)(!1),[P,H]=Object(r.useState)({ancNo:null===t||void 0===t?void 0:t.ancNo,dateOfinfantInfo:"",firstName:"",middleName:"",nin:"",sex:"",surname:"",bodyWeight:"",uuid:t.ancUuid,dateOfDelivery:"",infantArvDto:"",ctxStatus:"",hospitalNumber:"",personUuid:e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid}),[B,E]=Object(r.useState)({ageAtTest:"",ancNumber:e.patientObj.ancNo,dateResultReceivedAtFacility:"",dateResultReceivedByCaregiver:"",dateSampleCollected:"",dateSampleSent:"",infantHospitalNumber:p,results:"",testType:""}),[Y,k]=Object(r.useState)({ageAtCtx:"",ancNumber:e.patientObj.ancNo,arvDeliveryPoint:"",infantArvTime:"",infantArvType:"",infantHospitalNumber:p||"",dateOfCtx:"",dateOfArv:""}),_=e=>{let t=e.split("-"),a=Number(t[0]),s=Number(t[1]),r=Number(t[2]),i=te()().format("YYYY-MM-DD").split("-"),n=Number(i[0]),c=Number(i[1]),o=Number(i[2]);te()("20240313","YYYYMMDD").fromNow();if(Number(n)===Number(a)){if(c>s){return 4*(c-s)}if(c===s){let e=(o-r)/7;if(1>e)return 0;{let t=e;return Math.floor(t)}}}else if(n>a){let e=52.1429*(n-a);return Math.floor(e)}},M=e=>{c({...n,[e.target.name]:""}),E({...B,[e.target.name]:e.target.value})},F=e=>{if(c({...n,[e.target.name]:""}),"dateOfCtx"===e.target.name){let t=z(e.target.value);k({...Y,[e.target.name]:e.target.value,ageAtCtx:t})}else if("dateOfArv"===e.target.name){let t=V(e.target.value);k({...Y,[e.target.name]:e.target.value,infantArvTime:t})}else"infantArvType"===e.target.name?(k({...Y,[e.target.name]:e.target.value}),c({...n,[e.target.name]:"",dateOfArv:""})):k({...Y,[e.target.name]:e.target.value})};Object(r.useEffect)((()=>{if(x.a.get("".concat(v,"application-codesets/v2/CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{N(e.data)})).catch((e=>{})),x.a.get("".concat(v,"application-codesets/v2/INFANT_PCR_RESULT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{I(e.data)})).catch((e=>{})),L(),U(),x.a.get("".concat(v,"application-codesets/v2/INFANT_ARV_PROPHYLAXIS_TYPE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{S(e.data)})).catch((e=>{})),e.activeContent&&"create"===e.activeContent.actionType){P.dateOfDelivery=e.activeContent.obj;let t=_(P.dateOfDelivery);t<7&&(E({...B,testType:"First PCR"}),x.a.get("".concat(v,"application-codesets/v2/1ST PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{N(e.data)})).catch((e=>{}))),t>11&&(E({...B,testType:"Second PCR"}),x.a.get("".concat(v,"application-codesets/v2/2ND_3RD_PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{N(e.data)})).catch((e=>{})))}e.activeContent&&e.activeContent.id&&(H({...P,...e.activeContent.obj}),k({...Y,...e.activeContent.obj.infantArvDto}),E({...Y,...e.activeContent.obj.infantPCRTestDto}),d("view"===e.activeContent.actionType))}),[e.patientObj.id,e.activeContent.id]);const L=()=>{x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{b(e.data)})).catch((e=>{}))},z=e=>{const t=te()(P.dateOfDelivery?P.dateOfDelivery:h),a=te()(e);return console.log("months",a.diff(t,"months")),a.diff(t,"months")<2?"AGE_CTX_INITIATION_<_2__MONTHS":"AGE_CTX_INITIATION_\u2265_2__MONTHS"},V=e=>{const t=te()(P.dateOfDelivery?P.dateOfDelivery:h);return te()(e).diff(t,"hours")<72?"Within 72 hour":"After 72 hour"},W=e=>{if(c({...n,[e.target.name]:""}),"hospitalNumber"===e.target.name&&""!==e.target.value){async function t(){const t=e.target.value;!0!==(await x.a.post("".concat(v,"pmtct/anc/exist/infant-hospital-number"),t,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}})).data?(A(!1),n.hospitalNumber=""):(n.hospitalNumber="",l.b.error("Error! Hosiptal Number already exist"),A(!0))}t(),H({...P,[e.target.name]:e.target.value})}else if("dateOfDelivery"===e.target.name&&""!==e.target.value){let a=_(e.target.value);a<7&&(E({...B,testType:"First PCR"}),x.a.get("".concat(v,"application-codesets/v2/1ST PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{N(e.data)})).catch((e=>{}))),a>11&&(E({...B,testType:"Second PCR"}),x.a.get("".concat(v,"application-codesets/v2/2ND_3RD_PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{N(e.data)})).catch((e=>{}))),H({...P,[e.target.name]:e.target.value})}else"ctxStatus"===e.target.name?(H({...P,[e.target.name]:e.target.value}),k({...Y,dateOfCtx:""}),c({...n,[e.target.name]:"",dateOfCtx:""})):H({...P,[e.target.name]:e.target.value})},U=()=>{x.a.get("".concat(v,"application-codesets/v2/AGE_CTX_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{f(e.data)})).catch((e=>{}))},G=t=>{t.preventDefault(),(()=>{let e={...n};return e.surname=P.surname?"":"This field is required",e.hospitalNumber=P.hospitalNumber?"":"This field is required",e.sex=P.sex?"":"This field is required","YES"===P.ctxStatus&&(e.dateOfCtx=Y.dateOfCtx?"":"This field is required"),"INFANT_ARV_PROPHYLAXIS_TYPE_NONE"!==Y.infantArvType&&Y.infantArvType&&(e.dateOfArv=Y.dateOfArv?"":"This field is required"),c({...e}),Object.values(e).every((e=>""==e))})()?(i(!0),P.infantArvDto=Y,P.infantPCRTestDto=B,e.activeContent&&"update"===e.activeContent.actionType?x.a.put("".concat(v,"pmtct/anc/update-infant/").concat(e.activeContent.id),P,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{i(!1),l.b.success("Record save successful",{position:l.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"infants"})})).catch((e=>{i(!1),l.b.error("Something went wrong",{position:l.b.POSITION.BOTTOM_CENTER})})):x.a.post("".concat(v,"pmtct/anc/add-infants"),P,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{i(!1),l.b.success("Record save successful",{position:l.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"infants"})})).catch((e=>{i(!1),l.b.error("Something went wrong",{position:l.b.POSITION.BOTTOM_CENTER})}))):l.b.error("All field are required",{position:l.b.POSITION.BOTTOM_CENTER})},q=()=>{e.setActiveContent({...e.activeContent,route:"infants",id:"",actionType:""})};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(dt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>q(),style:{backgroundColor:"#014d88"},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Xe.a,{className:a.root,children:Object(ce.jsx)(Qe.a,{children:Object(ce.jsxs)("form",{children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h2",{children:"New Infant Registration"}),Object(ce.jsxs)("div",{className:"row",children:[(null===t||void 0===t?void 0:t.ancNo)&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"ANC Number"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:W,value:t.ancNo,disabled:!0})}),""!==n.ancNo?Object(ce.jsx)("span",{className:a.error,children:n.ancNo}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Child\u2019s Hospital ID Number",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"hospitalNumber",id:"hospitalNumber",onChange:W,value:P.hospitalNumber,disabled:o})}),""!==n.hospitalNumber?Object(ce.jsx)("span",{className:a.error,children:n.hospitalNumber}):"",!0===w?Object(ce.jsx)("span",{className:a.error,children:"Hospital number already exist"}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date of Delivery ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfDelivery",id:"dateOfDelivery",onChange:W,min:e.patientObj.firstAncDate,max:te()(new Date).format("YYYY-MM-DD"),value:P.dateOfDelivery?P.dateOfDelivery:h,disabled:!0})}),""!==n.dateOfDelivery?Object(ce.jsx)("span",{className:a.error,children:n.dateOfDelivery}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Infant Given Name"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"firstName",id:"firstName",onChange:W,value:P.firstName,disabled:o})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Infant Surname"}),Object(ce.jsx)("span",{style:{color:"red"},children:" *"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"input",name:"surname",id:"surname",onChange:W,value:P.surname,disabled:o})}),""!==n.surname?Object(ce.jsx)("span",{className:a.error,children:n.surname}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Birth Weight ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(Ve.a,{children:[Object(ce.jsx)(ke.a,{type:"number",name:"bodyWeight",id:"bodyWeight",onChange:W,min:"1",max:"150",onKeyUp:e=>{if("bodyWeight"===e.target.name&&(e.target.value<3||e.target.value>150)){const e="Body weight must not be greater than 150 and less than 3";D({...C,bodyWeight:e})}else D({...C,bodyWeight:""})},value:P.bodyWeight,style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:o}),Object(ce.jsx)(We.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"kg"})]}),""!==n.bodyWeight?Object(ce.jsx)("span",{className:a.error,children:n.bodyWeight}):"",""!==C.weight?Object(ce.jsx)("span",{className:a.error,children:C.weight}):"",""!==P.bodyWeight&&P.bodyWeight<=0?Object(ce.jsxs)("span",{className:a.error,children:["Invalid Body Weight"," "]}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Sex ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"sex",id:"sex",onChange:W,value:P.sex,disabled:o,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),j.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==n.sex?Object(ce.jsx)("span",{className:a.error,children:n.sex}):""]})})]}),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},horizontal:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:" Infant ARV & CTX"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row mt-4",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"CTX "}),Object(ce.jsxs)(ke.a,{type:"select",name:"ctxStatus",id:"ctxStatus",value:P.ctxStatus,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:W,disabled:o,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),Object(ce.jsx)("option",{value:"YES",children:"YES "}),Object(ce.jsx)("option",{value:"NO",children:"NO "})]}),""!==n.ctxStatus?Object(ce.jsx)("span",{className:a.error,children:n.ctxStatus}):""]})}),"YES"===P.ctxStatus&&Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date of CTX initiation"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfCtx",id:"dateOfCtx",value:Y.dateOfCtx,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:P.dateOfDelivery,max:te()(new Date).format("YYYY-MM-DD"),disabled:o}),""!==n.dateOfCtx?Object(ce.jsx)("span",{className:a.error,children:n.dateOfCtx}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-4 ",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Age at CTX Initiation(months)"," "]}),Object(ce.jsxs)(ke.a,{type:"select",name:"ageAtCtx",id:"ageAtCtx",value:Y.ageAtCtx,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:o,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),O.map(((e,t)=>Object(ce.jsx)("option",{value:e.code,children:e.display},t)))]}),""!==n.ageAtCtx?Object(ce.jsx)("span",{className:a.error,children:n.ageAtCtx}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Infant ARV Prophylaxis Type"," "]}),Object(ce.jsxs)(ke.a,{type:"select",name:"infantArvType",id:"infantArvType",value:Y.infantArvType,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:o,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),T.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==n.infantArvType?Object(ce.jsx)("span",{className:a.error,children:n.infantArvType}):""]})}),Y.infantArvType&&"INFANT_ARV_PROPHYLAXIS_TYPE_NONE"!==Y.infantArvType&&Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date of ARV Prophylaxis"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfArv",id:"dateOfArv",value:Y.dateOfArv,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:P.dateOfDelivery,max:te()(new Date).format("YYYY-MM-DD"),disabled:o}),""!==n.dateOfArv?Object(ce.jsx)("span",{className:a.error,children:n.dateOfArv}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:" Timing of ARV Prophylaxis "}),Object(ce.jsxs)(ke.a,{type:"select",name:"infantArvTime",id:"infantArvTime",value:Y.infantArvTime,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:o,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),Object(ce.jsx)("option",{value:"Within 72 hour",children:"Within 72 hour "}),Object(ce.jsx)("option",{value:"After 72 hour",children:"After 72 hour "})]}),""!==n.infantArvTime?Object(ce.jsx)("span",{className:a.error,children:n.infantArvTime}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:" Place of Delivery "}),Object(ce.jsxs)(ke.a,{type:"select",name:"arvDeliveryPoint",id:"arvDeliveryPoint",value:Y.arvDeliveryPoint,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:o,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),Object(ce.jsx)("option",{value:"Facility Delivery",children:"Facility Delivery"}),Object(ce.jsxs)("option",{value:"Delivered outside facility",children:["Delivered outside facility"," "]})]}),""!==n.arvDeliveryPoint?Object(ce.jsx)("span",{className:a.error,children:n.arvDeliveryPoint}):""]})})]})]}),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Te.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},horizontal:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:" Infant PCR/HIV Test "})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row mt-3",children:[Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Age at Test(months)"}),Object(ce.jsxs)(ke.a,{type:"select",name:"ageAtTest",id:"ageAtTest",value:B.ageAtTest,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:o,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),y.length>0&&y.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==n.ageAtTest?Object(ce.jsx)("span",{className:a.error,children:n.ageAtTest}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:" Sample Type"}),Object(ce.jsxs)(ke.a,{type:"select",name:"testType",id:"testType",value:B.testType,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:o,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),Object(ce.jsx)("option",{value:"First PCR",children:"First PCR"}),Object(ce.jsx)("option",{value:"Second PCR",children:"Second PCR"}),Object(ce.jsx)("option",{value:"Confirmatory PCR",children:"Confirmatory PCR"}),Object(ce.jsxs)("option",{value:"First Rapid Antibody",children:["First Rapid Antibody"," "]}),Object(ce.jsxs)("option",{value:"Second Rapid Antibody ",children:["Second Rapid Antibody"," "]})]}),""!==n.testType?Object(ce.jsx)("span",{className:a.error,children:n.testType}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date sample collected"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateSampleCollected",id:"dateSampleCollected",value:B.dateSampleCollected,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:P.dateOfDelivery,max:te()(new Date).format("YYYY-MM-DD"),disabled:o}),""!==n.dateSampleCollected?Object(ce.jsx)("span",{className:a.error,children:n.dateSampleCollected}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Sample Sent"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateSampleSent",id:"dateSampleSent",value:B.dateSampleSent,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:B.dateSampleCollected,max:B.dateResultReceivedAtFacility,disabled:o}),""!==n.dateSampleSent?Object(ce.jsx)("span",{className:a.error,children:n.dateSampleSent}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Result Received"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateResultReceivedAtFacility",id:"dateResultReceivedAtFacility",value:B.dateResultReceivedAtFacility,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:B.dateSampleCollected,max:te()(new Date).format("YYYY-MM-DD"),disabled:o}),""!==n.dateResultReceivedAtFacility?Object(ce.jsx)("span",{className:a.error,children:n.dateResultReceivedAtFacility}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Result Received By Caregiver"}),Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateResultReceivedByCaregiver",id:"dateResultReceivedByCaregiver",value:B.dateResultReceivedByCaregiver,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:B.dateResultReceivedAtFacility,max:te()(new Date).format("YYYY-MM-DD"),disabled:o}),""!==n.dateResultReceivedByCaregiver?Object(ce.jsx)("span",{className:a.error,children:n.dateResultReceivedByCaregiver}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Result *"}),Object(ce.jsxs)(ke.a,{type:"select",name:"results",id:"results",value:B.results,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:o,children:[Object(ce.jsx)("option",{value:"select",children:"Select "}),R.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==n.results?Object(ce.jsx)("span",{className:a.error,children:n.results}):""]})})]})]}),""!==B.results&&"INFANT_PCR_RESULT_POSITIVE"===B.results?Object(ce.jsx)("h2",{style:{color:"red"},children:"Kindly fill ART form"}):""]}),s?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),e.activeContent&&"update"===e.activeContent.actionType?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:a.button,disabled:s,startIcon:Object(ce.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:G,children:s?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating"}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",hidden:o||w,className:a.button,disabled:s,startIcon:Object(ce.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:G,children:s?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving"}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})}),Object(ce.jsx)(Z.a,{variant:"contained",className:a.button,startIcon:Object(ce.jsx)(st.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>q(),children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})]})};const Wt={Add:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(N.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(D.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(E.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(k.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(q.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(M.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(L.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(V.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(X.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(S.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(U.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(J.a,{...e,ref:t})))};var Ut=e=>{const[t,a]=Object(r.useState)([]),[s,n]=Object(r.useState)(!0);let c=Object(o.g)();const[d,j]=i.a.useState(!1),[b,h]=Object(r.useState)(!1),[m,p]=Object(r.useState)(null),O=()=>j(!d);let f=["pmtct_infant_information"];Object(r.useEffect)((()=>{y()}),[e.patientObj.id]);const y=()=>{n(!0),x.a.get("".concat(v,"pmtct/anc/getAllActivities/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{n(!1),a(e.data)})).catch((e=>{}))},N=(t,a)=>{"anc-enrollment"===t.path?c.push({pathname:"/update-patient",state:{id:t.recordId,patientObj:e.patientObj,actionType:a}}):"anc-delivery"===t.path?e.setActiveContent({...e.activeContent,route:"labour-delivery",id:t.recordId,actionType:a}):"pmtct-enrollment"===t.path?e.setActiveContent({...e.activeContent,route:"anc-pnc",id:t.recordId,activeTab:"history",actionType:a}):"anc-mother-visit"===t.path?e.setActiveContent({...e.activeContent,route:"consultation",id:t.recordId,activeTab:"home",actionType:a}):"pmtct_infant_visit"===t.path?e.setActiveContent({...e.activeContent,route:"consultation",id:t.recordId,activeTab:"child",actionType:a}):"pmtct_infant_information"===t.path&&e.setActiveContent({...e.activeContent,route:"add-infant",id:t.recordId,activeTab:"home",actionType:a})};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("br",{}),Object(ce.jsx)(u.a,{icons:Wt,title:"Patient History ",columns:[{title:"Description",field:"name"},{title:"Encounter Date",field:"date"},{title:"Actions",field:"actions",filtering:!1}],isLoading:s,data:t&&t.map((e=>({name:e.activityName,date:e.activityDate,actions:f.includes(e.path)?"":Object(ce.jsx)("div",{children:Object(ce.jsx)(Ie.a.Menu,{position:"right",children:Object(ce.jsx)(Ie.a.Item,{children:Object(ce.jsx)(dt.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(ce.jsx)(Et.a,{item:!0,text:"Action",children:Object(ce.jsxs)(Et.a.Menu,{style:{marginTop:"10px"},children:[e.viewable&&Object(ce.jsxs)(Et.a.Item,{onClick:()=>N(e,"view"),children:[" ",Object(ce.jsx)(ot.a,{name:"eye"}),"View"," "]}),e.viewable&&Object(ce.jsxs)(Et.a.Item,{onClick:()=>N(e,"update"),children:[Object(ce.jsx)(ot.a,{name:"edit"}),"Edit"]}),Object(ce.jsxs)(Et.a.Item,{onClick:()=>(e=>{O(),p(e)})(e),children:[" ",Object(ce.jsx)(ot.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(ce.jsxs)(ne.a,{show:d,toggle:O,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(ce.jsx)(ne.a.Header,{children:Object(ce.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(ne.a.Body,{children:Object(ce.jsxs)("h4",{children:["Are you Sure you want to delete"," ",Object(ce.jsx)("b",{children:m&&m.activityName})]})}),Object(ce.jsxs)(ne.a.Footer,{children:[Object(ce.jsx)(dt.a,{onClick:()=>{var e;"anc-enrollment"===(e=m).path?(h(!0),x.a.delete("".concat(v,"pmtct/anc/delete/anc/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),y(),O(),h(!1)})).catch((e=>{if(h(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))):"pmtct-enrollment"===e.path?(h(!0),x.a.delete("".concat(v,"pmtct/anc/delete/pmtct/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),y(),O(),h(!1)})).catch((e=>{if(h(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))):"anc-delivery"===e.path?(h(!1),x.a.delete("".concat(v,"pmtct/anc/delete/delivery/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),y(),O(),h(!1)})).catch((e=>{if(h(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))):"anc-mother-visit"===e.path?(h(!0),x.a.delete("".concat(v,"pmtct/anc/delete/delivery/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),y(),O(),h(!1)})).catch((e=>{if(h(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))):"pmtct_infant_visit"===e.path?(h(!0),x.a.delete("".concat(v,"pmtct/anc/delete/infantvisit/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),y(),O(),h(!1)})).catch((e=>{if(h(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))):"pmtct_infant_information"===e.path&&(h(!0),x.a.delete("".concat(v,"pmtct/anc/delete/infantinfo/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),y(),O(),h(!1)})).catch((e=>{if(h(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:b,children:!1===b?"Yes":"Deleting..."}),Object(ce.jsx)(dt.a,{onClick:O,style:{backgroundColor:"#014d88",color:"#fff"},disabled:b,children:"No"})]})]})]})},Gt=s(882),qt=s(491),Kt=s.n(qt),Xt=s(887);var Qt=e=>{let t=Object(o.g)();const[a,s]=Object(r.useState)([]),[n,c]=Object(r.useState)([]),[d,j]=i.a.useState(!1),[h,m]=Object(r.useState)(!1),[p,u]=Object(r.useState)(null),O=()=>j(!d);let f=["pmtct_infant_information"];const[y,N]=Object(r.useState)({motherVisit:0,childVisit:1,childAlive:0,childDead:0}),[T,S]=Object(r.useState)(0);console.log(e),Object(r.useEffect)((()=>{null!==e&&void 0!==e&&e.allEntryPoint,C(),D(),R()}),[e.patientObj.id]);const C=()=>{e.patientObj.ancNo?x.a.get("".concat(v,"pmtct/anc/get-infant-by-ancno?ancNo=").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{c(e.data)})).catch((e=>{})):x.a.get("".concat(v,"pmtct/anc/get-infant-by-mother-person-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{c(e.data)})).catch((e=>{}))},D=()=>{x.a.get("".concat(v,"pmtct/anc/getAllActivities/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log(e.data),s(e.data)})).catch((e=>{}))},R=()=>{e.patientObj.ancNo?x.a.get("".concat(v,"pmtct/anc/get-summary-chart?ancNo=").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{N(e.data)})).catch((e=>{})):x.a.get("".concat(v,"pmtct/anc/get-pmtct-summary-chart/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{N(e.data)})).catch((e=>{}))},I=(a,s)=>{"anc-enrollment"===a.path?t.push({pathname:"/update-patient",state:{id:a.recordId,patientObj:e.patientObj,actionType:s,postValue:"ANC",entrypointValue:e.entrypointValue}}):"anc-delivery"===a.path?e.setActiveContent({...e.activeContent,route:"labour-delivery",id:a.recordId,actionType:s}):"pmtct-enrollment"===a.path?e.setActiveContent({...e.activeContent,route:"anc-pnc",id:a.recordId,activeTab:"history",actionType:s}):"anc-mother-visit"===a.path?e.setActiveContent({...e.activeContent,route:"consultation",id:a.recordId,activeTab:"home",actionType:s}):"pmtct_infant_visit"===a.path?e.setActiveContent({...e.activeContent,route:"consultation",id:a.recordId,activeTab:"child",actionType:s}):"pmtct_infant_information"===a.path&&e.setActiveContent({...e.activeContent,route:"add-infant",id:a.recordId,activeTab:"home",actionType:s})};return Object(ce.jsx)(r.Fragment,{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"col-xl-4 col-xxl-4 col-lg-4",children:Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header  border-0 pb-0",children:Object(ce.jsx)("h4",{className:"card-title",children:" Recent Activities"})}),Object(ce.jsx)("div",{className:"card-body",children:Object(ce.jsx)(Kt.a,{style:{height:"370px"},id:"DZ_W_Todo1",className:"widget-media dz-scroll ps ps--active-y",children:Object(ce.jsx)(Xt.a,{className:"accordion accordion-header-bg accordion-header-shadow accordion-rounded ",defaultActiveKey:"0",children:Object(ce.jsx)(ce.Fragment,{children:a&&a.map(((e,t)=>{return Object(ce.jsxs)("div",{className:"accordion-item",children:[Object(ce.jsxs)(Xt.a.Toggle,{as:b.a.Text,eventKey:"".concat(t),className:"accordion-header ".concat(1===T?"":"collapsed"," accordion-header-info"),onClick:()=>S(1===T?-1:t),children:[Object(ce.jsx)("span",{className:"accordion-header-icon"}),Object(ce.jsxs)("span",{className:"accordion-header-text",children:["Visit Date :"," ",Object(ce.jsx)("span",{className:"",children:e.activityName})," "]}),Object(ce.jsx)("span",{className:"accordion-header-indicator"})]}),Object(ce.jsx)(Xt.a.Collapse,{eventKey:"".concat(t),className:"accordion__body",children:Object(ce.jsx)("div",{className:"accordion-body-text",children:Object(ce.jsx)("ul",{className:"timeline",children:Object(ce.jsx)("li",{children:Object(ce.jsxs)("div",{className:"timeline-panel",children:[Object(ce.jsx)("div",{className:t%2==0?"media me-2 media-info":"media me-2 media-success",children:(a=e.path,"pmtct-enrollment"===a?"PE":"anc-enrollment"===a?"AE":"anc-delivery"===a?"AD":"anc-mother-visit"===a?"MV":"pmtct_infant_visit"===a?"IV":"pmtct_infant_information"===a?"II":"RA")}),Object(ce.jsxs)("div",{className:"media-body",children:[Object(ce.jsx)("h5",{className:"mb-1",children:e.activityName}),Object(ce.jsx)("small",{className:"d-block",children:e.activityDate})]}),f.includes(e.path)?"":Object(ce.jsxs)(Gt.a,{className:"dropdown",children:[Object(ce.jsx)(Gt.a.Toggle,{variant:" light",className:"i-false p-0 btn-info sharp",children:Object(ce.jsx)("svg",{width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(ce.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(ce.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(ce.jsx)("circle",{fill:"#000000",cx:"5",cy:"12",r:"2"}),Object(ce.jsx)("circle",{fill:"#000000",cx:"12",cy:"12",r:"2"}),Object(ce.jsx)("circle",{fill:"#000000",cx:"19",cy:"12",r:"2"})]})})}),Object(ce.jsxs)(Gt.a.Menu,{className:"dropdown-menu",children:[Object(ce.jsx)(Gt.a.Item,{className:"dropdown-item",onClick:()=>I(e,"view"),children:"View"}),Object(ce.jsx)(Gt.a.Item,{className:"dropdown-item",onClick:()=>I(e,"update"),children:"Update"}),Object(ce.jsx)(Gt.a.Item,{className:"dropdown-item",onClick:()=>{return t=e,O(),void u(t);var t},children:"Delete"})]})]})]})})})})})]},t);var a}))})})})})]})}),"Positive"===e.patientObj.dynamicHivStatus||"Positive"===e.patientObj.hivStatus?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)("div",{className:"col-xl-8 col-xxl-8 col-lg-8",children:Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header border-0 pb-0",children:Object(ce.jsx)("h4",{className:"card-title",children:"Patient Chart"})}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:[Object(ce.jsx)("div",{className:"col-xl-12 col-xxl-12 col-sm-12",children:Object(ce.jsxs)("div",{className:"card overflow-hidden",children:[Object(ce.jsx)("div",{className:"social-graph-wrapper widget-facebook",children:Object(ce.jsx)("span",{className:"s-icon",children:Object(ce.jsx)("span",{style:{fontSize:"16px"},children:"Total Clinic Visit"})})}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"col-6 border-right",children:Object(ce.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(ce.jsx)("h4",{className:"m-1",children:Object(ce.jsx)("span",{className:"counter",children:Object(ce.jsx)("b",{children:y.motherVisit})})}),Object(ce.jsx)("p",{className:"m-0",children:Object(ce.jsx)("b",{children:"Mother Visit"})})]})}),n.length>0&&Object(ce.jsx)("div",{className:"col-6",children:Object(ce.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(ce.jsx)("h4",{className:"m-1",children:Object(ce.jsx)("span",{className:"counter",children:Object(ce.jsx)("b",{children:y.childVisit})})}),Object(ce.jsx)("p",{className:"m-0",children:Object(ce.jsx)("b",{children:"Infant's Visit"})})]})})]})]})}),Object(ce.jsx)("div",{className:"col-xl-12 col-xxl-12 col-sm-12",children:Object(ce.jsxs)("div",{className:"card overflow-hidden",children:[Object(ce.jsx)("div",{className:"social-graph-wrapper widget-linkedin",children:Object(ce.jsx)("span",{className:"s-icon",children:Object(ce.jsxs)("span",{style:{fontSize:"16px"},children:["No. of Infants"," ",n.length>0?" : "+n.length:""]})})}),Object(ce.jsx)("div",{className:"row",children:n.length>0?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"col-6 border-right",children:Object(ce.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(ce.jsx)("h4",{className:"m-1",children:Object(ce.jsx)("span",{className:"counter",children:y.childAlive})}),Object(ce.jsx)("p",{className:"m-0",children:Object(ce.jsx)("b",{children:"Alive "})})]})}),Object(ce.jsx)("div",{className:"col-6",children:Object(ce.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(ce.jsx)("h4",{className:"m-1",children:Object(ce.jsx)("span",{className:"counter",children:y.childDead})}),Object(ce.jsx)("p",{className:"m-0",children:Object(ce.jsx)("b",{children:"Dead "})})]})})]}):Object(ce.jsx)("p",{children:"No Record"})})]})})]}),Object(ce.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(ce.jsxs)("div",{className:"card-body",children:[Object(ce.jsx)("h3",{children:"Current Infant's Details"}),n.length>0?Object(ce.jsx)(Kt.a,{style:{height:"370px"},id:"DZ_W_TimeLine1",className:"widget-timeline dz-scroll style-1 height370 ps ps--active-y",children:Object(ce.jsx)("ul",{className:"timeline",children:n.length>0?n.map((e=>Object(ce.jsxs)("li",{children:[Object(ce.jsx)("div",{className:"timeline-badge info"}),Object(ce.jsxs)("span",{className:"timeline-panel text-muted",children:[Object(ce.jsxs)("h6",{className:"mb-0",children:["Infant Given Name",Object(ce.jsx)("br",{}),e.firstName]}),Object(ce.jsxs)("strong",{className:"text-teal",children:["Infant DOB",Object(ce.jsx)("br",{}),e.dateOfDelivery]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("strong",{className:"text-warning",children:["Gender",Object(ce.jsx)("br",{}),"SEX_FEMALE"===e.sex?"Female":"Male"]})]})]},0))):""})}):Object(ce.jsx)("p",{children:"No Record"})]})})]})]})})}):"",console.log("Unknown"===e.patientObj.dynamicHivStatus,"Unknown"===e.patientObj.hivStatus),Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(ce.jsx)("div",{className:"card-body",children:"Unknown"===e.patientObj.hivStatus||"Unknown"===e.patientObj.staticHivStatus?Object(ce.jsx)("b",{children:"Patient has no HTS record. Please refer for testing..."}):""})})}),Object(ce.jsxs)(ne.a,{show:d,toggle:O,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(ce.jsx)(ne.a.Header,{children:Object(ce.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(ne.a.Body,{children:Object(ce.jsxs)("h4",{children:["Are you Sure you want to delete"," ",Object(ce.jsx)("b",{children:p&&p.activityName})]})}),Object(ce.jsxs)(ne.a.Footer,{children:[Object(ce.jsx)(dt.a,{onClick:()=>{var e;"anc-enrollment"===(e=p).path?(m(!0),x.a.delete("".concat(v,"pmtct/anc/delete/anc/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),D(),O(),m(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))):"pmtct-enrollment"===e.path?(m(!0),x.a.delete("".concat(v,"pmtct/anc/delete/pmtct/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),D(),O(),m(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))):"anc-delivery"===e.path?(m(!1),x.a.delete("".concat(v,"pmtct/anc/delete/delivery/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),D(),O(),m(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))):"anc-mother-visit"===e.path?(m(!0),x.a.delete("".concat(v,"pmtct/anc/delete/mothervisit/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),D(),O(),m(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))):"pmtct_infant_visit"===e.path?(m(!0),x.a.delete("".concat(v,"pmtct/anc/delete/infantvisit/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),D(),O(),m(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")}))):"pmtct_infant_information"===e.path&&(m(!0),x.a.delete("".concat(v,"pmtct/anc/delete/infantinfo/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l.b.success("Record Deleted Successfully"),D(),O(),m(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";l.b.error(t)}else l.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:h,children:!1===h?"Yes":"Deleting..."}),Object(ce.jsx)(dt.a,{onClick:O,style:{backgroundColor:"#014d88",color:"#fff"},disabled:h,children:"No"})]})]})]})})};var Jt=Object(ve.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){let t=Object(o.g)();const[a,s]=Object(r.useState)(!1),[i,n]=Object(r.useState)({}),[c,l]=Object(r.useState)([]),[d,j]=Object(r.useState)([]),[b,h]=Object(r.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"create",obj:{}}),{classes:m}=e,p=t.location&&t.location.state?t.location.state.patientObj:{};return Object(r.useEffect)((()=>{x.a.get("".concat(v,"pmtct/anc/getAllActivities/").concat(p.person_uuid?p.person_uuid:p.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log(e.data),l(e.data)})).catch((e=>{})),x.a.get("".concat(v,"patient/").concat(null===p||void 0===p?void 0:p.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log(e.data),n(e.data)})).catch((e=>{})),x.a.get("".concat(v,"application-codesets/v2/PMTCT_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{j(e.data),console.log(e.data)})).catch((e=>{}))}),[]),console.log(p),Object(ce.jsxs)("div",{className:m.root,children:[Object(ce.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(ce.jsx)("ol",{className:"breadcrumb",children:Object(ce.jsx)("li",{className:"breadcrumb-item active",children:Object(ce.jsxs)("h4",{children:[" ",Object(ce.jsx)(f.b,{to:"/",children:"PMTCT /"})," Patient Dashboard"]})})})}),Object(ce.jsx)(ge.a,{children:Object(ce.jsxs)(fe.a,{children:[Object(ce.jsx)(Re,{patientObj:p,setArt:s,setActiveContent:h}),Object(ce.jsx)(Pe,{patientObj:p,art:a,setActiveContent:h,deliveryInfo:c}),Object(ce.jsx)("br",{}),"recent-history"===b.route&&Object(ce.jsx)(Qt,{allEntryPoint:d,patientObj:p,setActiveContent:h,activeContent:b,entrypointValue:p.ancNo?"PMTCT_ENTRY_POINT_ANC":p.entryPoint}),"consultation"===b.route&&Object(ce.jsx)(Ke,{patientObj:p,setActiveContent:h,activeContent:b}),"anc-pnc"===b.route&&Object(ce.jsx)(tt,{newRegDate:"",allEntryPoint:d,entrypointValue:p.entryPoint,ancEntryType:!!p.ancNo,patientObj:p,setActiveContent:h,activeContent:b,hideUpdateButton:!0}),"anc-enrollment"===b.route&&Object(ce.jsx)(it,{patientObj:p,setActiveContent:h,activeContent:b}),"labour-delivery"===b.route&&Object(ce.jsx)(ct,{patientObj:p,setActiveContent:h,activeContent:b}),"pmtct-hts"===b.route&&Object(ce.jsx)(Bt,{patientObj:p,patientAge:p.age,setActiveContent:h,activeContent:b}),"partners"===b.route&&Object(ce.jsx)(kt,{patientObj:p,patientAge:p.age,setActiveContent:h,activeContent:b}),"infants"===b.route&&Object(ce.jsx)(Mt,{patientObj:p,patientAge:p.age,setActiveContent:h,activeContent:b}),"add-partner"===b.route&&Object(ce.jsx)(Lt,{patientObj:p,patientAge:p.age,setActiveContent:h,activeContent:b}),"add-infant"===b.route&&Object(ce.jsx)(Vt,{patientObj:p,patientAge:p.age,setActiveContent:h,activeContent:b}),"patient-history"===b.route&&Object(ce.jsx)(Ut,{patientObj:p,setActiveContent:h,activeContent:b})]})})]})})),Zt=s(881),$t=s(493),ea=s(141),ta=s(100),aa=s(863),sa=s(636),ra=s.n(sa);s(474),s(759);ea.b.add(ta.a,ta.b,ta.c,ta.d);const ia=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var na=t=>{const{state:a}=Object(o.h)(),[s,n]=Object(r.useState)({active:!0,address:"",contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,hospitalNumber:"",firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:1,stateId:"",district:"",sexId:377,ninNumber:""}),[c,d]=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),[j,b]=Object(r.useState)([]),[h,m]=Object(r.useState)(!1),[p,u]=Object(r.useState)(!1),[O,y]=Object(r.useState)(!0),[N,T]=Object(r.useState)(!1),[S,C]=Object(r.useState)([]),[D,R]=Object(r.useState)([]),[I,w]=Object(r.useState)([]),[A,P]=Object(r.useState)([]),[H,B]=Object(r.useState)([]),[E,Y]=Object(r.useState)([]),[k,_]=Object(r.useState)([]),[M,F]=Object(r.useState)([]),[L,z]=Object(r.useState)({}),[V,W]=Object(r.useState)([]),[U,G]=Object(r.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"",obj:{}}),q=t.location&&t.location.state?t.location.state.user:null,K=ia(),X=Object(o.g)(),Q=Object(o.h)(),[J,$]=Object(r.useState)(!1),[te,ae]=Object(r.useState)({ancSetting:"",communitySetting:"",ancNo:"",gaweeks:"",gravida:"",expectedDeliveryDate:"",firstAncDate:"",lmp:"",parity:"",hivDiognosicTime:"",referredSyphilisTreatment:"",testResultSyphilis:"",testedSyphilis:"",treatedSyphilis:"",personDto:{},pmtctHtsInfo:{},syphilisInfo:{},partnerNotification:{},staticHivStatus:"",testedHepatitisB:"",treatedHepatitisB:"",referredHepatitisB:"",testedHepatitisC:"",treatedHepatitisC:"",referredHepatitisC:"",dateOfHepatitisB:"",hepatitisB:"",dateOfHepatitisC:"",hepatitisC:""}),[se,ie]=Object(r.useState)({pmtctEnrollmentDate:"",entryPoint:"",artStartDate:"",artStartTime:"",id:"",tbStatus:"",personDto:{}}),[oe,le]=Object(r.useState)([]),[de,je]=Object(r.useState)([]),[be,he]=Object(r.useState)([]),[me,pe]=Object(r.useState)(!1),[ue,Oe]=Object(r.useState)(!1),[xe,ve]=i.a.useState(!1),[ge,fe]=Object(r.useState)({}),[ye,Ne]=Object(r.useState)([]),[Te,Se]=Object(r.useState)([]),Ce=()=>ve(!xe),De=Q.state;console.log("state recieved from location",De);let Re=null;Re=De?De.patientId:null;let Ie={...L};Object(r.useEffect)((()=>{ze(),We(),we(),Ae(),Pe(),He(),Be(),_e(),Ze(),et(),Fe(),Le(),s.dateOfRegistration<s.dob&&alert("Date of registration can not be earlier than date of birth")}),[s.dateOfRegistration]);const we=Object(r.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}});C(e.data)}catch(e){}}),[]),Ae=Object(r.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}});R(e.data)}catch(e){}}),[]),Pe=Object(r.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(g)}});w(e.data)}catch(e){}}),[]),He=Object(r.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(g)}});P(e.data)}catch(e){}}),[]),Be=Object(r.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(g)}});B(e.data)}catch(e){}}),[]),_e=Object(r.useCallback)((async()=>{const e=await x.a.get("".concat(v,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(g)}});W(e.data)}),[]),Fe=()=>{x.a.get("".concat(v,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Y(e.data)})).catch((e=>{}))},Le=()=>{x.a.get("".concat(v,"organisation-units/parent-organisation-units/1"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{_(e.data)})).catch((e=>{}))},ze=e=>{x.a.get("".concat(v,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log(e),Ne(e.data)})).catch((e=>{}))},We=e=>{x.a.get("".concat(v,"application-codesets/v2/TEST_SETTING_CPMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log(e),Se(e.data)})).catch((e=>{}))},Ue=e=>{"Actual"==e.target.value?y(!0):"Estimated"==e.target.value&&y(!1)},Ge=e=>{if(z({...Ie,[e.target.name]:""}),"sexId"===e.target.name&&"377"===e.target.value)$(!0);else if("firstName"===e.target.name&&""!==e.target.value){const t=Qe(e.target.value);n({...s,[e.target.name]:t})}else if("lastName"===e.target.name&&""!==e.target.value){const a=Qe(e.target.value);n({...s,[e.target.name]:a})}else if("middleName"===e.target.name&&""!==e.target.value){const r=Qe(e.target.value);n({...s,[e.target.name]:r})}else if("ninNumber"===e.target.name&&""!==e.target.value){const i=it(e.target.value);n({...s,[e.target.name]:i})}else if("ancNo"===e.target.name&&""!==e.target.value){async function c(){const t=e.target.value,a=await x.a.post("".concat(v,"pmtct/anc/exist/anc-number?ancNo=").concat(t),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});!0===a.data?(l.b.error("ANC number already exist"),pe(a.data)):pe(!1)}c()}else if("hospitalNumber"===e.target.name&&""!==e.target.value){async function o(){const t=e.target.value;!0!==(await x.a.post("".concat(v,"patient/exist/hospital-number"),t,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}})).data?(Oe(!1),L.hospitalNumber=""):(L.hospitalNumber="",l.b.error("Error! Hosiptal Number already exist"),Oe(!0))}n({...s,hospitalNumber:e.target.value}),o()}else n({...s,[e.target.name]:e.target.value})},qe=e=>{const t=H.find((t=>t.id===e));return t?t.display:""},Ke=e=>{d({...c,[e.target.name]:e.target.value})},Xe=e=>{if(z({...L,[e.target.name]:""}),"ancNo"===e.target.name&&""!==e.target.value){async function t(){const t=e.target.value,a={ancNo:t},s=await x.a.post("".concat(v,"pmtct/anc/exist/anc-number?ancNo=").concat(t),a,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});!0===s.data?(l.b.error("ANC number already exist",{position:l.b.POSITION.BOTTOM_CENTER}),pe(s.data)):pe(!1)}t()}"ancSetting"===e.target.name?ae({...te,[e.target.name]:e.target.value,communitySetting:""}):"testedHepatitisB"===e.target.name?ae({...te,[e.target.name]:e.target.value,dateOfHepatitisB:"",hepatitisB:""}):"hepatitisB"===e.target.name?ae({...te,[e.target.name]:e.target.value,treatedHepatitisB:"",referredHepatitisB:""}):"testedHepatitisC"===e.target.name?ae({...te,[e.target.name]:e.target.value,dateOfHepatitisC:"",hepatitisC:""}):"hepatitisC"===e.target.name?ae({...te,[e.target.name]:e.target.value,treatedHepatitisC:"",referredHepatitisC:""}):ae({...te,[e.target.name]:e.target.value})},Qe=e=>e.replace(/[^a-z]/gi,""),Ze=()=>{x.a.get("".concat(v,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{le(e.data)})).catch((e=>{}))},et=()=>{x.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{he(e.data)})).catch((e=>{}))},at=e=>{if(z({...Ie,[e.target.name]:""}),"ancNo"===e.target.name&&""!==e.target.value){async function t(){const t=e.target.value,a={ancNo:t},s=await x.a.post("".concat(v,"pmtct/anc/exist/anc-number?ancNo=").concat(t),a,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});!0===s.data?(l.b.error("ANC number already exist"),pe(s.data)):pe(!1)}t()}if(!("parity"===e.target.name&&""!==e.target.value&&e.target.value<0)&&!("gravida"===e.target.name&&""!==e.target.value&&e.target.value<=0))if("testedSyphilis"===e.target.name&&""!==e.target.value&&"Yes"===e.target.value&&(te.testResultSyphilis="",te.referredSyphilisTreatment="",te.treatedSyphilis="",ae({...te,testResultSyphilis:""}),ae({...te,referredSyphilisTreatment:""}),ae({...te,treatedSyphilis:""}),ae({...te,[e.target.name]:e.target.value})),"testResultSyphilis"===e.target.name&&""!==e.target.value&&"Positive"===e.target.value&&(te.treatedSyphilis="",te.referredSyphilisTreatment="",ae({...te,treatedSyphilis:""}),ae({...te,referredSyphilisTreatment:""}),ae({...te,[e.target.name]:e.target.value})),"firstAncDate"===e.target.name&&""!==e.target.value&&""!==te.lmp){let a=$e(e.target.value,te.lmp);a>0?(te.gaweeks=a,ae({...te,[e.target.name]:e.target.value})):(l.b.error("Please select a validate date"),ae({...te,[e.target.name]:""}))}else if("lmp"===e.target.name&&""!==e.target.value){let s=$e(te.firstAncDate,e.target.value);console.log("calcuateGestationalAge",s,typeof s),s>0?(te.gaweeks=s,ae({...te,[e.target.name]:e.target.value}),z({...L,gaweeks:""})):(l.b.error("Please select a validate date"),ae({...te,[e.target.name]:""}))}else ae({...te,[e.target.name]:e.target.value})},rt=(e,t)=>{if(console.log(e,t),"phoneNumber"===t){e&&z({...L,phoneNumber:""});const t=10;n({...s,phoneNumber:e.slice(0,t)})}if("altPhonenumber"===t){const t=10;n({...s,altPhonenumber:e.slice(0,t)})}},it=e=>e.slice(0,11);return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(l.a,{autoClose:3e3,hideProgressBar:!0}),Object(ce.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(ce.jsx)("ol",{className:"breadcrumb",children:Object(ce.jsx)("li",{className:"breadcrumb-item active",children:Object(ce.jsxs)("h4",{children:[" ",Object(ce.jsx)(f.b,{to:"/",children:"PMTCT /"})," Patient Registration"]})})})}),Object(ce.jsx)(f.b,{to:{pathname:"/",state:"users"},children:Object(ce.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end mr-10 pr-10",style:{backgroundColor:"#014d88",fontWeight:"bolder",margingRight:"-40px"},startIcon:Object(ce.jsx)(re.a,{}),children:Object(ce.jsxs)("span",{style:{textTransform:"capitalize",color:"#fff"},children:["Back"," "]})})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(lt.a,{className:K.root,children:Object(ce.jsx)(aa.a,{children:Object(ce.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ce.jsxs)(Zt.a,{children:[Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===q?"Basic Information":"Edit User Information"})}),Object(ce.jsx)("div",{className:"card-body",children:Object(ce.jsxs)("div",{className:"basic-form",children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{for:"dateOfRegistration",children:["Date of Registration"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)(ke.a,{className:"form-control",type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfRegistration",id:"dateOfRegistration",min:"1983-12-31",max:ee(new Date).format("YYYY-MM-DD"),value:s.dateOfRegistration,onChange:Ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.dateOfRegistration?Object(ce.jsx)("span",{className:K.error,children:L.dateOfRegistration}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{for:"patientId",children:["Hospital Number"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:s.hospitalNumber,onChange:Ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.hospitalNumber?Object(ce.jsx)("span",{className:K.error,children:L.hospitalNumber}):"",!0===ue?Object(ce.jsx)("span",{className:K.error,children:"Hospital number already exist"}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{for:"ninNumber",children:["National Identity Number (NIN)"," "]}),Object(ce.jsx)("input",{className:"form-control",type:"number",name:"ninNumber",value:s.ninNumber,id:"ninNumber",onChange:Ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{for:"firstName",children:["First Names ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(ke.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:s.firstName,onChange:Ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.firstName?Object(ce.jsx)("span",{className:K.error,children:L.firstName}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Middle Name"}),Object(ce.jsx)(ke.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:s.middleName,onChange:Ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Last Name ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:s.lastName,onChange:Ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.lastName?Object(ce.jsx)("span",{className:K.error,children:L.lastName}):""]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Sex ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:Ge,value:s.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:!0,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),S.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.sexId?Object(ce.jsx)("span",{className:K.error,children:L.sexId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Of Birth"}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>Ue(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," ","Actual"]})}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>Ue(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," ","Estimated"]})})]})}),Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-2",children:[Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)("input",{className:"form-control",type:"date",onKeyPress:e=>{e.preventDefault()},name:"dob",min:"1940-01-01",id:"dob",max:ee(new Date).format("YYYY-MM-DD"),value:s.dob,onChange:e=>{if(e.target.value){z({...L,dob:""});const t=new Date,a=new Date(e.target.value);let r=t.getFullYear()-a.getFullYear();const i=t.getMonth()-a.getMonth();(i<0||0===i&&t.getDate()<a.getDate())&&r--,s.age=r}else n({...s,age:""});n({...s,dob:e.target.value}),""!==s.age&&s.age>=60&&Ce()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}),""!==L.dob?Object(ce.jsx)("span",{className:K.error,children:L.dob}):""]}),Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-4",children:[Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Age"}),Object(ce.jsx)("input",{type:"number",name:"age",className:"form-control",id:"age",min:"5",value:s.age,disabled:O,onChange:e=>{if(!O&&e.target.value){""!==e.target.value&&e.target.value>=60&&Ce(),e.target.value<=1?u(!0):u(!1);const t=new Date;t.setDate(15),t.setMonth(5);const a=ee(t.toISOString()).add(-1*e.target.value,"years");s.dob=ee(a).format("YYYY-MM-DD")}n({...s,age:Math.abs(e.target.value)})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}),Object(ce.jsx)("p",{children:Object(ce.jsxs)("b",{style:{color:"red"},children:[""!==s.age&&s.age<5?"Minimum age for PMTCT enrolment is 5 years":" "," "]})})]})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Marital Status"}),Object(ce.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:Ge,value:s.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),D.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Employment Status"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:Ge,value:s.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),A.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.employmentStatusId?Object(ce.jsx)("span",{className:K.error,children:L.employmentStatusId}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Education Level"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:Ge,value:s.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),I.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.educationId?Object(ce.jsx)("span",{className:K.error,children:L.educationId}):""]})})]})]})})]}),Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(ce.jsxs)("div",{className:"card-body",children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Phone Number ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:s.phoneNumber,onChange:e=>{rt(e,"phoneNumber")}}),""!==L.phoneNumber?Object(ce.jsx)("span",{className:K.error,children:L.phoneNumber}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Alt. Phone Number"}),Object(ce.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:s.altPhonenumber,masks:{ng:"...-...-....",at:"(....) ...-...."},onChange:e=>{rt(e,"altPhonenumber")}})]})}),Object(ce.jsx)("div",{className:"form-group col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Email"}),Object(ce.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:Ge,value:s.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0})]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Country ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:s.countryId,disabled:!0,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),E.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==L.countryId?Object(ce.jsx)("span",{className:K.error,children:L.countryId}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["State ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:s.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{const t=e.target.value;e.target.value&&z({...L,stateId:""}),n({...s,stateId:e.target.value}),x.a.get("".concat(v,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{F(e.data)})).catch((e=>{}))},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),k.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==L.stateId?Object(ce.jsx)("span",{className:K.error,children:L.stateId}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Province/District/LGA"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:s.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),M.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==L.district?Object(ce.jsx)("span",{className:K.error,children:L.district}):""]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Street Address"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:s.address,onChange:Ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.address?Object(ce.jsx)("span",{className:K.error,children:L.address}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Landmark"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:s.landmark,onChange:Ge,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(ce.jsxs)("div",{className:"card-body",children:[Object(ce.jsxs)("div",{className:"row",children:[j&&j.length>0&&Object(ce.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ce.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(ce.jsx)("thead",{className:"mb-3",children:Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:"Relationship Type"}),Object(ce.jsx)("th",{children:"Name"}),Object(ce.jsx)("th",{children:"Phone"}),Object(ce.jsx)("th",{children:"Address"}),Object(ce.jsx)("th",{children:"Actions"})]})}),Object(ce.jsx)("tbody",{className:"mb-3",children:j.map(((e,t)=>Object(ce.jsxs)("tr",{className:"mb-3",children:[Object(ce.jsx)("td",{children:qe(e.relationshipId)}),Object(ce.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(ce.jsx)("td",{children:e.phone}),Object(ce.jsx)("td",{children:e.address}),Object(ce.jsxs)("td",{children:[Object(ce.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:()=>((e,t)=>{d(e),T(!0),j.splice(t,1)})(e,t),children:Object(ce.jsx)($t.a,{icon:"edit"})}),"\xa0\xa0",Object(ce.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:e=>(e=>{j.splice(e,1),b([...j])})(t),children:Object(ce.jsx)($t.a,{icon:"trash"})})]})]},e.index)))})]})}),Object(ce.jsx)("div",{className:"col-xl-12 col-lg-12",children:N&&Object(ce.jsx)("div",{className:"card",children:Object(ce.jsxs)("div",{className:"card-body",children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{for:"relationshipType",children:["Relationship Type"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:c.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ke,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),H.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.relationshipId?Object(ce.jsx)("span",{className:K.error,children:L.relationshipId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{for:"cfirstName",children:["First Name"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:c.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ke}),""!==L.firstName?Object(ce.jsx)("span",{className:K.error,children:L.firstName}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Middle Name"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:c.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ke})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Last Name"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:c.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ke}),""!==L.lastName?Object(ce.jsx)("span",{className:K.error,children:L.lastName}):""]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(ce.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:c.phone,masks:{ng:"...-...-....",at:"(....) ...-...."},id:"phone",onChange:e=>{((e,t)=>{d({...c,[t]:e.slice(0,10)})})(e,"phone")}}),""!==L.phone?Object(ce.jsx)("span",{className:K.error,children:L.phone}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"contactEmail",children:"Email"}),Object(ce.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",value:c.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ke,required:!0})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"contactAddress",children:"Address"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:c.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ke})]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"col-1",children:Object(ce.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:K.button,onClick:e=>{(()=>{let e={...L};return e.firstName=c.firstName?"":"First Name is required",e.lastName=c.lastName?"":"Last Name  is required.",e.phone=c.phone?"":"Phone Number  is required.",e.relationshipId=c.relationshipId?"":"Relationship Type is required.",z({...e}),Object.values(e).every((e=>""==e))})()&&(b([...j,c]),d({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}))},children:"Add"})}),Object(ce.jsx)("div",{className:"col-1",children:Object(ce.jsx)(Z.a,{type:"button",variant:"contained",color:"secondary",className:K.button,onClick:()=>{T(!1)},children:"Cancel"})})]})]})})})]}),Object(ce.jsx)("div",{className:"row"}),Object(ce.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:K.button,startIcon:Object(ce.jsx)(ra.a,{}),onClick:()=>{T(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),a.showANC&&Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"ANC Enrollment"})}),Object(ce.jsx)("div",{className:"card-body",children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"ANC Setting"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"ancSetting",id:"ancSetting",onChange:Xe,value:te.ancSetting,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),ye.length>0&&ye.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display})))]})})]})}),te.ancSetting&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"ENROLLMENT_SETTING_COMMUNITY"===te.ancSetting?"Community Setting":"Facility Setting"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"communitySetting",id:"communitySetting",onChange:at,value:te.communitySetting,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),"ENROLLMENT_SETTING_COMMUNITY"===te.ancSetting?Object(ce.jsx)(ce.Fragment,{children:Te.length>0&&Te.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display})))}):Object(ce.jsx)("option",{value:"PMTCT (ANC1 Only)",children:"PMTCT (ANC1 Only)"})]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["ANC No ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:Xe,value:te.ancNo})}),""!==L.ancNo?Object(ce.jsx)("span",{className:K.error,children:L.ancNo}):"",!0===me?Object(ce.jsx)("span",{className:K.error,children:"ANC number already exist"}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date of Enrollment"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"firstAncDate",id:"firstAncDate",onChange:at,value:te.firstAncDate,min:s.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD")})}),""!==L.firstAncDate?Object(ce.jsx)("span",{className:K.error,children:L.firstAncDate}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Parity ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"parity",id:"parity",onChange:at,value:te.parity,min:"0"})}),""!==L.parity?Object(ce.jsx)("span",{className:K.error,children:L.parity}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Gravida ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"gravida",id:"gravida",onChange:at,value:te.gravida,min:te.parity})}),""!==L.gravida?Object(ce.jsx)("span",{className:K.error,children:L.gravida}):"",te.gravida<te.parity?Object(ce.jsx)("span",{className:K.error,children:"Gravida should not be less Parity"}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date Of Last Menstrual Period"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"lmp",id:"lmp",onChange:at,value:te.lmp,max:te.firstAncDate?te.firstAncDate:ee(new Date).format("YYYY-MM-DD")})}),""!==L.lmp?Object(ce.jsx)("span",{className:K.error,children:L.lmp}):"",0===te.gaweeks?Object(ce.jsx)("span",{className:K.error,children:"Invalid date "}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Gestational Age (Weeks)"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:at,value:te.gaweeks,disabled:!0})}),""!==L.gaweeks?Object(ce.jsx)("span",{className:K.error,children:L.gaweeks}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Tested for syphilis"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"testedSyphilis",id:"testedSyphilis",onChange:at,value:te.testedSyphilis,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==L.testedSyphilis?Object(ce.jsx)("span",{className:K.error,children:L.testedSyphilis}):""]})}),"Yes"===te.testedSyphilis&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Syphilis test result"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"testResultSyphilis",id:"testResultSyphilis",onChange:at,value:te.testResultSyphilis,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==L.testResultSyphilis?Object(ce.jsx)("span",{className:K.error,children:L.testResultSyphilis}):""]})}),"Yes"===te.testedSyphilis&&"Positive"===te.testResultSyphilis&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Treated for syphilis (penicillin)"," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"treatedSyphilis",id:"treatedSyphilis",onChange:at,value:te.encounterDate,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==L.treatedSyphilis?Object(ce.jsx)("span",{className:K.error,children:L.treatedSyphilis}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Referred Syphilis +ve client "}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"referredSyphilisTreatment",id:"referredSyphilisTreatment",onChange:at,value:te.referredSyphilisTreatment,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==L.referredSyphilisTreatment?Object(ce.jsx)("span",{className:K.error,children:L.referredSyphilisTreatment}):""]})})]})]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Tested for Hepatitis B",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"testedHepatitisB",id:"testedHepatitisB",onChange:at,value:te.testedHepatitisB,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})}),"Yes"===te.testedHepatitisB&&Object(ce.jsxs)(ce.Fragment,{children:[" ",Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Test Done"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfHepatitisB",id:"dateOfHepatitisB",onChange:at,value:te.dateOfHepatitisB,min:s.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD")})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Hepatitis B test result"," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hepatitisB",id:"hepatitisB",onChange:at,value:te.hepatitisB,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),"Positive"===te.hepatitisB&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Treated for Hepatitis B"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"treatedHepatitisB",id:"treatedHepatitisB",onChange:at,value:te.treatedHepatitisB,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Referred Hepatitis B +ve client"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"referredHepatitisB",id:"referredHepatitisB",onChange:at,value:te.referredHepatitisB,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})})]})]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Tested for Hepatitis C"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"testedHepatitisC",id:"testedHepatitisC",onChange:at,value:te.testedHepatitisC,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})}),"Yes"===te.testedHepatitisC&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Test Done"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfHepatitisC",id:"dateOfHepatitisC",onChange:at,value:te.dateOfHepatitisC,min:s.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD")})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Hepatitis C test result"," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hepatitisC",id:"hepatitisC",onChange:at,value:te.hepatitisC,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),"Positive"===te.hepatitisC&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Treated for Hepatitis C"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"treatedHepatitisC",id:"treatedHepatitisC",onChange:at,value:te.treatedHepatitisC,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Referred Hepatitis C +ve client"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"referredHepatitisC",id:"referredHepatitisC",onChange:at,value:te.referredHepatitisC,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})})]})]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Previously Known HIV Status"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"previouslyKnownHivStatus",id:"previouslyKnownHivStatus",onChange:at,value:te.previouslyKnownHivStatus,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==L.previouslyKnownHivStatus?Object(ce.jsx)("span",{className:K.error,children:L.previouslyKnownHivStatus}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["HIV Status ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"staticHivStatus",id:"staticHivStatus",onChange:at,value:te.staticHivStatus,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"}),Object(ce.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==L.staticHivStatus?Object(ce.jsx)("span",{className:K.error,children:L.staticHivStatus}):""]})})]})})]}),!a.showANC&&Object(ce.jsx)(tt,{newRegDate:s.dateOfRegistration,getPMTCTInfo:e=>(fe(e),e),patientObj:{},showANC:a.showANC,setActiveContent:G,activeContent:U,hideUpdateButton:!1,ancEntryType:!1}),h?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",hidden:p||ue,className:K.button,startIcon:Object(ce.jsx)(Me.a,{}),onClick:async e=>{if(e.preventDefault(),console.log(L),Ie.firstName=s.firstName?"":"First Name is required",Ie.hospitalNumber=s.hospitalNumber?"":"Hospital Number  is required.",Ie.lastName=s.lastName?"":"Last Name  is required.",Ie.sexId=s.sexId?"":"Gender is required.",Ie.dateOfRegistration=s.dateOfRegistration?"":"Date of Registration is required.",Ie.educationId=s.educationId?"":"Education is required.",Ie.address=s.address?"":"Address is required.",Ie.phoneNumber=s.phoneNumber?"":"Phone Number  is required.",Ie.countryId=s.countryId?"":"Country is required.",Ie.stateId=s.stateId?"":"State is required.",Ie.district=s.district?"":"Province/LGA is required.",Ie.dob=s.dateOfRegistration?"":"Date is required",a.showANC&&(Ie.gaweeks=te.gaweeks?"":"This field is required",Ie.gravida=te.gravida?"":"This field is required","Positive"===te.testResultSyphilis&&(Ie.referredSyphilisTreatment=te.referredSyphilisTreatment?"":"This field is required"),Ie.lmp=te.lmp?"":"This field is required",Ie.parity=""!==te.parity?"":"This field is required",Ie.testedSyphilis=te.testedSyphilis?"":"This field is required","Positive"===te.testResultSyphilis&&(Ie.treatedSyphilis=te.treatedSyphilis?"":"This field is required"),"Yes"===te.testedSyphilis&&(Ie.testResultSyphilis=te.testResultSyphilis?"":"This field is required"),Ie.staticHivStatus=te.staticHivStatus?"":"This field is required",Ie.ancNo=te.ancNo?"":"This field is required",Ie.previouslyKnownHivStatus=te.previouslyKnownHivStatus?"":"This field is required"),z({...Ie}),Object.values(Ie).every((e=>""==e)))if(s.age>4){m(!0);let e=[];j&&j.length>0&&j.map((t=>{const a={address:{line:[t.address]},contactPoint:{type:"phone",value:t.phone},firstName:t.firstName,fullName:t.firstName+" "+t.middleName+" "+t.lastName,relationshipId:t.relationshipId,surname:t.lastName,otherName:t.middleName};e.push(a)}));if(a.showANC)try{const t={active:!0,address:[{city:s.address,countryId:s.countryId,district:s.district,line:[s.landmark],organisationUnitId:0,postalCode:"",stateId:s.stateId}],contact:e,contactPoint:[],dateOfBirth:s.dob,deceased:!1,deceasedDateTime:null,firstName:s.firstName,genderId:s.sexId,sexId:s.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:s.hospitalNumber}],otherName:s.middleName,maritalStatusId:s.maritalStatusId,surname:s.lastName,educationId:s.educationId,employmentStatusId:s.employmentStatusId,dateOfRegistration:s.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=s.dateOfBirth,ninNumber:s.ninNumber},a={type:"phone",value:s.phoneNumber};if(s.email){const e={type:"email",value:s.email};t.contactPoint.push(e)}if(s.altPhonenumber){const e={type:"altphone",value:s.altPhonenumber};t.contactPoint.push(e)}t.contactPoint.push(a),t.id=Re,te.personDto=t,console.log(te);const r=await x.a.post("".concat(v,"pmtct/anc/anc-new-registration"),te,{headers:{Authorization:"Bearer ".concat(g)}});l.b.success("Patient Register successful",{position:l.b.POSITION.BOTTOM_CENTER}),console.log(r.data),X.push({pathname:"/patient-history",state:{patientObj:r.data,postValue:De.postValue,entrypointValue:De.entrypointValue}}),m(!1)}catch(O){if(m(!1),O.response&&O.response.data){let e=O.response.data.apierror&&""!==O.response.data.apierror.message?O.response.data.apierror.message:"Something went wrong, please try again";O.response.data.apierror&&""!==O.response.data.apierror.message&&O.response.data.apierror&&""!==O.response.data.apierror.subErrors[0].message?l.b.error(O.response.data.apierror.message+" : "+O.response.data.apierror.subErrors[0].field+" "+O.response.data.apierror.subErrors[0].message,{position:l.b.POSITION.BOTTOM_CENTER}):l.b.error(e,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})}else{console.log("here");try{const t={active:!0,address:[{city:s.address,countryId:s.countryId,district:s.district,line:[s.landmark],organisationUnitId:0,postalCode:"",stateId:s.stateId}],contact:e,contactPoint:[],dateOfBirth:s.dob,deceased:!1,deceasedDateTime:null,firstName:s.firstName,genderId:s.sexId,sexId:s.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:s.hospitalNumber}],otherName:s.middleName,maritalStatusId:s.maritalStatusId,surname:s.lastName,educationId:s.educationId,employmentStatusId:s.employmentStatusId,dateOfRegistration:s.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=s.dateOfBirth,ninNumber:s.ninNumber},a={type:"phone",value:s.phoneNumber};if(s.email){const e={type:"email",value:s.email};t.contactPoint.push(e)}if(s.altPhonenumber){const e={type:"altphone",value:s.altPhonenumber};t.contactPoint.push(e)}t.contactPoint.push(a),t.id=Re,se.personDto=t;let r={...ge,personDto:t,entryPoint:De.entrypointValue};console.log("payload",r);const i=await x.a.post("".concat(v,"pmtct/anc/pmtct-enrollment"),r,{headers:{Authorization:"Bearer ".concat(g)}});l.b.success("Patient Register successful",{position:l.b.POSITION.BOTTOM_CENTER}),X.push({pathname:"/patient-history",state:{patientObj:i.data,postValue:De.postValue,entrypointValue:De.entrypointValue}}),m(!1)}catch(O){if(m(!1),O.response&&O.response.data){var t,r,i,n,c,o,d,b,h,p,u;let e=O.response.data.apierror&&""!==O.response.data.apierror.message?O.response.data.apierror.message:"Something went wrong, please try again";null!==O&&void 0!==O&&null!==(t=O.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.apierror&&""!==(null===O||void 0===O||null===(i=O.response)||void 0===i||null===(n=i.data)||void 0===n||null===(c=n.apierror)||void 0===c?void 0:c.message)&&null!==O&&void 0!==O&&null!==(o=O.response)&&void 0!==o&&null!==(d=o.data)&&void 0!==d&&d.apierror&&""!==(null===O||void 0===O||null===(b=O.response)||void 0===b||null===(h=b.data)||void 0===h||null===(p=h.apierror)||void 0===p||null===(u=p.subErrors[0])||void 0===u?void 0:u.message)?l.b.error(O.response.data.apierror.message+" : "+O.response.data.apierror.subErrors[0].field+" "+O.response.data.apierror.subErrors[0].message,{position:l.b.POSITION.BOTTOM_CENTER}):l.b.error(e,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})}}}else window.scrollTo(0,0)},disabled:h,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:h?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(ce.jsx)(Z.a,{variant:"contained",className:K.button,startIcon:Object(ce.jsx)(st.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>{X.push({pathname:"/"})},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})}),Object(ce.jsxs)(ne.a,{show:xe,toggle:Ce,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(ce.jsx)(ne.a.Header,{children:Object(ce.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(ne.a.Body,{children:Object(ce.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(ce.jsx)(ne.a.Footer,{children:Object(ce.jsx)(Z.a,{onClick:Ce,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};ea.b.add(ta.a,ta.b,ta.c,ta.d);const ca=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var oa=t=>{const[a,s]=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),[n,c]=Object(r.useState)(!1),[d,j]=Object(r.useState)(!1),[b,h]=Object(r.useState)(!0),[m,p]=Object(r.useState)([]),[u,O]=Object(r.useState)(!1),[y,N]=Object(r.useState)({}),[T,S]=Object(r.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"",obj:{}}),C=t.location&&t.location.state?t.location.state.user:null,D=ca(),R=Object(o.g)(),I=Object(o.h)(),[w,A]=Object(r.useState)([]),[P,H]=Object(r.useState)([]),[B,E]=Object(r.useState)({ancSetting:"",communitySetting:"",ancNo:"",gaweeks:"",gravida:"",expectedDeliveryDate:"",firstAncDate:"",lmp:"",parity:"",person_uuid:"",hivDiognosicTime:"",referredSyphilisTreatment:"",testResultSyphilis:"",testedSyphilis:"",treatedSyphilis:"",personDto:{},pmtctHtsInfo:{},syphilisInfo:{},partnerNotification:{},staticHivStatus:"",previouslyKnownHivStatus:"",dateOfHepatitisB:"",hepatitisB:"",testedHepatitisB:"",treatedHepatitisB:"",referredHepatitisB:"",dateOfHepatitisC:"",hepatitisC:"",testedHepatitisC:"",treatedHepatitisC:"",referredHepatitisC:""}),[Y,k]=Object(r.useState)([]),[_,M]=i.a.useState(!1),[F,L]=i.a.useState(!1),z=I.state;let V=null,W={};V=z?z.patientId:null,W=z?z.patientObj:{};const[U,G]=Object(r.useState)([]);Object(r.useEffect)((()=>{var e,t,s;if(K(),X(),$(),J(),se(),W){const e=W.identifier.identifier.find((e=>"HospitalNumber"===e.type));a.dob=W.dateOfBirth,a.firstName=W.firstName,a.dateOfRegistration=W.dateOfRegistration,a.middleName=W.otherName,a.lastName=W.surname,a.dateOfRegistration=W.dateOfRegistration,a.hospitalNumber=e&&e?e.value:"",E({...B,uniqueId:e?e.value:""}),a.genderId=W&&W.gender?W.gender.id:null;const t=te(ee(W.dateOfBirth).format("DD-MM-YYYY"));a.age=t,B.personId=W.id,a.ninNumber=W.ninNumber}a.dateOfRegistration<a.dob&&alert("Date of registration can not be earlier than date of birth"),Q(null===(e=W)||void 0===e||null===(t=e.identifier)||void 0===t||null===(s=t.identifier[0])||void 0===s?void 0:s.value,W.uuid),q()}),[W,V,a.dateOfRegistration]);const q=()=>{x.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{G(e.data)})).catch((e=>{}))},K=e=>{x.a.get("".concat(v,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{A(e.data)})).catch((e=>{}))},X=e=>{x.a.get("".concat(v,"application-codesets/v2/TEST_SETTING_CPMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{H(e.data)})).catch((e=>{}))},Q=(e,t)=>{x.a.get("".concat(v,"pmtct/anc/hiv-status?hospitalNumber=").concat(e,"&personUuid=").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{e.data?(E({...B,staticHivStatus:e.data,previouslyKnownHivStatus:"Yes"}),M(!0)):B.staticHivStatus=W&&"Positive"===W.dynamicHivStatus?"Positive":""})).catch((e=>{}))},J=()=>{x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{let t="";"female"!==W.sex&&"Female"!==W.sex&&"FEMALE"!==W.sex||(t="Female"),"Male"!==W.sex&&"male"!==W.sex&&"MALE"!==W.sex||(t="Male");const s=e.data.find((e=>e.display===t));a.sexId=s.display})).catch((e=>{}))},$=Object(r.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}});p(e.data)}catch(e){}}),[]),te=e=>{var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),i=t.getFullYear()-r.getFullYear(),n=t.getMonth()-r.getMonth();return(n<0||0===n&&t.getDate()<r.getDate())&&i--,0===i?n+" month(s)":i},ae=e=>{N({...y,[e.target.name]:""}),s({...a,[e.target.name]:e.target.value})},se=()=>{x.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{k(e.data)})).catch((e=>{}))},ie=e=>{if(N({...y,[e.target.name]:""}),"ancNo"===e.target.name&&""!==e.target.value){async function t(){const t=e.target.value,a={ancNo:t},s=await x.a.post("".concat(v,"pmtct/anc/exist/anc-number?ancNo=").concat(t),a,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});!0===s.data?(l.b.error("ANC number already exist"),O(s.data)):O(!1)}t()}if("firstAncDate"===e.target.name&&""!==e.target.value&&""!==B.lmp){let a=$e(e.target.value,B.lmp);a>0?(B.gaweeks=a,E({...B,[e.target.name]:e.target.value})):(l.b.error("Please select a validate date"),E({...B,[e.target.name]:""}))}if("lmp"===e.target.name&&""!==e.target.value){let s=$e(B.firstAncDate,e.target.value);s>0?(B.gaweeks=s,E({...B,[e.target.name]:e.target.value})):(l.b.error("Please select a validate date"),E({...B,[e.target.name]:e.target.value}))}"parity"===e.target.name&&""!==e.target.value&&e.target.value<0||"gravida"===e.target.name&&""!==e.target.value&&e.target.value<=0||("testedSyphilis"===e.target.name&&""!==e.target.value&&"Yes"===e.target.value&&(B.testResultSyphilis="",B.referredSyphilisTreatment="",B.treatedSyphilis="",E({...B,testResultSyphilis:""}),E({...B,referredSyphilisTreatment:""}),E({...B,treatedSyphilis:""}),E({...B,[e.target.name]:e.target.value})),"testResultSyphilis"===e.target.name&&""!==e.target.value&&"Positive"===e.target.value&&(B.treatedSyphilis="",B.referredSyphilisTreatment="",E({...B,treatedSyphilis:""}),E({...B,referredSyphilisTreatment:""}),E({...B,[e.target.name]:e.target.value})),"ancSetting"===e.target.name?E({...B,[e.target.name]:e.target.value,communitySetting:""}):"testedHepatitisB"===e.target.name?E({...B,[e.target.name]:e.target.value,dateOfHepatitisB:"",hepatitisB:""}):"hepatitisB"===e.target.name?E({...B,[e.target.name]:e.target.value,treatedHepatitisB:"",referredHepatitisB:""}):"testedHepatitisC"===e.target.name?E({...B,[e.target.name]:e.target.value,dateOfHepatitisC:"",hepatitisC:""}):"hepatitisC"===e.target.name?E({...B,[e.target.name]:e.target.value,treatedHepatitisC:"",referredHepatitisC:""}):E({...B,[e.target.name]:e.target.value}))};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(ce.jsx)("ol",{className:"breadcrumb",children:Object(ce.jsx)("li",{className:"breadcrumb-item active",children:Object(ce.jsxs)("h4",{children:[" ",Object(ce.jsx)(f.b,{to:"/",children:"PMTCT /"})," Patient Enrollment"]})})})}),Object(ce.jsx)(l.a,{autoClose:3e3,hideProgressBar:!0}),Object(ce.jsx)(lt.a,{className:D.root,children:Object(ce.jsxs)(aa.a,{children:[Object(ce.jsx)(f.b,{to:{pathname:"/",state:"users"},children:Object(ce.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(ce.jsx)(re.a,{}),children:Object(ce.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back"})})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ce.jsxs)(Zt.a,{children:[Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===C?"Basic Information":"Edit User Information"})}),Object(ce.jsx)("div",{className:"card-body",children:Object(ce.jsx)("div",{className:"basic-form",children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"firstName",children:"Name"}),Object(ce.jsx)(ke.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:null!==a&&void 0!==a&&a.fullname?null===a||void 0===a?void 0:a.fullname:"".concat(a.firstName," ").concat(a.lastName),onChange:ae,style:{border:"none",backgroundColor:"transparent",outline:"none"}}),""!==y.firstName?Object(ce.jsx)("span",{className:D.error,children:y.firstName}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"patientId",children:"Hospital Number "}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:a.hospitalNumber,onChange:ae,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Sex "}),Object(ce.jsx)(ke.a,{className:"form-control",name:"sexId",id:"sexId",onChange:ae,value:a.sexId,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-2",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Age"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"age",id:"age",value:a.age,disabled:b,onChange:e=>{const t=e.target.value.replace(/\D/g,"");if(!b&&t){""!==t&&t>=60&&L(!F),j(t<=1);const e=new Date;e.setDate(15),e.setMonth(5);const s=ee(e.toISOString()).add(-1*t,"years");a.dob=ee(s).format("YYYY-MM-DD")}s({...a,age:t})},style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})})]})})})]}),z.showANC?Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"ANC Enrollment"})}),Object(ce.jsx)("div",{className:"card-body",children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"ANC Setting"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"ancSetting",id:"encounterDate",onChange:ie,value:B.ancSetting,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),w.length>0&&w.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display})))]})})]})}),B.ancSetting&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"ENROLLMENT_SETTING_COMMUNITY"===B.ancSetting?"Community Setting":"Facility Setting"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"communitySetting",id:"communitySetting",onChange:ie,value:B.communitySetting,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),"ENROLLMENT_SETTING_COMMUNITY"===B.ancSetting?Object(ce.jsx)(ce.Fragment,{children:P.length>0&&P.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display})))}):Object(ce.jsx)("option",{value:"PMTCT (ANC1 Only)",children:"PMTCT (ANC1 Only)"})]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["ANC No ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:ie,value:B.ancNo})}),""!==y.ancNo?Object(ce.jsx)("span",{className:D.error,children:y.ancNo}):"",!0===u?Object(ce.jsx)("span",{className:D.error,children:"ANC number already exist"}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date of Enrollment"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"firstAncDate",id:"firstAncDate",onChange:ie,value:B.firstAncDate,min:W.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD")})}),""!==y.firstAncDate?Object(ce.jsx)("span",{className:D.error,children:y.firstAncDate}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Parity ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"parity",id:"parity",onChange:ie,value:B.parity,min:0})}),""!==y.parity?Object(ce.jsx)("span",{className:D.error,children:y.parity}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Gravida ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"gravida",id:"gragravidavida",onChange:ie,value:B.gravida,min:"1"})}),""!==y.gravida?Object(ce.jsx)("span",{className:D.error,children:y.gravida}):"",B.gravida<B.parity?Object(ce.jsx)("span",{className:D.error,children:"Gravida should not be less Parity"}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date Of Last Menstrual Period"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"lmp",id:"lmp",onChange:ie,value:B.lmp,max:B.firstAncDate?B.firstAncDate:ee(new Date).format("YYYY-MM-DD")})}),""!==y.lmp?Object(ce.jsx)("span",{className:D.error,children:y.lmp}):"",0===B.gaweeks?Object(ce.jsx)("span",{className:D.error,children:"Invalid date "}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Gestational Age (Weeks)"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"gaweeks",id:"gaweeks",onChange:ie,value:B.gaweeks,disabled:!0})}),""!==y.gaweeks?Object(ce.jsx)("span",{className:D.error,children:y.gaweeks}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Tested for syphilis"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"testedSyphilis",id:"testedSyphilis",onChange:ie,value:B.testedSyphilis,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==y.testedSyphilis?Object(ce.jsx)("span",{className:D.error,children:y.testedSyphilis}):""]})}),"Yes"===B.testedSyphilis&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Syphilis test result"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"testResultSyphilis",id:"testResultSyphilis",onChange:ie,value:B.testResultSyphilis,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==y.testResultSyphilis?Object(ce.jsx)("span",{className:D.error,children:y.testResultSyphilis}):""]})}),"Yes"===B.testedSyphilis&&"Positive"===B.testResultSyphilis&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Treated for syphilis (penicillin)"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"treatedSyphilis",id:"treatedSyphilis",onChange:ie,value:B.treatedSyphilis,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==y.treatedSyphilis?Object(ce.jsx)("span",{className:D.error,children:y.treatedSyphilis}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Referred Syphilis +ve client"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"referredSyphilisTreatment",id:"referredSyphilisTreatment",onChange:ie,value:B.referredSyphilisTreatment,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==y.referredSyphilisTreatment?Object(ce.jsx)("span",{className:D.error,children:y.referredSyphilisTreatment}):""]})})]})]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Tested for Hepatitis B",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"testedHepatitisB",id:"testedHepatitisB",onChange:ie,value:B.testedHepatitisB,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})}),"Yes"===B.testedHepatitisB&&Object(ce.jsxs)(ce.Fragment,{children:[" ",Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Test Done"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfHepatitisB",id:"dateOfHepatitisB",onChange:ie,value:B.dateOfHepatitisB,min:W.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD")})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Hepatitis B test result"," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hepatitisB",id:"hepatitisB",onChange:ie,value:B.hepatitisB,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),"Positive"===B.hepatitisB&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Treated for Hepatitis B"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"treatedHepatitisB",id:"treatedHepatitisB",onChange:ie,value:B.treatedHepatitisB,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Referred Hepatitis B +ve client"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"referredHepatitisB",id:"referredHepatitisB",onChange:ie,value:B.referredHepatitisB,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})})]})]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Tested for Hepatitis C"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"testedHepatitisC",id:"testedHepatitisC",onChange:ie,value:B.testedHepatitisC,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})}),"Yes"===B.testedHepatitisC&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Test Done"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfHepatitisC",id:"dateOfHepatitisC",onChange:ie,value:B.dateOfHepatitisC,min:W.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD")})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Hepatitis C test result"," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hepatitisC",id:"hepatitisC",onChange:ie,value:B.hepatitisC,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),"Positive"===B.hepatitisC&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Treated for Hepatitis C"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"treatedHepatitisC",id:"treatedHepatitisC",onChange:ie,value:B.treatedHepatitisC,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Referred Hepatitis C +ve client"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"referredHepatitisC",id:"referredHepatitisC",onChange:ie,value:B.referredHepatitisC,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})})]})]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Previously Known HIV Status"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"previouslyKnownHivStatus",id:"previouslyKnownHivStatus",onChange:ie,disabled:!!_,value:B.previouslyKnownHivStatus,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==y.previouslyKnownHivStatus?Object(ce.jsx)("span",{className:D.error,children:y.previouslyKnownHivStatus}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["HIV Status ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"staticHivStatus",id:"staticHivStatus",onChange:ie,value:B.staticHivStatus,disabled:!!_||"Positive"===W.dynamicHivStatus,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"}),Object(ce.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==y.staticHivStatus?Object(ce.jsx)("span",{className:D.error,children:y.staticHivStatus}):""]})})]})})]}):Object(ce.jsx)(tt,{newRegDate:"",patientObj:W,setActiveContent:S,activeContent:T,hideUpdateButton:!0,entrypointValue:z.entrypointValue,ancEntryType:!!W.ancNo,handleRoute:e=>{R.push({pathname:"/patient-history",state:{patientObj:e,postValue:"L&D"}})}}),n?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),z.showANC&&Object(ce.jsxs)(ce.Fragment,{children:[B.gaweeks>0&&!0!==u&&B.gravida>=B.parity&&Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:D.button,startIcon:Object(ce.jsx)(Me.a,{}),hidden:u,disabled:d,onClick:async e=>{if(e.preventDefault(),(()=>{let e={...y};return e.gaweeks=B.gaweeks?"":"This field is required",e.gravida=B.gravida?"":"This field is required","Positive"===B.testResultSyphilis&&(e.referredSyphilisTreatment=B.referredSyphilisTreatment?"":"This field is required"),e.lmp=B.lmp?"":"This field is required",e.parity=""!==B.parity?"":"This field is required",e.testedSyphilis=B.testedSyphilis?"":"This field is required","Positive"===B.testResultSyphilis&&(e.treatedSyphilis=B.treatedSyphilis?"":"This field is required"),"Yes"===B.testedSyphilis&&(e.testResultSyphilis=B.testResultSyphilis?"":"This field is required"),e.previouslyKnownHivStatus=B.previouslyKnownHivStatus?"":"This field is required",e.staticHivStatus=B.staticHivStatus?"":"This field is required",e.ancNo=B.ancNo?"":"This field is required",N({...e}),Object.values(e).every((e=>""===e))})())if(z.showANC)try{B.entryPoint=z.entrypointValue,B.person_uuid=W.uuid;const e=await x.a.post("".concat(v,"pmtct/anc/anc-enrollement"),B,{headers:{Authorization:"Bearer ".concat(g)}});l.b.success("Patient Register successful",{position:l.b.POSITION.BOTTOM_CENTER}),R.push({pathname:"/patient-history",state:{patientObj:e.data,postValue:z.postValue,entrypointValue:z.entrypointValue}})}catch(t){if(t.response&&t.response.data){let e=t.response.data.apierror&&""!==t.response.data.apierror.message?t.response.data.apierror.message:"Something went wrong, please try again";t.response.data.apierror&&""!==t.response.data.apierror.message&&t.response.data.apierror&&""!==t.response.data.apierror.subErrors[0].message?l.b.error(t.response.data.apierror.message+" : "+t.response.data.apierror.subErrors[0].field+" "+t.response.data.apierror.subErrors[0].message,{position:l.b.POSITION.BOTTOM_CENTER}):l.b.error(e,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})}else try{B.person_uuid=W.uuid;const e=await x.a.post("".concat(v,"pmtct/anc/pmtct-enrollment"),B,{headers:{Authorization:"Bearer ".concat(g)}});R.push({pathname:"/patient-history",state:{patientObj:e.data,postValue:z.postValue,entrypointValue:z.entrypointValue}}),l.b.success("Patient Register successful",{position:l.b.POSITION.BOTTOM_CENTER})}catch(t){if(t.response&&t.response.data){let e=t.response.data.apierror&&""!==t.response.data.apierror.message?t.response.data.apierror.message:"Something went wrong, please try again";t.response.data.apierror&&""!==t.response.data.apierror.message&&t.response.data.apierror&&""!==t.response.data.apierror.subErrors[0].message?l.b.error(t.response.data.apierror.message+" : "+t.response.data.apierror.subErrors[0].field+" "+t.response.data.apierror.subErrors[0].message,{position:l.b.POSITION.BOTTOM_CENTER}):l.b.error(e,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})}},children:n?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(ce.jsx)(Z.a,{variant:"contained",className:D.button,startIcon:Object(ce.jsx)(st.a,{}),onClick:()=>{R.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})]})})]})})]})};ea.b.add(ta.a,ta.b,ta.c,ta.d);const la=Object(we.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var da=t=>{var a,s,n,c,d;const[j,b]=Object(r.useState)({fullname:"",sex:"",age:"",hospitalNumber:""}),[h,m]=Object(r.useState)(!1),[p,u]=Object(r.useState)(!1),[O,y]=Object(r.useState)(!0),[N,T]=Object(r.useState)([]),[S,C]=Object(r.useState)(!1),[D,R]=Object(r.useState)({}),I=t.location&&t.location.state?t.location.state.user:null,w=la(),A=Object(o.g)(),P=Object(o.h)(),[H,B]=Object(r.useState)([]),[E,Y]=Object(r.useState)([]),[k,_]=Object(r.useState)({ancSetting:"",communitySetting:"",ancNo:"",gaweeks:"",gravida:"",expectedDeliveryDate:"",firstAncDate:"",lmp:"",parity:"",person_uuid:"",hivDiognosicTime:"",referredSyphilisTreatment:"",testResultSyphilis:"",testedSyphilis:"",treatedSyphilis:"",personDto:{},pmtctHtsInfo:{},syphilisInfo:{},partnerNotification:{},previouslyKnownHivStatus:"",staticHivStatus:"",testedHepatitisB:"",treatedHepatitisB:"",referredHepatitisB:"",testedHepatitisC:"",treatedHepatitisC:"",referredHepatitisC:"",dateOfHepatitisB:"",hepatitisB:"",dateOfHepatitisC:"",hepatitisC:""}),[M,F]=Object(r.useState)([]),[L,z]=i.a.useState(!1),V=()=>z(!L),W=P.state;console.log(W);let U=null,G=null,q=null,K={};U=W?W.patientId:null,q=W?W.id:null,G=W?W.actionType:null,K=W?W.patientObj:{};const[X,Q]=Object(r.useState)([]),[J,$]=Object(r.useState)(!1),[te,ae]=Object(r.useState)([]),[se,ie]=Object(r.useState)({});Object(r.useEffect)((()=>{de(),le(),be(),je(),me(),K&&($("view"===G),_({...K}),console.log(K),j.fullname=K.fullname,j.age=K.age,j.hospitalNumber=K.hospitalNumber,j.sex=K.sex)}),[K,U,G]),Object(r.useEffect)((()=>{oe(),W.entrypointValue&&te.map(((e,t)=>{e.code===W.entrypointValue&&(ie(e),console.log("location choosennn",e))}))}),[]);const oe=()=>{x.a.get("".concat(v,"pmtct/anc/").concat(P.state.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log(e.data),_({...e.data})})).catch((e=>{}))},le=e=>{x.a.get("".concat(v,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log(e),B(e.data)})).catch((e=>{}))},de=e=>{x.a.get("".concat(v,"application-codesets/v2/TEST_SETTING_CPMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{console.log(e),Y(e.data)})).catch((e=>{}))},je=()=>{x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{let t="";"female"!==K.sex&&"Female"!==K.sex&&"FEMALE"!==K.sex||(t="Female"),"Male"!==K.sex&&"male"!==K.sex&&"MALE"!==K.sex||(t="Male");const a=e.data.find((e=>e.display===t));j.sexId=a.display})).catch((e=>{}))},be=Object(r.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}});T(e.data)}catch(e){}}),[]),he=e=>{R({...D,[e.target.name]:""}),b({...j,[e.target.name]:e.target.value})},me=()=>{x.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{F(e.data)})).catch((e=>{}))},pe=e=>{if(R({...D,[e.target.name]:""}),"ancNo"===e.target.name&&""!==e.target.value){async function t(){const t=e.target.value,a={ancNo:t},s=await x.a.post("".concat(v,"pmtct/anc/exist/anc-number?ancNo=").concat(t),a,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});!0===s.data?(l.b.error("ANC number already exist"),C(s.data)):C(!1)}t()}if(!("parity"===e.target.name&&""!==e.target.value&&e.target.value<0)&&!("gravida"===e.target.name&&""!==e.target.value&&e.target.value<=0))if("testedSyphilis"===e.target.name&&""!==e.target.value&&"Yes"===e.target.value&&(k.testResultSyphilis="",k.referredSyphilisTreatment="",k.treatedSyphilis="",_({...k,testResultSyphilis:""}),_({...k,referredSyphilisTreatment:""}),_({...k,treatedSyphilis:""}),_({...k,[e.target.name]:e.target.value})),"testResultSyphilis"===e.target.name&&""!==e.target.value&&"Positive"===e.target.value&&(k.treatedSyphilis="",k.referredSyphilisTreatment="",_({...k,treatedSyphilis:""}),_({...k,referredSyphilisTreatment:""}),_({...k,[e.target.name]:e.target.value})),"ancSetting"===e.target.name)_({...k,[e.target.name]:e.target.value,communitySetting:""});else if("testedHepatitisB"===e.target.name)_({...k,[e.target.name]:e.target.value,dateOfHepatitisB:"",hepatitisB:""});else if("hepatitisB"===e.target.name)_({...k,[e.target.name]:e.target.value,treatedHepatitisB:"",referredHepatitisB:""});else if("testedHepatitisC"===e.target.name)_({...k,[e.target.name]:e.target.value,dateOfHepatitisC:"",hepatitisC:""});else if("hepatitisC"===e.target.name)_({...k,[e.target.name]:e.target.value,treatedHepatitisC:"",referredHepatitisC:""});else if("firstAncDate"===e.target.name&&""!==e.target.value&&""!==k.lmp){let a=$e(e.target.value,k.lmp);a>0?(k.gaweeks=a,_({...k,[e.target.name]:e.target.value})):(l.b.error("Please select a validate date "),_({...k,[e.target.name]:""}))}else if("lmp"===e.target.name&&""!==e.target.value){let s=$e(k.firstAncDate,e.target.value);s>0?(k.gaweeks=s,_({...k,[e.target.name]:e.target.value})):(l.b.error("Please select a validate date"),_({...k,[e.target.name]:""}))}else _({...k,[e.target.name]:e.target.value})};return console.log(D),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(ce.jsx)("ol",{className:"breadcrumb",children:Object(ce.jsx)("li",{className:"breadcrumb-item active",children:Object(ce.jsxs)("h4",{children:[" ",Object(ce.jsx)(f.b,{to:"/",children:"PMTCT /"})," Patient Enrollment"]})})})}),Object(ce.jsx)(l.a,{autoClose:3e3,hideProgressBar:!0}),Object(ce.jsx)(lt.a,{className:w.root,children:Object(ce.jsxs)(aa.a,{children:[Object(ce.jsx)(f.b,{to:{pathname:"/patient-history",state:{patientObj:K}},children:Object(ce.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(ce.jsx)(re.a,{}),children:Object(ce.jsxs)("span",{style:{textTransform:"capitalize",color:"#fff"},children:["Back"," "]})})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ce.jsxs)(Zt.a,{children:[Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===I?"Basic Information":"Edit User Information"})}),Object(ce.jsx)("div",{className:"card-body",children:Object(ce.jsx)("div",{className:"basic-form",children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"firstName",children:"Name"}),Object(ce.jsx)(ke.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:null!==(a=P.state)&&void 0!==a&&null!==(s=a.patientObj)&&void 0!==s&&s.fullName?null===P||void 0===P||null===(n=P.state.patientObj)||void 0===n?void 0:n.fullName:null===P||void 0===P||null===(c=P.state)||void 0===c||null===(d=c.patientObj)||void 0===d?void 0:d.fullname,onChange:he,style:{border:"none",backgroundColor:"transparent",outline:"none"}}),""!==D.firstName?Object(ce.jsx)("span",{className:w.error,children:D.firstName}):""]})}),console.log(P.state.patientObj),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{for:"patientId",children:"Hospital Number "}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:j.hospitalNumber,onChange:he,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Sex "}),Object(ce.jsx)(ke.a,{className:"form-control",name:"sexId",id:"sexId",onChange:he,value:j.sex,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-2",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Age"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"age",id:"age",value:j.age,disabled:O,onChange:e=>{const t=e.target.value.replace(/\D/g,"");if(!O&&t){""!==t&&t>=60&&V(),u(t<=1);const e=new Date;e.setDate(15),e.setMonth(5);const a=ee(e.toISOString()).add(-1*t,"years");j.dob=ee(a).format("YYYY-MM-DD")}b({...j,age:t})},style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})})]})})})]}),Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"ANC Enrollment"})}),Object(ce.jsx)("div",{className:"card-body",children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"ANC Setting"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"ancSetting",id:"encounterDate",onChange:pe,value:k.ancSetting,disabled:J,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),H.length>0&&H.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display})))]})})]})}),k.ancSetting&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"ENROLLMENT_SETTING_COMMUNITY"===k.ancSetting?"Community Setting":"Facility Setting"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"communitySetting",id:"communitySetting",onChange:pe,value:k.communitySetting,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),"ENROLLMENT_SETTING_COMMUNITY"===k.ancSetting?Object(ce.jsx)(ce.Fragment,{children:E.length>0&&E.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display})))}):Object(ce.jsx)("option",{value:"PMTCT (ANC1 Only)",children:"PMTCT (ANC1 Only)"})]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["ANC No ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:pe,value:k.ancNo,disabled:!0})}),""!==D.ancNo?Object(ce.jsx)("span",{className:w.error,children:D.ancNo}):"",!0===S?Object(ce.jsx)("span",{className:w.error,children:"ANC number already exist"}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date of Enrollment"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"firstAncDate",id:"firstAncDate",onChange:pe,value:k.firstAncDate,max:ee(new Date).format("YYYY-MM-DD"),disabled:J})}),""!==D.firstAncDate?Object(ce.jsx)("span",{className:w.error,children:D.firstAncDate}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Parity ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"parity",id:"parity",onChange:pe,value:k.parity,disabled:J})}),""!==D.parity?Object(ce.jsx)("span",{className:w.error,children:D.parity}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Gravida ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"gravida",id:"gravida",onChange:pe,value:k.gravida,disabled:J})}),""!==D.gravida?Object(ce.jsx)("span",{className:w.error,children:D.gravida}):"",k.gravida<k.parity?Object(ce.jsx)("span",{className:w.error,children:"Gravida should not be less Parity"}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Date Of Last Menstrual Period"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"lmp",id:"lmp",onChange:pe,value:k.lmp,max:k.firstAncDate?k.firstAncDate:ee(new Date).format("YYYY-MM-DD"),disabled:!0})}),""!==D.lmp?Object(ce.jsx)("span",{className:w.error,children:D.lmp}):"",0===k.gaweeks?Object(ce.jsx)("span",{className:w.error,children:"Invalid date "}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Gestational Age (Weeks)"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:pe,value:k.gaweeks,disabled:!0})}),""!==D.gaweeks?Object(ce.jsx)("span",{className:w.error,children:D.gaweeks}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Tested for syphilis"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"testedSyphilis",id:"testedSyphilis",onChange:pe,value:k.testedSyphilis,disabled:J,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==D.testedSyphilis?Object(ce.jsx)("span",{className:w.error,children:D.testedSyphilis}):""]})}),"Yes"===k.testedSyphilis&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Syphilis test result"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"testResultSyphilis",id:"testResultSyphilis",onChange:pe,value:k.testResultSyphilis,disabled:J,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==D.testResultSyphilis?Object(ce.jsx)("span",{className:w.error,children:D.testResultSyphilis}):""]})}),"Yes"===k.testedSyphilis&&"Positive"===k.testResultSyphilis&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Treated for syphilis (penicillin)"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"treatedSyphilis",id:"treatedSyphilis",onChange:pe,value:k.encounterDate,disabled:J,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==D.treatedSyphilis?Object(ce.jsx)("span",{className:w.error,children:D.treatedSyphilis}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Referred Syphilis +ve client"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"referredSyphilisTreatment",id:"referredSyphilisTreatment",onChange:pe,value:k.referredSyphilisTreatment,disabled:J,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==D.referredSyphilisTreatment?Object(ce.jsx)("span",{className:w.error,children:D.referredSyphilisTreatment}):""]})})]})]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Tested for Hepatitis B",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"testedHepatitisB",id:"testedHepatitisB",onChange:pe,value:k.testedHepatitisB,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})}),"Yes"===k.testedHepatitisB&&Object(ce.jsxs)(ce.Fragment,{children:[" ",Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Test Done"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfHepatitisB",id:"dateOfHepatitisB",onChange:pe,value:k.dateOfHepatitisB,min:K.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD")})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Hepatitis B test result"," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hepatitisB",id:"hepatitisB",onChange:pe,value:k.hepatitisB,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),"Positive"===k.hepatitisB&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Treated for Hepatitis B"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"treatedHepatitisB",id:"treatedHepatitisB",onChange:pe,value:k.treatedHepatitisB,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Referred Hepatitis B +ve client"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"referredHepatitisB",id:"referredHepatitisB",onChange:pe,value:k.referredHepatitisB,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})})]})]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Tested for Hepatitis C"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"testedHepatitisC",id:"testedHepatitisC",onChange:pe,value:k.testedHepatitisC,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})}),"Yes"===k.testedHepatitisC&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Date Test Done"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfHepatitisC",id:"dateOfHepatitisC",onChange:pe,value:k.dateOfHepatitisC,min:K.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD")})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Hepatitis C test result"," "]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"hepatitisC",id:"hepatitisC",onChange:pe,value:k.hepatitisC,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),"Positive"===k.hepatitisC&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Treated for Hepatitis C"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"treatedHepatitisC",id:"treatedHepatitisC",onChange:pe,value:k.treatedHepatitisC,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsx)(Ye.a,{children:"Referred Hepatitis C +ve client"}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"referredHepatitisC",id:"referredHepatitisC",onChange:pe,value:k.referredHepatitisC,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})})]})})]})]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["Previously Known HIV Status"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"previouslyKnownHivStatus",id:"previouslyKnownHivStatus",onChange:pe,value:k.previouslyKnownHivStatus,disabled:J,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})}),""!==D.previouslyKnownHivStatus?Object(ce.jsx)("span",{className:w.error,children:D.previouslyKnownHivStatus}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ee.a,{children:[Object(ce.jsxs)(Ye.a,{children:["HIV Status ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Ve.a,{children:Object(ce.jsxs)(ke.a,{type:"select",name:"staticHivStatus",id:"staticHivStatus",onChange:pe,value:k.staticHivStatus,disabled:J,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"}),Object(ce.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==D.staticHivStatus?Object(ce.jsx)("span",{className:w.error,children:D.staticHivStatus}):""]})})]})})]}),h?Object(ce.jsx)(Je.a,{}):"",Object(ce.jsx)("br",{}),k.gaweeks>0&&!0!==S&&k.gravida>=k.parity&&Object(ce.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",hidden:J,className:w.button,startIcon:Object(ce.jsx)(Me.a,{}),disabled:p,onClick:async e=>{if(e.preventDefault(),(()=>{let e={...D};return e.gaweeks=k.gaweeks?"":"This field is required",e.gravida=k.gravida?"":"This field is required","Yes"===k.testResultSyphilis&&(e.referredSyphilisTreatment=k.referredSyphilisTreatment?"":"This field is required"),e.lmp=k.lmp?"":"This field is required",e.parity=""!==k.parity?"":"This field is required",e.testedSyphilis=k.testedSyphilis?"":"This field is required","Yes"===k.testResultSyphilis&&(e.treatedSyphilis=k.treatedSyphilis?"":"This field is required"),"Yes"===k.testedSyphilis&&(e.testResultSyphilis=k.testResultSyphilis?"":"This field is required"),R({...e}),Object.values(e).every((e=>""==e))})())try{k.person_uuid=K.uuid;await x.a.put("".concat(v,"pmtct/anc/update-anc/").concat(q),k,{headers:{Authorization:"Bearer ".concat(g)}});l.b.success("Record updated  successful",{position:l.b.POSITION.BOTTOM_CENTER}),A.push({pathname:"/patient-history",state:{patientObj:K,postValue:se.display,entrypointValue:se.code}})}catch(t){if(t.response&&t.response.data){let e=t.response.data.apierror&&""!==t.response.data.apierror.message?t.response.data.apierror.message:"Something went wrong, please try again";t.response.data.apierror&&""!==t.response.data.apierror.message&&t.response.data.apierror&&""!==t.response.data.apierror.subErrors[0].message?l.b.error(t.response.data.apierror.message+" : "+t.response.data.apierror.subErrors[0].field+" "+t.response.data.apierror.subErrors[0].message,{position:l.b.POSITION.BOTTOM_CENTER}):l.b.error(e,{position:l.b.POSITION.BOTTOM_CENTER})}else l.b.error("Something went wrong. Please try again...",{position:l.b.POSITION.BOTTOM_CENTER})}},children:h?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})}),Object(ce.jsx)(Z.a,{variant:"contained",className:w.button,startIcon:Object(ce.jsx)(st.a,{}),onClick:()=>{A.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})]})}),Object(ce.jsxs)(ne.a,{show:L,toggle:V,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(ce.jsx)(ne.a.Header,{children:Object(ce.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(ne.a.Body,{children:Object(ce.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(ce.jsx)(ne.a.Footer,{children:Object(ce.jsx)(Z.a,{onClick:V,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};function ja(){return Object(ce.jsx)(o.a,{children:Object(ce.jsxs)("div",{children:[Object(ce.jsx)(l.a,{}),Object(ce.jsxs)(o.d,{children:[Object(ce.jsx)(o.b,{path:"/patient-history",children:Object(ce.jsx)(Jt,{})}),Object(ce.jsx)(o.b,{path:"/register-patient",children:Object(ce.jsx)(na,{})}),Object(ce.jsx)(o.b,{path:"/enroll-patient",children:Object(ce.jsx)(oa,{})}),Object(ce.jsx)(o.b,{path:"/update-patient",children:Object(ce.jsx)(da,{})}),Object(ce.jsx)(o.b,{path:"/",children:Object(ce.jsx)(xe,{})})]})]})})}var ba=e=>{e&&e instanceof Function&&s.e(6).then(s.bind(null,1006)).then((t=>{let{getCLS:a,getFID:s,getFCP:r,getLCP:i,getTTFB:n}=t;a(e),s(e),r(e),i(e),n(e)}))},ha=s(637);let ma="ltr";const pa=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:ma},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:ma},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:ma},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:ma},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:ma},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:ma}],ua=Object(r.createContext)();var Oa=e=>{const[t,a]=Object(r.useState)({value:"full",label:"Full"}),[s,i]=Object(r.useState)({value:"fixed",label:"Fixed"}),[n,c]=Object(r.useState)({value:"fixed",label:"Fixed"}),[o,l]=Object(r.useState)({value:"vertical",label:"Vertical"}),[d,j]=Object(r.useState)({value:"ltr",label:"LTR"}),[b,h]=Object(r.useState)("color_1"),[m,p]=Object(r.useState)("color_1"),[u,O]=Object(r.useState)("color_1"),[x,v]=Object(r.useState)("color_1"),[g,f]=Object(r.useState)(!1),[y,N]=Object(r.useState)(!1),[T,S]=Object(r.useState)({value:"light",label:"Light"}),[C,D]=Object(r.useState)({value:"wide-boxed",label:"Wide Boxed"}),R=document.querySelector("body"),[I,w]=Object(r.useState)(0),[A,P]=Object(r.useState)(0),H=e=>{h(e),R.setAttribute("data-primary",e)},B=e=>{p(e),R.setAttribute("data-nav-headerbg",e)},E=e=>{O(e),R.setAttribute("data-headerbg",e)},Y=e=>{v(e),R.setAttribute("data-sibebarbg",e)},k=e=>{i(e),R.setAttribute("data-sidebar-position",e.value)},_=e=>{j(e),R.setAttribute("direction",e.value);let t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},M=e=>{"horizontal"===e.value&&"overlay"===t.value?(l(e),R.setAttribute("data-layout",e.value),a({value:"full",label:"Full"}),R.setAttribute("data-sidebar-style","full")):(l(e),R.setAttribute("data-layout",e.value))},F=e=>{"horizontal"===o.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(a(e),f("icon-hover"===e.value?"_i-hover":""),R.setAttribute("data-sidebar-style",e.value))},L=e=>{c(e),R.setAttribute("data-header-position",e.value)},z=e=>{R.setAttribute("data-theme-version",e.value),S(e)},V=e=>{D(e),R.setAttribute("data-container",e.value),"boxed"===e.value&&F({value:"overlay",label:"Overlay"})};return Object(r.useEffect)((()=>{const e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");let t=()=>{w(window.innerWidth),P(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),Object(ce.jsx)(ua.Provider,{value:{body:R,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:s,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:b,navigationHader:m,windowWidth:I,windowHeight:A,changePrimaryColor:H,changeNavigationHader:B,changeSideBarStyle:F,sideBarStyle:t,changeSideBarPostion:k,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:L,headerposition:n,changeSideBarLayout:M,sidebarLayout:o,changeDirectionLayout:_,changeContainerPosition:V,direction:d,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:u,chnageHaderColor:E,chnageSidebarColor:Y,sidebarColor:x,iconHover:g,menuToggle:y,openMenuToggle:()=>{"overly"===t.value?N(!0):N(!1)},changeBackground:z,background:T,containerPosition_:C,setDemoTheme:(e,t)=>{var a={},s=pa[e];R.setAttribute("data-typography",s.typography),a.value=s.version,z(a),a.value=s.layout,M(a),H(s.primary),B(s.navheaderBg),E(s.headerBg),a.value=s.sidebarStyle,F(a),Y(s.sidebarBg),a.value=s.sidebarPosition,k(a),a.value=s.headerPosition,L(a),a.value=s.containerLayout,V(a),a.value=t,_(a)}},children:e.children})};c.a.render(Object(ce.jsx)(i.a.StrictMode,{children:Object(ce.jsx)(ha.a,{children:Object(ce.jsx)(f.a,{basename:"/",children:Object(ce.jsx)(Oa,{children:Object(ce.jsx)(ja,{})})})})}),document.getElementById("root")),ba()}},[[806,1,2]]]);
//# sourceMappingURL=main.04a4dc87.chunk.js.map