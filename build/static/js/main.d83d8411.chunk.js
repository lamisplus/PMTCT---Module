(this.webpackJsonpLamisPlus=this.webpackJsonpLamisPlus||[]).push([[0],{468:function(e,t,a){},655:function(e,t,a){},656:function(e,t,a){},795:function(e,t,a){"use strict";a.r(t);var r=a(2),c=a.n(r),n=a(25),s=a.n(n),i=a(57),o=a(11),l=(a(48),a(655),a(656),a(657),a(7)),d=a(852),j=a(853),b=a(885),u=a(872),O=a(854),h=a(4),m=a(75),p=a.n(m),x=a(12),f=a.n(x),v="http://localhost:8383/api/v1/",g="eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJndWVzdEBsYW1pc3BsdXMub3JnIiwiYXV0aCI6IlN1cGVyIEFkbWluIiwibmFtZSI6Ikd1ZXN0IEd1ZXN0IiwiZXhwIjoxNzA4NDYzNjAzfQ.WYZgRt4tporDd0KkSl4nP1sipLOu27zspQjhkqeY44L4L41jLVSxn3i218f-nE73gs19Xse61LJ5AmRP6N02Pg",y=(a(129),a(34)),N=a(108),T=a.n(N),S=a(118),C=a.n(S),R=a(109),D=a.n(R),w=a(116),I=a.n(w),A=a(60),P=a.n(A),k=a(59),E=a.n(k),B=a(110),Y=a.n(B),H=a(111),M=a.n(H),_=a(113),z=a.n(_),F=a(114),V=a.n(F),L=a(115),W=a.n(L),U=a(119),q=a.n(U),G=a(112),K=a.n(G),X=a(117),Q=a.n(X),J=a(120),Z=a.n(J),$=(a(44),a(479)),ee=a(847),te=(a(209),a(18)),ae=a.n(te),re=a(183),ce=a.n(re),ne=a(151),se=a(9),ie=a(271),oe=a(275),le=a(1),de=function(e){var t=Object(r.useState)("home"),a=Object(l.a)(t,2),c=(a[0],a[1]),n=Object(r.useState)(""),s=Object(l.a)(n,2),o=(s[0],s[1]),d=Object(r.useState)([]),j=Object(l.a)(d,2),b=j[0],u=j[1],O=Object(i.g)();return Object(r.useEffect)((function(){c("home"),console.log(e),f.a.get("".concat(v,"application-codesets/v2/PMTCT_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){u(e.data),console.log(e.data)})).catch((function(e){}))}),[]),Object(le.jsx)("div",{className:"PMTCT-entryPoint",children:Object(le.jsxs)(oe.a,Object(h.a)(Object(h.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(le.jsx)(oe.a.Header,{children:Object(le.jsxs)(oe.a.Title,{id:"contained-modal-title-vcenter",children:["PMTCT Entry Point"," "]})}),Object(le.jsxs)(oe.a.Body,{children:[Object(le.jsx)("h4",{children:" "}),Object(le.jsx)("div",{className:" ",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:b.map((function(t,a){var r,c,n;return"ANC"===t.display?Object(le.jsx)(y.b,{to:{pathname:e.route,state:Object(h.a)({showANC:!0,postValue:t.display,entrypointValue:t.code},e.info)},children:Object(le.jsx)(ie.a,{variant:"primary",color:"primary",className:" mb-10 px-4",style:(r={border:"1px solid black",color:"white",borderRadius:"0",width:"120px",height:"35px",backgroundColor:"#007bb6"},Object(se.a)(r,"borderRadius","3px"),Object(se.a)(r,"border","none"),Object(se.a)(r,"padding","0px"),r),children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:t.display})})}):"L&D"===t.display?Object(le.jsx)(y.b,{to:{pathname:e.route,state:Object(h.a)({showANC:!1,postValue:t.display,entrypointValue:t.code},e.info)},children:Object(le.jsx)(ie.a,{variant:"primary",color:"primary",className:" mb-10 px-4",style:(c={border:"1px solid black",color:"white",borderRadius:"0",width:"120px",margin:"10px 20px ",height:"35px",backgroundColor:"rgb(153, 46, 98)"},Object(se.a)(c,"borderRadius","3px"),Object(se.a)(c,"border","none"),c),children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:t.display})})}):"Post-Partum"===t.display?Object(le.jsxs)("select",{style:(n={border:"1px solid black",color:"white",borderRadius:"0",width:"120px",height:"35px",padding:"0px 5px",backgroundColor:"#21ba45"},Object(se.a)(n,"borderRadius","3px"),Object(se.a)(n,"border","none"),n),onChange:function(a){o(a.target.value),O.push({pathname:e.route,state:Object(h.a)({showANC:!1,postValue:t.display,subPostValue:a.target.value,entrypointValue:t.code},e.info)})},children:[Object(le.jsx)("option",{defaultValue:"",children:t.display}),Object(le.jsx)("option",{value:"\u2264 72 hrs",children:"\u2264  72 hrs"}),Object(le.jsx)("option",{value:"> 72 hrs - < 6 month",children:"> 72 hrs - < 6 month"}),Object(le.jsx)("option",{value:"> 6 months - 12 months",children:"> 6 months - 12 months"})]}):void 0}))})]}),Object(le.jsx)(oe.a.Footer,{children:Object(le.jsx)(ie.a,{variant:"contained",color:"primary",className:" float-end mb-10",style:{backgroundColor:"#014d88",color:"white"},onClick:e.onHide,children:"Close"})})]}))})};ae.a.locale("en"),ce()();var je={Add:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Y.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(V.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(I.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(C.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))}))},be=function(e){var t=Object(r.useState)(!0),a=Object(l.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(!1),i=Object(l.a)(s,2),o=i[0],d=i[1],j=Object(r.useState)({}),b=Object(l.a)(j,2),u=b[0],O=b[1],x=function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),c=new Date(r),n=t.getFullYear()-c.getFullYear(),s=t.getMonth()-c.getMonth();return(s<0||0===s&&t.getDate()<c.getDate())&&n--,0===n?s+" month(s)":n+" year(s)"},N=function(e){var t=e.identifier.find((function(e){return"HospitalNumber"==e.type}));return t?t.value:""},T=function(e){e.target.checked?n(!1):n(!0)};return Object(le.jsxs)("div",{children:[Object(le.jsx)(p.a,{icons:je,title:"Find Patient ",columns:[{title:"Patient Name",field:"name",hidden:c},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:function(e){return new Promise((function(t,a){return f.a.get("".concat(v,"pmtct/anc/pmtct-from-person?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchParam=").concat(e.search),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){return e})).then((function(a){t({data:a.data.records.map((function(e){return{name:Object(le.jsxs)(y.b,{to:{pathname:"/enroll-patient",state:{patientId:e.id,patientObj:e}},title:"Enroll Patient",children:[" ",e.firstName+" "+e.surname]}),hospital_number:N(e.identifier),gender:e&&e.sex?e.sex:"",age:0===e.dateOfBirth||void 0===e.dateOfBirth||null===e.dateOfBirth||""===e.dateOfBirth?0:x(ae()(e.dateOfBirth).format("DD-MM-YYYY")),actions:Object(le.jsx)("div",{onClick:function(t){d(!0),O({patientId:e.id,patientObj:e})},children:Object(le.jsxs)(ee.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(le.jsx)($.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)(ne.b,{})}),Object(le.jsx)($.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Enroll Patient"})})]})})}})),page:e.page,totalCount:a.data.totalRecords})}))}))},options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},search:!0,searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:function(e){return Object(le.jsxs)("div",{children:[Object(le.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(le.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==c,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(le.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(le.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(le.jsx)(m.MTableToolbar,Object(h.a)({},e))]})}}}),Object(le.jsx)(de,{route:"/enroll-patient",show:o,info:u,onHide:function(){return d(!1)}})]})},ue=a(386);ae.a.locale("en"),ce()();var Oe={Add:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Y.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(V.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(I.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(C.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))}))},he=function(e){var t=Object(r.useState)(!0),a=Object(l.a)(t,2),c=a[0],n=a[1],s=function(e){e.target.checked?n(!1):n(!0)};return Object(le.jsx)("div",{children:Object(le.jsx)(p.a,{icons:Oe,title:"Find Patient ",columns:[{title:"Patient Name",field:"name",hidden:c},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:function(e){return new Promise((function(t,a){return f.a.get("".concat(v,"pmtct/anc/all-active-anc?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchParam=").concat(e.search),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){return e})).then((function(a){t({data:a.data.records.map((function(e){return{name:Object(le.jsxs)(y.b,{to:{pathname:"/patient-history",state:{patientObj:e}},title:"Click to view patient dashboard",children:[" ",e.surname?null===e||void 0===e?void 0:e.surname:null===e||void 0===e?void 0:e.fullname]}),hospital_number:e.hospitalNumber,gender:e&&e.sex?e.sex:"Female",age:e.age,actions:Object(le.jsx)("div",{children:Object(le.jsx)(y.b,{to:{pathname:"/patient-history",state:{patientObj:e,postValue:"ANC",entrypointValue:"PMTCT_ENTRY_POINT_ANC"}},children:Object(le.jsxs)(ee.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(le.jsx)($.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)(ue.a,{})}),Object(le.jsx)($.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}})),page:e.page,totalCount:a.data.totalRecords})}))}))},options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:function(e){return Object(le.jsxs)("div",{children:[Object(le.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(le.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==c,onChange:s,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(le.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(le.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(le.jsx)(m.MTableToolbar,Object(h.a)({},e))]})}}})})},me=a(165);ae.a.locale("en"),ce()();var pe={Add:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Y.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(V.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(I.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(C.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))}))},xe=function(e){var t=Object(r.useState)(!0),a=Object(l.a)(t,2),c=a[0],n=a[1],s=function(e){e.target.checked?n(!1):n(!0)};return Object(le.jsx)("div",{children:Object(le.jsx)(p.a,{icons:pe,title:"Find Patient ",columns:[{title:"Patient Name",field:"name",hidden:c},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:function(e){return new Promise((function(t,a){return f.a.get("".concat(v,"pmtct/anc/all-active-pmtct?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchParam=").concat(e.search),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){return e})).then((function(a){console.log("general PMTCT PATIENT",a),t({data:a.data.records.map((function(e){return{name:Object(le.jsxs)(y.b,{to:{pathname:"/patient-history",state:{patientObj:e}},title:"Click to view patient dashboard",children:[" ",e.surname?e.surname:e.fullName]}),hospital_number:e.hospitalNumber,gender:e&&e.sex?e.sex:"Female",age:e.age,actions:Object(le.jsx)("div",{children:Object(le.jsx)(y.b,{to:{pathname:"/patient-history",state:{patientObj:e}},children:Object(le.jsxs)(ee.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(le.jsx)($.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)(ue.a,{})}),Object(le.jsx)($.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}})),page:e.page,totalCount:a.data.totalRecords})}))}))},options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:function(e){return Object(le.jsxs)("div",{children:[Object(le.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(le.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==c,onChange:s,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(le.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(le.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(le.jsx)(m.MTableToolbar,Object(h.a)({},e))]})}}})})},fe={borderRadius:"2px",fontSize:14},ve=function(e){var t=Object(r.useState)("home"),a=Object(l.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(!1),i=Object(l.a)(s,2),o=i[0],h=i[1];return Object(r.useEffect)((function(){n("home")}),[]),Object(le.jsxs)(r.Fragment,{children:[Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsx)("h4",{children:"PMTCT"})})})}),Object(le.jsx)($.a,{variant:"contained",color:"primary",className:" float-end mb-10",startIcon:Object(le.jsx)(me.a,{size:"10"}),style:{backgroundColor:"#014d88"},onClick:function(e){e.preventDefault(),h(!0)},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"New Patient"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(d.a,{children:Object(le.jsx)(j.a,{xl:12,children:Object(le.jsx)(b.a,{style:fe,children:Object(le.jsx)(b.a.Body,{children:Object(le.jsx)("div",{className:"custom-tab-1",children:Object(le.jsxs)(u.a,{id:"controlled-tab-example",activeKey:c,onSelect:function(e){return n(e)},className:"mb-3",children:[Object(le.jsx)(O.a,{eventKey:"home",title:"Find Patients",children:Object(le.jsx)(be,{})}),Object(le.jsx)(O.a,{eventKey:"anc",title:"ANC Patients",children:Object(le.jsx)(he,{})}),Object(le.jsx)(O.a,{eventKey:"pmtct",title:"General PMTCT Patients",children:Object(le.jsx)(xe,{})})]})})})})})}),Object(le.jsx)(de,{route:"/register-patient",show:o,onHide:function(){return h(!1)}})]})},ge=a(10),ye=a(876),Ne=a(886),Te=a(23),Se=a(36),Ce=a(850),Re=a(851),De=a(416),we=a(855),Ie=a(856),Ae=a(199);ae.a.locale("en"),ce()();var Pe=Object(ge.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}))((function(e){var t,a,c,n,s=e.classes,i=e.patientObj?e.patientObj:{},o=(e.permissions&&e.permissions,Object(r.useState)(i)),d=Object(l.a)(o,2),j=d[0],b=(d[1],Object(r.useState)(null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.biometricStatus)),u=Object(l.a)(b,2),O=(u[0],u[1],Object(r.useState)(!1)),h=Object(l.a)(O,2),m=h[0],p=h[1],x=Object(r.useState)([]),N=Object(l.a)(x,2),T=(N[0],N[1]),S=Object(r.useState)(!1),C=Object(l.a)(S,2),R=(C[0],C[1],Object(r.useState)(!1)),D=Object(l.a)(R,2),w=(D[0],D[1],Object(r.useState)()),I=Object(l.a)(w,2),A=(I[0],I[1]),P=Object(r.useState)(!1),k=Object(l.a)(P,2);k[0],k[1],Object(r.useEffect)((function(){!function(){(a=a||Object(Se.a)(Object(Te.a)().mark((function e(){return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.a.get("".concat(v,"hiv/status/patient-current/").concat(j.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){A(e.data)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(),E(),console.log("patient",j)}),[e.patientObj]);var E=function(){f.a.get("".concat(v,"modules/check?moduleName=biometric"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){p(e.data),!0===e.data&&f.a.get("".concat(v,"biometrics/devices"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){T(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){}))};return Object(le.jsx)("div",{className:s.root,children:Object(le.jsx)(Ce.a,{children:Object(le.jsx)(Re.a,{children:Object(le.jsx)(we.a,{children:Object(le.jsx)(Ie.a,{md:12,children:Object(le.jsxs)(we.a,{className:"mt-1",children:[Object(le.jsxs)(Ie.a,{md:12,className:s.root2,children:[Object(le.jsx)("b",{style:{fontSize:"25px"},children:null!==j&&void 0!==j&&j.fullname?null===j||void 0===j?void 0:j.fullname:null===j||void 0===j?void 0:j.fullName}),Object(le.jsx)(y.b,{to:"/",children:Object(le.jsx)($.a,{variant:"contained",color:"primary",className:" float-end ms-2 mr-2 mt-2",startIcon:Object(le.jsx)(ne.a,{}),style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(le.jsx)(Ie.a,{md:4,className:s.root2,children:Object(le.jsxs)("span",{children:[" ","Patient ID : ",Object(le.jsx)("b",{children:null===j||void 0===j?void 0:j.hospitalNumber})]})}),Object(le.jsx)(Ie.a,{md:4,className:s.root2,children:Object(le.jsx)("span",{})}),Object(le.jsx)(Ie.a,{md:4,className:s.root2,children:Object(le.jsxs)("span",{children:[" ","Age :"," ",Object(le.jsxs)("b",{children:[null===j||void 0===j?void 0:j.age," ",Number(null===j||void 0===j?void 0:j.age)>1?"years":"year"]})]})}),Object(le.jsx)(Ie.a,{md:4,children:Object(le.jsxs)("span",{children:[" ","Gender :"," ",Object(le.jsx)("b",{children:j.sex&&null!==j.sex?j.sex:"Female"})]})}),Object(le.jsx)(Ie.a,{md:4,className:s.root2,children:Object(le.jsx)("span",{children:" "})}),Object(le.jsx)(Ie.a,{md:4,className:s.root2,children:Object(le.jsxs)("span",{children:[" ","Address :"," ",Object(le.jsxs)("b",{children:[(null===j||void 0===j?void 0:j.address)&&function(e){var t=null===e||void 0===e?void 0:e.address.find((function(e){return e.city})),a=t&&null!==t.line[0]?t.line[0]:"",r=t&&t.city&&null!==t.city?t.city:"";return t?a+" "+r:""}(null===j||void 0===j?void 0:j.address)," "]})]})}),Object(le.jsxs)(Ie.a,{md:12,children:[!0===m?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{children:Object(le.jsx)(Ae.a,{variant:"caption",children:Object(le.jsxs)(De.a,{color:!0===(null===(c=e.patientObj)||void 0===c?void 0:c.biometricStatus)?"green":"red",size:"mini",children:["Biometric Status",Object(le.jsx)(De.a.Detail,{children:!0===(null===(n=e.patientObj)||void 0===n?void 0:n.biometricStatus)?"Captured":"Not Captured"})]})})})}):Object(le.jsx)(le.Fragment,{}),null!==e.patientObj.dynamicHivStatus||null!==e.patientObj.staticHivStatus?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{children:Object(le.jsx)(Ae.a,{variant:"caption",children:Object(le.jsxs)(De.a,{color:"Positive"!==e.patientObj.dynamicHivStatus&&"Positive"!==e.patientObj.staticHivStatus?"green":"red",size:"mini",children:["HIV Status",Object(le.jsxs)(De.a.Detail,{children:["Unknown"!==e.patientObj.dynamicHivStatus?e.patientObj.dynamicHivStatus?e.patientObj.dynamicHivStatus:e.patientObj.staticHivStatus:"",(e.patientObj.hivStatus,e.patientObj.hivStatus)]})]})})})}):Object(le.jsx)(le.Fragment,{})]})]})})})})})})})),ke=a(871),Ee=a(565),Be=Object(Ee.a)((function(e){return{navItemText:{padding:e.spacing(2)}}}));var Ye=function(e){Be();var t="",a=e.patientObj?e.patientObj:{},c=Object(r.useState)(a),n=Object(l.a)(c,2),s=n[0],i=(n[1],Object(r.useState)()),o=Object(l.a)(i,2),d=(o[0],o[1]),j=Object(r.useState)(!1),b=Object(l.a)(j,2),u=b[0],O=b[1];Object(r.useEffect)((function(){e.deliveryInfo.filter((function(e){"Labour and Delivery"===e.activityName&&O(!0)})),m(),t=e.patientObj&&e.patientObj.sex?e.patientObj.sex:null,d("Female"===t)}),[e.patientObj]),Object(r.useEffect)((function(){e.deliveryInfo.filter((function(e){"Labour and Delivery"===e.activityName&&O(!0)}))}),[e.deliveryInfo]);var m=function(){f.a.get("".concat(v,"observation/person/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){var t=e.data,a=t.filter((function(e){return"mental health"===e.type})),r=t.filter((function(e){return"initial evaluation"===e.type}));a.length>1&&!0,r.length>1&&!0})).catch((function(e){}))};return Object(le.jsxs)("div",{children:[Object(le.jsxs)(ke.a,{size:"large",color:"black",inverted:!0,children:[Object(le.jsx)(ke.a.Item,{onClick:function(){e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"recent-history"}))},children:" Home"}),("Positive"===s.dynamicHivStatus||"Positive"===s.staticHivStatus||"Positive"===(null===s||void 0===s?void 0:s.hivStatus))&&Object(le.jsx)(le.Fragment,{children:!0!==s.pmtctRegStatus?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(ke.a.Item,{onClick:function(){e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"anc-pnc"}))},children:"PMTCT Enrollment"})}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ke.a.Item,{onClick:function(){e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"consultation"}))},children:"Follow Up Visit"}),!0!==s.deliveryStatus&&!0!==u&&Object(le.jsx)(ke.a.Item,{onClick:function(){e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"labour-delivery"}))},children:"Labour and Delivery"}),(null===s||void 0===s?void 0:s.ancNo)&&Object(le.jsxs)(ke.a.Item,{onClick:function(){e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"partners"}))},children:[" ","Partners"]}),Object(le.jsxs)(ke.a.Item,{onClick:function(){e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"infants"}))},children:[" ","Infant Information"]})]})}),Object(le.jsx)(ke.a.Item,{onClick:function(){e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"patient-history"}))},children:"History"})]}),console.log(s)]})},He=a(882),Me=a(883),_e=a(857),ze=a(858),Fe=a(859),Ve=a(47),Le=a.n(Ve),We=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),Ue=function(e){var t=e.patientObj?e.patientObj:{},a=Object(r.useState)({}),c=Object(l.a)(a,2),n=c[0],s=c[1],i=Object(r.useState)(!1),d=Object(l.a)(i,2),j=d[0],b=d[1],u=Object(h.a)({},n),O=We(),m=Object(r.useState)(!1),p=Object(l.a)(m,2),x=p[0],y=p[1],N=Object(r.useState)([]),T=Object(l.a)(N,2),S=T[0],C=T[1],R=Object(r.useState)([]),D=Object(l.a)(R,2),w=D[0],I=D[1],A=Object(r.useState)([]),P=Object(l.a)(A,2),k=P[0],E=P[1],B=Object(r.useState)([]),Y=Object(l.a)(B,2),H=Y[0],M=Y[1],_=Object(r.useState)([]),z=Object(l.a)(_,2),F=z[0],V=z[1],L=(Object(r.useRef)(null),Object(r.useState)({ancNo:t.ancNo,dateOfViralLoad:"",dateOfVisit:"",dateOfmeternalOutcome:"",dsd:"",dsdModel:"",dsdOption:"",enteryPoint:"619"===e.patientObj.entryPoint?"POINT_ENTRY_PMTCT_ANC":"POINT_ENTRY_PMTCT",fpCounseling:"",fpMethod:"",gaOfViralLoad:"",id:"",maternalOutcome:"",nextAppointmentDate:"",personUuid:t.person_uuid?t.person_uuid:t.personUuid,resultOfViralLoad:"",transferTo:"",visitStatus:"",timeOfViralLoad:""})),W=Object(l.a)(L,2),U=W[0],q=W[1],G=Object(r.useState)({}),K=Object(l.a)(G,2),X=(K[0],K[1]);console.log(U.enteryPoint);Object(r.useEffect)((function(){J(),ee(),Z(),f.a.get("".concat(v,"application-codesets/v2/PMTCT_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){V(e.data),console.log(e.data)})).catch((function(e){})),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(Q(e.activeContent.id),b("view"===e.activeContent.actionType))}),[e.activeContent]),Object(r.useEffect)((function(){F.map((function(t,a){Number(t.id)===Number(e.patientObj.entryPoint)&&X(t)}))}),[]);var Q=function(t){f.a.get("".concat(v,"pmtct/anc/view-mother-visit/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){q(e.data),re(e.data.dsdModel)})).catch((function(e){}))},J=function(){f.a.get("".concat(v,"application-codesets/v2/VISIT_STATUS_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){I(e.data)})).catch((function(e){}))},Z=function(){f.a.get("".concat(v,"application-codesets/v2/FAMILY_PLANNING_METHOD"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){M(e.data)})).catch((function(e){}))},ee=function(){f.a.get("".concat(v,"application-codesets/v2/MATERNAL_OUTCOME"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){E(e.data)})).catch((function(e){}))},te=function(t){if(s(Object(h.a)(Object(h.a)({},u),{},Object(se.a)({},t.target.name,""))),"dsdModel"===t.target.name&&re(t.target.value),"dateOfViralLoad"===t.target.name&&""!==t.target.value){var a;!function(){(a=a||Object(Se.a)(Object(Te.a)().mark((function a(){var r,c;return Object(Te.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.target.value,a.next=3,f.a.get("".concat(v,"pmtct/anc/calculate-ga-from-person?personUuid=").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid,"&visitDate=").concat(r),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:(c=a.sent).data>0?(U.gaOfViralLoad=c.data,q(Object(h.a)(Object(h.a)({},U),{},Object(se.a)({},t.target.name,t.target.value)))):q(Object(h.a)(Object(h.a)({},U),{},Object(se.a)({},t.target.name,t.target.value)));case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}()}"fpCounseling"===t.target.name&&"No"===t.target.value&&(U.fpMethod="",q(Object(h.a)(Object(h.a)({},U),{},Object(se.a)({},"fpMethod",""))),q(Object(h.a)(Object(h.a)({},U),{},Object(se.a)({},t.target.name,t.target.value)))),"dsd"===t.target.name&&"Yes"!==t.target.value&&(U.dsdModel="",U.dsdOption="",q(Object(h.a)(Object(h.a)({},U),{},Object(se.a)({},"dsdModel",""))),q(Object(h.a)(Object(h.a)({},U),{},Object(se.a)({},"dsdOption",""))),q(Object(h.a)(Object(h.a)({},U),{},Object(se.a)({},t.target.name,t.target.value)))),"visitStatus"===t.target.name&&"VISIT_STATUS_PMTCT_TRANSFER_OUT"!==t.target.value&&(U.transferTo="",q(Object(h.a)(Object(h.a)({},U),{},Object(se.a)({},"transferTo",""))),q(Object(h.a)(Object(h.a)({},U),{},Object(se.a)({},t.target.name,t.target.value)))),q(Object(h.a)(Object(h.a)({},U),{},Object(se.a)({},t.target.name,t.target.value)))};function re(e){var t="Facility"===e?"DSD_MODEL_FACILITY":"DSD_MODEL_COMMUNITY";f.a.get("".concat(v,"application-codesets/v2/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){C(e.data)})).catch((function(e){}))}var ce=function(t){t.preventDefault(),u.visitStatus=U.visitStatus?"":"This field is required",u.dateOfVisit=U.dateOfVisit?"":"This field is required",u.dsd=U.dsd?"":"This field is required",u.enteryPoint=U.enteryPoint?"":"This field is required",u.fpCounseling=U.fpCounseling?"":"This field is required",u.dateOfmeternalOutcome=U.dateOfmeternalOutcome?"":"This field is required",u.maternalOutcome=U.maternalOutcome?"":"This field is required",s(Object(h.a)({},u)),Object.values(u).every((function(e){return""==e}))&&(y(!0),e.activeContent&&"update"===e.activeContent.actionType?f.a.put("".concat(v,"pmtct/anc/update-mother-visit/").concat(e.activeContent.id),U,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){y(!1),o.b.success("Clinic Visit save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){if(y(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):f.a.post("".concat(v,"pmtct/anc/pmtct-visit"),U,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){y(!1),o.b.success("Clinic Visit save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){if(y(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})))};return Object(le.jsxs)("div",{children:[Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"col-md-8 ",children:Object(le.jsx)("h2",{children:"Mother Follow-up Visit"})})}),Object(le.jsx)(He.a,{children:Object(le.jsx)(He.a.Column,{children:Object(le.jsxs)(Me.a,{children:[Object(le.jsx)(De.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"VITAL SIGNS"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date of Visit ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),console.log("visiting patient",e.patientObj),Object(le.jsx)(Fe.a,{type:"date",name:"dateOfVisit",id:"dateOfVisit",value:U.dateOfVisit,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:te,min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),disabled:j}),""!==n.dateOfVisit?Object(le.jsx)("span",{className:O.error,children:n.dateOfVisit}):""]})}),console.log(t.entryPoint),Object(le.jsx)("div",{className:" mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Point of Entry ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Fe.a,{type:"select",name:"enteryPoint",id:"enteryPoint",value:e.patientObj.entryPoint,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0,children:F.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},t)}))}),""!==n.enteryPoint?Object(le.jsx)("span",{className:O.error,children:n.enteryPoint}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["FP Counselling ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)(Fe.a,{type:"select",name:"fpCounseling",id:"fpCounseling",value:U.fpCounseling,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:j,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"Yes",children:"YES "}),Object(le.jsx)("option",{value:"No",children:"NO "})]}),""!==n.fpCounseling?Object(le.jsx)("span",{className:O.error,children:n.fpCounseling}):""]})}),"Yes"===U.fpCounseling&&Object(le.jsx)("div",{className:" mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"FP Method "}),Object(le.jsxs)(Fe.a,{type:"select",name:"fpMethod",id:"fpMethod",value:U.fpMethod,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:j,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),H.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==n.fpMethod?Object(le.jsx)("span",{className:O.error,children:n.fpMethod}):""]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)(De.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:" VIRAL LOAD "})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Viral Load Collection Date "}),Object(le.jsx)(Fe.a,{type:"date",name:"dateOfViralLoad",id:"dateOfViralLoad",value:U.dateOfViralLoad,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),disabled:j}),""!==n.dateOfViralLoad?Object(le.jsx)("span",{className:O.error,children:n.dateOfViralLoad}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"GA at VL Collection "}),Object(le.jsx)(Fe.a,{type:"number",name:"gaOfViralLoad",id:"gaOfViralLoad",value:U.gaOfViralLoad,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:e.patientObj.firstAncDate,disabled:!1===j||j}),""!==n.gaOfViralLoad?Object(le.jsx)("span",{className:O.error,children:n.gaOfViralLoad}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Result "}),Object(le.jsx)(Fe.a,{type:"number",name:"resultOfViralLoad",id:"resultOfViralLoad",value:U.resultOfViralLoad,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:j}),""!==n.resultOfViralLoad?Object(le.jsx)("span",{className:O.error,children:n.resultOfViralLoad}):""]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(De.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:" DSD MODEL & OUTCOME"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["DSD ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)(Fe.a,{type:"select",name:"dsd",id:"dsd",value:U.dsd,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:j,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"Yes",children:"YES "}),Object(le.jsx)("option",{value:"No",children:"NO "})]}),""!==n.dsd?Object(le.jsx)("span",{className:O.error,children:n.dsd}):""]})}),"Yes"===U.dsd&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"DSD Model"}),Object(le.jsxs)(Fe.a,{type:"select",name:"dsdModel",id:"dsdModel",value:U.dsdModel,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:j,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"Facility",children:"Facility "}),Object(le.jsx)("option",{value:"Community",children:"Community "})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"DSD Model Type"}),Object(le.jsxs)(Fe.a,{type:"select",name:"dsdOption",id:"dsdOption",value:U.dsdOption,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:j,children:[Object(le.jsx)("option",{value:"",children:"Select "}),S.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.code)}))]})]})})]}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Maternal Outcome ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)(Fe.a,{type:"select",name:"maternalOutcome",id:"maternalOutcome",value:U.maternalOutcome,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:j,children:[Object(le.jsx)("option",{value:"",children:"Select "}),k.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.code)}))]})]})}),Object(le.jsx)("div",{className:" mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date of Outcome ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Fe.a,{type:"date",name:"dateOfmeternalOutcome",id:"dateOfmeternalOutcome",value:U.dateOfmeternalOutcome,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),disabled:j}),""!==n.dateOfmeternalOutcome?Object(le.jsx)("span",{className:O.error,children:n.dateOfmeternalOutcome}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Client Visit Status ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)(Fe.a,{type:"select",name:"visitStatus",id:"visitStatus",value:U.visitStatus,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:j,children:[Object(le.jsx)("option",{value:"",children:"Select "}),w.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.code)}))]}),""!==n.visitStatus?Object(le.jsx)("span",{className:O.error,children:n.visitStatus}):""]})}),"VISIT_STATUS_PMTCT_TRANSFER_OUT"===U.visitStatus&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Name of ART Facility "}),Object(le.jsx)(Fe.a,{type:"text",name:"transferTo",id:"transferTo",value:U.transferTo,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:j}),""!==n.transferTo?Object(le.jsx)("span",{className:O.error,children:n.transferTo}):""]})})]}),Object(le.jsx)("br",{}),e.activeContent&&e.activeContent.actionType?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:j,className:O.button,startIcon:Object(le.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:ce,disabled:x,children:x?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:O.button,startIcon:Object(le.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:ce,disabled:x,children:x?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})]})})})]})},qe=a(873),Ge=a(860),Ke=a(861),Xe=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),Qe=function(e){e.patientObj&&e.patientObj;var t=Object(r.useState)({}),a=Object(l.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(),i=Object(l.a)(s,2),d=i[0],j=i[1],b=Object(h.a)({},c),u=Xe(),O=Object(r.useState)(!1),m=Object(l.a)(O,2),p=m[0],x=m[1],y=Object(r.useState)([]),N=Object(l.a)(y,2),T=N[0],S=N[1],C=Object(r.useState)({infantArv:!1,motherArt:!1,outCome:!1}),R=Object(l.a)(C,2),D=R[0],w=R[1],I=Object(r.useState)([]),A=Object(l.a)(I,2),P=(A[0],A[1]),k=Object(r.useState)([]),E=Object(l.a)(k,2),B=E[0],Y=E[1],H=Object(r.useState)([]),M=Object(l.a)(H,2),_=M[0],z=M[1],F=Object(r.useState)([]),V=Object(l.a)(F,2),L=V[0],W=V[1],U=Object(r.useState)([]),q=Object(l.a)(U,2),G=q[0],K=q[1],X=Object(r.useState)([]),Q=Object(l.a)(X,2),J=Q[0],Z=Q[1],ee=Object(r.useState)([]),te=Object(l.a)(ee,2),re=te[0],ce=te[1],ne=Object(r.useState)([]),ie=Object(l.a)(ne,2),oe=ie[0],de=ie[1],je=Object(r.useState)([]),be=Object(l.a)(je,2),ue=be[0],Oe=be[1],he=Object(r.useState)(!1),me=Object(l.a)(he,2),pe=me[0],xe=me[1],fe=Object(r.useState)({infantVisitRequestDto:"",infantArvDto:"",infantMotherArtDto:"",infantPCRTestDto:""}),ve=Object(l.a)(fe,2),ge=ve[0],ye=ve[1],Ne=Object(r.useState)({ageAtCtx:"",ancNumber:e.patientObj.ancNo,bodyWeight:"",breastFeeding:"",ctxStatus:"",infantHospitalNumber:"",uuid:"",visitDate:"",visitStatus:"",infantOutcomeAt18Months:""}),Ce=Object(l.a)(Ne,2),Re=Ce[0],we=Ce[1],Ie=Object(r.useState)({ageAtCtx:"",ancNumber:e.patientObj.ancNo,arvDeliveryPoint:"",infantArvTime:"",infantArvType:"",infantHospitalNumber:d}),Ae=Object(l.a)(Ie,2),Pe=Ae[0],ke=Ae[1],Ee=Object(r.useState)({ancNumber:e.patientObj.ancNo,motherArtInitiationTime:"",motherArtRegimen:"",regimenTypeId:"",regimenId:""}),Be=Object(l.a)(Ee,2),Ye=Be[0],Ve=Be[1],We=Object(r.useState)({ageAtTest:"",ancNumber:e.patientObj.ancNo,dateResultReceivedAtFacility:"",dateResultReceivedByCaregiver:"",dateSampleCollected:"",dateSampleSent:"",infantHospitalNumber:d,results:"",testType:""}),Ue=Object(l.a)(We,2),Qe=Ue[0],Je=Ue[1],Ze=Object(r.useState)({bodyWeight:""}),$e=Object(l.a)(Ze,2),et=$e[0],tt=$e[1];Object(r.useEffect)((function(){ct(),nt(),jt(),dt(),bt(),lt(),ot(),it(),st(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(at(e.activeContent.id),xe("view"===e.activeContent.actionType))}),[e.patientObj.ancNo,e.activeContent]);var at=function(t){f.a.get("".concat(v,"pmtct/anc/view-infantvisit/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){ye(e.data),we(Object(h.a)({},e.data.infantVisitRequestDto)),ke(Object(h.a)({},e.data.infantArvDto)),Ve(Object(h.a)({},e.data.infantMotherArtDto)),Je(Object(h.a)({},e.data.infantPCRTestDto)),rt(Object(h.a)({},e.data.infantVisitRequestDto))})).catch((function(e){}))},rt=function(e){j(e.infantHospitalNumber);f.a.get("".concat(v,"pmtct/anc/get-form-filter/").concat(e.infantHospitalNumber),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){Re.infantHospitalNumber=e.infantHospitalNumber,w(t.data)})).catch((function(e){}))},ct=function(){f.a.get("".concat(v,"pmtct/anc/get-infant-by-mother-person-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){S(e.data)})).catch((function(e){}))},nt=function(){f.a.get("".concat(v,"application-codesets/v2/TIME_ART_INITIATION_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){P(e.data)})).catch((function(e){}))},st=function(){f.a.get("".concat(v,"application-codesets/v2/INFANT_OUTCOME_AT_18_MONTHS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){Oe(e.data)})).catch((function(e){}))},it=function(){f.a.get("".concat(v,"application-codesets/v2/INFANT_PCR_RESULT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){de(e.data)})).catch((function(e){}))},ot=function(){f.a.get("".concat(v,"application-codesets/v2/INFANT_ARV_PROPHYLAXIS_TYPE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){Z(e.data)})).catch((function(e){}))},lt=function(){f.a.get("".concat(v,"application-codesets/v2/AGE_CTX_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){ce(e.data)})).catch((function(e){}))},dt=function(){f.a.get("".concat(v,"application-codesets/v2/TIMING_MOTHERS_ART_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){z(e.data)})).catch((function(e){}))},jt=function(){f.a.get("".concat(v,"application-codesets/v2/CHILD_FOLLOW_UP_VISIT_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){Y(e.data)})).catch((function(e){}))},bt=function(){f.a.get("".concat(v,"hiv/regimen/arv/adult"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){var t=e.data.filter((function(e){return 1===e.id||2===e.id||14===e.id}));K(t)})).catch((function(e){}))},ut=function(e){if(n(Object(h.a)(Object(h.a)({},b),{},Object(se.a)({},e.target.name,""))),"visitDate"===e.target.name&&""!==e.target.value){var t;!function(){(t=t||Object(Se.a)(Object(Te.a)().mark((function t(){var a,r;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,f.a.get("".concat(v,"pmtct/anc/calculate-ga3?hospitalNumber=").concat(d,"&visitDate=").concat(a),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:(r=t.sent).data>=0&&(Qe.ageAtTest=r.data,we(Object(h.a)(Object(h.a)({},Re),{},Object(se.a)({},e.target.name,e.target.value))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}we(Object(h.a)(Object(h.a)({},Re),{},Object(se.a)({},e.target.name,e.target.value)))},Ot=function(e){n(Object(h.a)(Object(h.a)({},b),{},Object(se.a)({},e.target.name,""))),ke(Object(h.a)(Object(h.a)({},Pe),{},Object(se.a)({},e.target.name,e.target.value)))},ht=function(e){n(Object(h.a)(Object(h.a)({},b),{},Object(se.a)({},e.target.name,""))),Ve(Object(h.a)(Object(h.a)({},Ye),{},Object(se.a)({},e.target.name,e.target.value)))},mt=function(e){n(Object(h.a)(Object(h.a)({},b),{},Object(se.a)({},e.target.name,""))),Je(Object(h.a)(Object(h.a)({},Qe),{},Object(se.a)({},e.target.name,e.target.value)))},pt=function(t){t.preventDefault(),b.visitDate=Re.visitDate?"":"This field is required",b.bodyWeight=Re.bodyWeight?"":"This field is required",n(Object(h.a)({},b)),Object.values(b).every((function(e){return""===e}))&&(x(!0),ge.infantVisitRequestDto=Re,ge.infantArvDto=Pe,ge.infantMotherArtDto=Ye,ge.infantPCRTestDto=Qe,e.activeContent&&e.activeContent.actionType?f.a.put("".concat(v,"pmtct/anc/update-infant-visit/").concat(e.activeContent.id),ge,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){x(!1),o.b.success("Clinic Visit save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){if(x(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):f.a.post("".concat(v,"pmtct/anc/infant-visit-consolidated"),ge,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){x(!1),o.b.success("Clinic Visit save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){if(x(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})))},xt=function(e){f.a.get("".concat(v,"hiv/regimen/types/").concat(e),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){W(e.data)})).catch((function(e){}))};return Object(le.jsxs)("div",{children:[Object(le.jsx)("h2",{children:"Clinic Follow-up Visit"}),Object(le.jsxs)(He.a,{columns:"equal",children:[Object(le.jsx)(He.a.Column,{children:Object(le.jsxs)(Me.a,{children:[Object(le.jsx)(De.a,{as:"a",color:"blue",ribbon:!0,children:"Infant's"}),Object(le.jsx)("br",{}),Object(le.jsx)(qe.a,{celled:!0,children:Object(le.jsxs)(qe.a.Item,{children:["Given Name",Object(le.jsx)("span",{className:"float-end",children:Object(le.jsx)("b",{children:"Hospital Number"})})]})}),T&&T.map((function(e){return Object(le.jsx)(qe.a,{celled:!0,children:Object(le.jsxs)(qe.a.Item,{onClick:function(){return j((t=e).hospitalNumber),void f.a.get("".concat(v,"pmtct/anc/get-form-filter/").concat(t.hospitalNumber),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){Re.infantHospitalNumber=t.hospitalNumber,w(e.data)})).catch((function(e){}));var t},style:{cursor:"pointer"},children:[Object(le.jsx)(De.a,{as:"a",color:"blue",children:e.firstName}),Object(le.jsx)(De.a,{as:"a",color:"teal",className:"float-end",tag:!0,children:e.hospitalNumber})]})})}))]})}),Object(le.jsx)(He.a.Column,{width:12,children:Object(le.jsxs)(Me.a,{children:[Object(le.jsx)(De.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsxs)("h4",{style:{color:"#fff"},children:["Infant Clinic Visit -"," ",Re&&Re.infantHospitalNumber?Re.infantHospitalNumber:" "]})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date of Visit ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Fe.a,{type:"date",name:"visitDate",id:"visitDate",value:Re.visitDate,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:ut,min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),required:!0}),""!==c.visitDate?Object(le.jsx)("span",{className:u.error,children:c.visitDate}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Infant Hospital Number"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Fe.a,{type:"text",name:"infantHospitalNumber",id:"infantHospitalNumber",value:Re.infantHospitalNumber,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:ut,disabled:!0}),""!==c.infantHospitalNumber?Object(le.jsx)("span",{className:u.error,children:c.infantHospitalNumber}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Mother ANC number"}),Object(le.jsx)(Fe.a,{type:"text",name:"ancNumber",id:"ancNumber",value:Re.ancNumber,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:ut,disabled:!0}),""!==c.ancNumber?Object(le.jsx)("span",{className:u.error,children:c.ancNumber}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Body Weight ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Fe.a,{type:"number",name:"bodyWeight",id:"bodyWeight",onChange:ut,min:"1",max:"150",onKeyUp:function(e){if("bodyWeight"===e.target.name&&(e.target.value<3||e.target.value>150)){tt(Object(h.a)(Object(h.a)({},et),{},{bodyWeight:"Body weight must not be greater than 150 and less than 3"}))}else tt(Object(h.a)(Object(h.a)({},et),{},{bodyWeight:""}))},value:Re.bodyWeight,style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:pe}),Object(le.jsx)(Ke.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"kg"})]}),""!==c.bodyWeight?Object(le.jsx)("span",{className:u.error,children:c.bodyWeight}):"",""!==et.weight?Object(le.jsx)("span",{className:u.error,children:et.weight}):"",""!==Re.bodyWeight&&Re.bodyWeight<=0?Object(le.jsx)("span",{className:u.error,children:"Invalid Body Weight "}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Breast Feeding ?"}),Object(le.jsxs)(Fe.a,{type:"select",name:"breastFeeding",id:"breastFeeding",value:Re.breastFeeding,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:ut,disabled:pe,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"YES",children:"YES "}),Object(le.jsx)("option",{value:"NO",children:"NO "})]}),""!==c.breastFeeding?Object(le.jsx)("span",{className:u.error,children:c.breastFeeding}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"CTX "}),Object(le.jsxs)(Fe.a,{type:"select",name:"ctxStatus",id:"ctxStatus",value:Re.ctxStatus,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:ut,disabled:pe,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"YES",children:"YES "}),Object(le.jsx)("option",{value:"NO",children:"NO "})]}),""!==c.ctxStatus?Object(le.jsx)("span",{className:u.error,children:c.ctxStatus}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Visit Status"}),Object(le.jsxs)(Fe.a,{type:"select",name:"visitStatus",id:"visitStatus",value:Re.visitStatus,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:ut,disabled:pe,children:[Object(le.jsx)("option",{value:"",children:"Select "}),B.map((function(e,t){return Object(le.jsx)("option",{value:e.code,children:e.display},t)}))]}),""!==c.visitStatus?Object(le.jsx)("span",{className:u.error,children:c.visitStatus}):""]})}),D&&!0===D.outCome&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Infant outcome at 18 months"}),Object(le.jsxs)(Fe.a,{type:"select",name:"infantOutcomeAt18Months",id:"infantOutcomeAt18Months",value:Re.infantOutcomeAt18Months,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:ut,disabled:pe,children:[Object(le.jsx)("option",{value:"",children:"Select "}),ue.map((function(e,t){return Object(le.jsx)("option",{value:e.code,children:e.display},t)}))]}),""!==c.infantOutcomeAt18Months?Object(le.jsx)("span",{className:u.error,children:c.infantOutcomeAt18Months}):""]})})]}),Object(le.jsx)("br",{}),D&&!1===D.motherArt&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(De.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:" Mother's ART "})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Timing of mother's ART Initiation"," "]}),Object(le.jsxs)(Fe.a,{type:"select",name:"motherArtInitiationTime",id:"motherArtInitiationTime",value:Ye.motherArtInitiationTime,onChange:ht,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:pe,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),_.map((function(e,t){return Object(le.jsx)("option",{value:e.code,children:e.display},t)}))]}),""!==c.motherArtInitiationTime?Object(le.jsx)("span",{className:u.error,children:c.motherArtInitiationTime}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Original Regimen Line "}),Object(le.jsxs)(Fe.a,{type:"select",name:"regimenTypeId",id:"regimenTypeId",value:Ye.regimenTypeId,onChange:function(e){var t=e.target.value;Ve(Object(h.a)(Object(h.a)({},Ye),{},{regimenTypeId:t})),xt(t)},required:!0,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:pe,children:[Object(le.jsx)("option",{value:"",children:" Select"}),G.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.description},e.id)}))]}),""!==c.regimenTypeId?Object(le.jsx)("span",{className:u.error,children:c.regimenTypeId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Original Regimen "}),Object(le.jsxs)(Fe.a,{type:"select",name:"regimenId",id:"regimenId",value:Ye.regimenId,onChange:ht,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:pe,children:[Object(le.jsx)("option",{value:"",children:" Select"}),L.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.description},e.id)}))]}),""!==c.regimenId?Object(le.jsx)("span",{className:u.error,children:c.regimenId}):""]})})]})]}),Object(le.jsx)("br",{}),D&&!1===D.infantArv&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(De.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:" Infant ARV & CTX"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Age at CTX Initiation "}),Object(le.jsxs)(Fe.a,{type:"select",name:"ageAtCtx",id:"ageAtCtx",value:Pe.ageAtCtx,onChange:Ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:pe,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),re.map((function(e,t){return Object(le.jsx)("option",{value:e.code,children:e.display},t)}))]}),""!==c.ageAtCtx?Object(le.jsx)("span",{className:u.error,children:c.ageAtCtx}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Infant ARV Type "}),Object(le.jsxs)(Fe.a,{type:"select",name:"infantArvType",id:"infantArvType",value:Pe.infantArvType,onChange:Ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:pe,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),J.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==c.infantArvType?Object(le.jsx)("span",{className:u.error,children:c.infantArvType}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:" Timing of ARV Prophylaxis "}),Object(le.jsxs)(Fe.a,{type:"select",name:"arvDeliveryPoint",id:"arvDeliveryPoint",value:Pe.arvDeliveryPoint,onChange:Ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:pe,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),Object(le.jsx)("option",{value:"Within 72 hour",children:"Within 72 hour "}),Object(le.jsx)("option",{value:"After 72 hour ",children:"After 72 hour "})]}),""!==c.arvDeliveryPoint?Object(le.jsx)("span",{className:u.error,children:c.arvDeliveryPoint}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:" Place of Delivery "}),Object(le.jsxs)(Fe.a,{type:"select",name:"infantArvTime",id:"infantArvTime",value:Pe.infantArvTime,onChange:Ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:pe,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),Object(le.jsx)("option",{value:"Facility Delivery",children:"Facility Delivery"}),Object(le.jsxs)("option",{value:"Delivered outside facility",children:["Delivered outside facility"," "]})]}),""!==c.infantArvTime?Object(le.jsx)("span",{className:u.error,children:c.infantArvTime}):""]})})]})]}),Object(le.jsx)("br",{}),Object(le.jsx)(De.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:" Infant PCR "})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Age at Test(months)"}),Object(le.jsx)(Fe.a,{type:"number",name:"ageAtTest",id:"ageAtTest",value:Qe.ageAtTest,onChange:mt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0}),""!==c.ageAtTest?Object(le.jsx)("span",{className:u.error,children:c.ageAtTest}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:" Sample Type"}),Object(le.jsxs)(Fe.a,{type:"select",name:"testType",id:"testType",value:Qe.testType,onChange:mt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:pe,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"First PCR",children:"First PCR"}),Object(le.jsx)("option",{value:"Second PCR",children:"Second PCR"}),Object(le.jsx)("option",{value:"Confirmatory PCR",children:"Confirmatory PCR"}),Object(le.jsxs)("option",{value:"First Rapid Antibody",children:["First Rapid Antibody"," "]}),Object(le.jsxs)("option",{value:"Second Rapid Antibody ",children:["Second Rapid Antibody"," "]})]}),""!==c.testType?Object(le.jsx)("span",{className:u.error,children:c.testType}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Date sample collected"}),Object(le.jsx)(Fe.a,{type:"date",name:"dateSampleCollected",id:"dateSampleCollected",value:Qe.dateSampleCollected,onChange:mt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:e.patientObj&&e.patientObj.pmtctEnrollmentRespondDto?e.patientObj.pmtctEnrollmentRespondDto.pmtctEnrollmentDate:"",max:ae()(new Date).format("YYYY-MM-DD"),disabled:pe}),""!==c.dateSampleCollected?Object(le.jsx)("span",{className:u.error,children:c.dateSampleCollected}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Date Result Received"}),Object(le.jsx)(Fe.a,{type:"date",name:"dateResultReceivedAtFacility",id:"dateResultReceivedAtFacility",value:Qe.dateResultReceivedAtFacility,onChange:mt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:Qe.dateSampleCollected,max:ae()(new Date).format("YYYY-MM-DD"),disabled:pe}),""!==c.dateResultReceivedAtFacility?Object(le.jsx)("span",{className:u.error,children:c.dateResultReceivedAtFacility}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Date Result Received By Caregiver"}),Object(le.jsx)(Fe.a,{type:"date",name:"dateResultReceivedByCaregiver",id:"dateResultReceivedByCaregiver",value:Qe.dateResultReceivedByCaregiver,onChange:mt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:Qe.dateSampleCollected,max:ae()(new Date).format("YYYY-MM-DD"),disabled:pe}),""!==c.dateResultReceivedByCaregiver?Object(le.jsx)("span",{className:u.error,children:c.dateResultReceivedByCaregiver}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Date Sample Sent"}),Object(le.jsx)(Fe.a,{type:"date",name:"dateSampleSent",id:"dateSampleSent",value:Qe.dateSampleSent,onChange:mt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:Qe.dateSampleCollected,max:ae()(new Date).format("YYYY-MM-DD"),disabled:pe}),""!==c.dateSampleSent?Object(le.jsx)("span",{className:u.error,children:c.dateSampleSent}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Result *"}),Object(le.jsxs)(Fe.a,{type:"select",name:"results",id:"results",value:Qe.results,onChange:mt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:pe,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),oe.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==c.results?Object(le.jsx)("span",{className:u.error,children:c.results}):""]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Re&&Re.infantHospitalNumber?Object(le.jsx)(le.Fragment,{children:e.activeContent&&e.activeContent.actionType?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:pe,className:u.button,startIcon:Object(le.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:pt,disabled:p,children:p?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:u.button,startIcon:Object(le.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:pt,disabled:p,children:p?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})}):""]})})]})]})},Je={borderRadius:"2px",fontSize:14},Ze=function(e){var t=Object(r.useState)("home"),a=Object(l.a)(t,2),c=a[0],n=a[1],s=e.patientObj,i=Object(r.useState)(0),o=Object(l.a)(i,2),h=o[0],m=o[1];return Object(r.useEffect)((function(){n(e.activeContent.activeTab),e.patientObj.ancNo?f.a.get("".concat(v,"pmtct/anc/view-delivery2/").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){m(e.data&&e.data.numberOfInfantsAlive?e.data.numberOfInfantsAlive:0)})).catch((function(e){})):f.a.get("".concat(v,"pmtct/anc/view-delivery-with-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){m(e.data&&e.data.numberOfInfantsAlive?e.data.numberOfInfantsAlive:0)})).catch((function(e){}))}),[e.patientObj.id,e.activeContent.activeTab]),Object(le.jsx)(r.Fragment,{children:Object(le.jsx)(d.a,{children:Object(le.jsx)(j.a,{xl:12,children:Object(le.jsx)(b.a,{style:Je,children:Object(le.jsx)(b.a.Body,{children:Object(le.jsx)("div",{className:"custom-tab-1",children:Object(le.jsxs)(u.a,{id:"controlled-tab-example",activeKey:c,onSelect:function(e){return n(e)},className:"mb-3",children:[Object(le.jsx)(O.a,{eventKey:"home",title:"MOTHER FOLLOW UP VISIT ",children:Object(le.jsx)(Ue,{patientObj:s,setActiveContent:e.setActiveContent,activeContent:e.activeContent})}),console.log(h),console.log(0!==h&&h>0),0!==h&&h>0&&Object(le.jsx)(O.a,{eventKey:"child",title:"CHILD FOLLOW UP VISIT",children:Object(le.jsx)(Qe,{patientObj:s,setActiveContent:e.setActiveContent,activeContent:e.activeContent})})]})})})})})})})},$e=a(862),et=a(863),tt=(a(292),a(864)),at=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),rt=function(e){var t,a,c,n,s,d,j,b=e.patientObj,u=(Object(i.g)(),Object(i.h)()),O=u&&u.state?u.state:null;console.log(O);var m=at(),p=Object(r.useState)(!1),x=Object(l.a)(p,2),y=x[0],N=x[1],T=Object(r.useState)([]),S=Object(l.a)(T,2),C=(S[0],S[1]),R=Object(r.useState)(""),D=Object(l.a)(R,2),w=(D[0],D[1],Object(r.useState)([])),I=Object(l.a)(w,2),A=I[0],P=I[1],k=Object(r.useState)([]),E=Object(l.a)(k,2),B=E[0],Y=E[1],H=Object(r.useState)(!1),M=Object(l.a)(H,2),_=M[0],z=M[1],F=Object(r.useState)({}),V=Object(l.a)(F,2),L=V[0],W=V[1],U=Object(r.useState)({}),q=Object(l.a)(U,2),G=q[0],K=q[1],X=Object(r.useState)([]),Q=Object(l.a)(X,2),J=Q[0],Z=Q[1],ee=Object(r.useState)({ancNo:b.ancNo?b.ancNo:"",pmtctEnrollmentDate:"",entryPoint:null===G||void 0===G?void 0:G.id,ga:e.patientObj.gaweeks,gravida:e.patientObj.gravida,artStartDate:"",artStartTime:b.artStartTime?b.artStartTime:"",id:"",tbStatus:"",hivStatus:b.hivStatus?b.hivStatus:b.staticHivStatus?b.staticHivStatus:"",lmp:null!==e&&void 0!==e&&null!==(t=e.patientObj)&&void 0!==t&&t.lmp?null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.lmp:"",gaweeks:null!==e&&void 0!==e&&null!==(c=e.patientObj)&&void 0!==c&&c.gaweeks?null===e||void 0===e||null===(n=e.patientObj)||void 0===n?void 0:n.gaweeks:"",pmtctType:G.display}),te=Object(l.a)(ee,2),re=te[0],ce=te[1];console.log(e.allEntryPoint);Object(r.useEffect)((function(){var t,a,r,c;f.a.get("".concat(v,"application-codesets/v2/PMTCT_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){Z(e.data),console.log(e.data)})).catch((function(e){})),ie(),oe(),de(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(ne(e.activeContent.id),N("view"===e.activeContent.actionType)),null!==e&&void 0!==e&&null!==(t=e.patientObj)&&void 0!==t&&t.person_uuid||null!==O&&void 0!==O&&null!==(a=O.patientObj)&&void 0!==a&&a.person_uuid?(console.log("props.patientObj.person_uuid",e.patientObj.person_uuid),console.log("locationState.patientObj.person_uuid",O.patientObj.person_uuidd),ce(Object(h.a)(Object(h.a)({},re),{},{personUuid:O.patientObj.person_uuid}))):(null!==e&&void 0!==e&&null!==(r=e.patientObj)&&void 0!==r&&r.uuid||null!==O&&void 0!==O&&null!==(c=O.patientObj)&&void 0!==c&&c.uuid)&&ce(Object(h.a)(Object(h.a)({},re),{},{personUuid:O.patientObj.uuid}))}),[]),Object(r.useEffect)((function(){O.entrypointValue?J.map((function(e,t){e.code===O.entrypointValue&&K(e)})):e.entrypointValue&&e.allEntryPoint.map((function(t,a){t.code===e.entrypointValue&&K(t)}))}),[J]),console.log(G),Object(r.useEffect)((function(){e.getPMTCTInfo&&e.getPMTCTInfo(re)}),[re]),console.log("uuid",null===e||void 0===e?void 0:e.patientObj,null===O||void 0===O||null===(s=O.patientObj)||void 0===s?void 0:s.person_uuid);var ne=function(t){f.a.get("".concat(v,"pmtct/anc/view-pmtct-enrollment/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){ce(Object(h.a)(Object(h.a)({},re),e.data))})).catch((function(e){}))},ie=function(){console.log("former",re),f.a.get("".concat(v,"application-codesets/v2/POINT_ENTRY_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){C(e.data),console.log(e.data)})).catch((function(e){}))},oe=function(){f.a.get("".concat(v,"application-codesets/v2/TIMING_MOTHERS_ART_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){Y(e.data)})).catch((function(e){}))},de=function(){f.a.get("".concat(v,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){P(e.data)})).catch((function(e){}))},je=function(e){if(ce(Object(h.a)(Object(h.a)({},re),{},Object(se.a)({},e.target.name,e.target.value))),console.log("payload",re),"lmp"===e.target.name&&""!==e.target.value){var t;console.log("calculate ",e.target.name,e.target.value),function(){(t=t||Object(Se.a)(Object(Te.a)().mark((function t(){var a,r;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,f.a.get("".concat(v,"pmtct/anc/calculate-ga/").concat(a),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:(r=t.sent).data>0?(re.gaweeks=r.data,ce(Object(h.a)(Object(h.a)({},re),{},Object(se.a)({},e.target.name,e.target.value)))):(re.gaweeks=r.data,o.b.error("Please select a validate date"),ce(Object(h.a)(Object(h.a)({},re),{},Object(se.a)({},e.target.name,e.target.value))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}};console.log(e.patientObj);var be=function(t){if(t.preventDefault(),function(){var e=Object(h.a)({},L);return e.pmtctEnrollmentDate=re.pmtctEnrollmentDate?"":"This field is required",e.pmtctEnrollmentDate=re.pmtctEnrollmentDate?"":"This field is required",e.artStartDate=re.artStartDate?"":"This field is required",e.artStartTime=re.artStartTime?"":"This field is required",e.tbStatus=re.tbStatus?"":"This field is required",W(Object(h.a)({},e)),Object.values(e).every((function(e){return""==e}))}())if(z(!0),e.activeContent&&e.activeContent.actionType)f.a.put("".concat(v,"pmtct/anc/update-pmtct-enrollment/").concat(e.activeContent.id),re,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){z(!1),o.b.success("Record updated successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){z(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})}));else{var a=Object(h.a)(Object(h.a)({},re),{},Object(se.a)({entryPoint:O.entrypointValue?O.entrypointValue:e.entrypointValue,personUuid:O&&O.patientObj?O.patientObj.uuid:e.patientObj.uuid},"personUuid",e.patientObj.person_uuid?e.patientObj.person_uuid:O.patientObj.uuid));f.a.post("".concat(v,"pmtct/anc/pmtct-enrollment"),a,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){z(!1),e.patientObj.pmtctRegStatus=!0,o.b.success("Enrollment save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.handleRoute?e.handleRoute(t.data):e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){console.log(e),z(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})}))}};return Object(le.jsx)("div",{children:Object(le.jsx)($e.a,{className:m.root,children:Object(le.jsx)(et.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row ",children:[Object(le.jsx)("div",{className:"card-header mb-3 ",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem",marginTop:"-20px"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"PMTCT Enrollment"})}),Object(le.jsxs)("h3",{className:"mb-3",children:[Object(le.jsx)("span",{children:"Point of Entry: "}),G.display]}),console.log("entryValueDisplay.display",G.display),console.log("locationState.postValue",O.postValue),console.log("locationState",O),console.log("props",e),(null===e||void 0===e?void 0:e.ancEntryType)&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"ANC ID"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"ancNo",id:"ancNo",onChange:je,value:b.ancNo,disabled:!0})}),""!==L.ancNo?Object(le.jsx)("span",{className:m.error,children:L.ancNo}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date of Enrollment ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"pmtctEnrollmentDate",id:"pmtctEnrollmentDate",onChange:je,value:re.pmtctEnrollmentDate,min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),disabled:y})}),""!==L.pmtctEnrollmentDate?Object(le.jsx)("span",{className:m.error,children:L.pmtctEnrollmentDate}):""]})}),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date Of Last Menstrual Period",Object(le.jsx)("span",{style:{color:"red"},children:"*"})," "]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"lmp",id:"lmp",onChange:je,value:null!==e&&void 0!==e&&e.ancEntryType?null===e||void 0===e||null===(d=e.patientObj)||void 0===d?void 0:d.lmp:re.lmp,max:ae()(new Date).format("YYYY-MM-DD"),disabled:null===e||void 0===e?void 0:e.ancEntryType})}),""!==L.lmp?Object(le.jsx)("span",{className:m.error,children:L.lmp}):"",0===re.gaweeks?Object(le.jsx)("span",{className:m.error,children:"Invalid date "}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Gestational Age (Weeks)"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:je,value:null!==e&&void 0!==e&&e.ancEntryType?null===e||void 0===e||null===(j=e.patientObj)||void 0===j?void 0:j.gaweeks:re.gaweeks,disabled:!0})}),""!==L.gaweeks?Object(le.jsx)("span",{className:m.error,children:L.gaweeks}):""]})})]}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Gravida ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"gravida",id:"gravida",min:"1",onChange:je,value:re.gravida,disabled:y})}),""!==L.gravida?Object(le.jsx)("span",{className:m.error,children:L.gravida}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Art Start Date ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"artStartDate",id:"artStartDate",onChange:je,value:re.artStartDate,max:ae()(new Date).format("YYYY-MM-DD"),disabled:y})}),""!==L.artStartDate?Object(le.jsx)("span",{className:m.error,children:L.artStartDate}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Timing of ART Initiation"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"artStartTime",id:"artStartTime",onChange:je,value:re.artStartTime,disabled:y,children:[Object(le.jsx)("option",{value:"",children:"Select"}),B.map((function(e,t){return Object(le.jsx)("option",{value:e.code,children:e.display},t)}))]})}),""!==L.artStartTime?Object(le.jsx)("span",{className:m.error,children:L.artStartTime}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["TB Status ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"tbStatus",id:"tbStatus",onChange:je,value:re.tbStatus,disabled:y,children:[Object(le.jsx)("option",{value:"",children:"Select"}),A.map((function(e,t){return Object(le.jsx)("option",{value:e.code,children:e.display},t)}))]})}),""!==L.tbStatus?Object(le.jsx)("span",{className:m.error,children:L.tbStatus}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["HIV Status ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"hivStatus",id:"hivStatus",disabled:!!b.hivStatus||!!b.staticHivStatus,onChange:je,value:re.hivStatus,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"}),Object(le.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==L.hivStatus?Object(le.jsx)("span",{className:m.error,children:L.hivStatus}):""]})})]}),_?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),e.hideUpdateButton&&Object(le.jsx)(le.Fragment,{children:e.activeContent&&e.activeContent.actionType?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:y,className:m.button,startIcon:Object(le.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:be,disabled:_,children:_?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:m.button,startIcon:Object(le.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:be,disabled:_,children:_?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})})})},ct=a(106),nt=a.n(ct),st=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),it=function(e){var t=e.patientObj;console.log(t);Object(i.g)();var a=st(),c=Object(r.useState)(!1),n=Object(l.a)(c,2),s=n[0],d=n[1],j=Object(r.useState)({}),b=Object(l.a)(j,2),u=(b[0],b[1],Object(r.useState)({bodyWeight:"",diastolic:"",encounterDate:"",facilityId:1,height:"",personId:"",pulse:"",respiratoryRate:"",systolic:"",temperature:"",visitId:""})),O=Object(l.a)(u,2),m=O[0],p=O[1],x=function(e){p(Object(h.a)(Object(h.a)({},m),{},Object(se.a)({},e.target.name,e.target.value)))};return Object(le.jsx)("div",{children:Object(le.jsx)($e.a,{className:a.root,children:Object(le.jsx)(et.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:"ANC Enrollment"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["ANC No ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date of 1st ANC ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate,max:ae()(new Date).format("YYYY-MM-DD")})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Gravida"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate,min:"0"})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Parity"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date Of Last Menstrual Period"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"encounterDate",id:"encounterDate",onChange:x,max:ae()(new Date).format("YYYY-MM-DD"),value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Expected Date Of Delivery "}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"Date",name:"encounterDate",id:"encounterDate",onChange:x,max:ae()(new Date).format("YYYY-MM-DD"),value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Gestational Age (Weeks)"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Time of HIV Diagnosis"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Source of Referral"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("h3",{children:"Syphilis Information"}),Object(le.jsx)("hr",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Tested for syphilis?"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Test Result"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate,max:ae()(new Date).format("YYYY-MM-DD")})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Treated for Syphilis"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Referred for syphilis treatment"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("h3",{children:"PMTCT HTS"}),Object(le.jsx)("hr",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Previously known HIV positive?"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Date tested HIV positive"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate,max:ae()(new Date).format("YYYY-MM-DD")})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Accepted HIV Testing?"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"HIV test result"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"HIV Restesting?"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Received HIV test result?"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("h3",{children:"Hepatitis Information"}),Object(le.jsx)("hr",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Tested for Hepatitis B"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Hepatitis B test result"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Tested for Hepatitis C"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Hepatitis C test result"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate})})]})}),Object(le.jsx)("h3",{children:"Partner Notification"}),Object(le.jsx)("hr",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Agreed to partner notification?"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate,children:Object(le.jsx)("option",{value:"",children:"Select"})})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Partner's HIV status"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate,children:Object(le.jsx)("option",{value:"",children:"Select"})})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Partner referred to?"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:x,value:m.encounterDate,children:Object(le.jsx)("option",{value:"",children:"Select"})})})]})})]}),s?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(le.jsx)(Le.a,{}),onClick:function(t){t.preventDefault(),d(!0),f.a.post("".concat(v,"patient/vital-sign/"),m,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){d(!1),e.patientObj.commenced=!0,o.b.success("Vital signs save successful"),e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){d(!1),o.b.error("Something went wrong")}))},children:s?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)($.a,{variant:"contained",className:a.button,startIcon:Object(le.jsx)(nt.a,{}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})},ot=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),lt=function(e){var t=e.patientObj,a=ot(),c=Object(r.useState)([]),n=Object(l.a)(c,2),s=n[0],i=n[1],d=Object(r.useState)([]),j=Object(l.a)(d,2),b=j[0],u=j[1],O=Object(r.useState)([]),m=Object(l.a)(O,2),p=m[0],x=m[1],y=Object(r.useState)(!1),N=Object(l.a)(y,2),T=N[0],S=N[1],C=Object(r.useState)(!1),R=Object(l.a)(C,2),D=R[0],w=R[1],I=Object(r.useState)({}),A=Object(l.a)(I,2),P=A[0],k=A[1],E=Object(r.useState)([]),B=Object(l.a)(E,2),Y=B[0],H=B[1],M=Object(r.useState)([]),_=Object(l.a)(M,2),z=_[0],F=_[1],V=Object(r.useState)([]),L=Object(l.a)(V,2),W=L[0],U=L[1],q=Object(r.useState)([]),G=Object(l.a)(q,2),K=G[0],X=G[1],Q=Object(r.useState)({ancNo:t.ancNo,artStartedLdWard:"",bookingStatus:"",childGivenArvWithin72:"",childStatus:"",dateOfDelivery:"",deliveryTime:"",episiotomy:"",feedingDecision:"",gaweeks:"",hbstatus:"",hcstatus:"",hivExposedInfantGivenHbWithin24hrs:"",maternalOutcome:"",maternalOutcomeChild:"",modeOfDelivery:"",onArt:"",referalSource:"",romDeliveryInterval:"",vaginalTear:"",numberOfInfantsAlive:"",numberOfInfantsDead:"",personUuid:e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid}),J=Object(l.a)(Q,2),Z=J[0],ee=J[1];Object(r.useEffect)((function(){ie(),de(),je(),oe(),re(),ne(),ce(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(te(e.activeContent.id),w("view"===e.activeContent.actionType))}),[e.patientObj.id,e.activeContent]);var te=function(t){f.a.get("".concat(v,"pmtct/anc/view-delivery/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){ee(e.data)})).catch((function(e){}))},re=function(){f.a.get("".concat(v,"application-codesets/v2/BOOKING STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){F(e.data)})).catch((function(e){}))},ce=function(){f.a.get("".concat(v,"application-codesets/v2/TIME_HIV_DIAGNOSIS_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){X(e.data)})).catch((function(e){}))},ne=function(){f.a.get("".concat(v,"application-codesets/v2/ROM_DELIVERY_INTERVAL"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){U(e.data)})).catch((function(e){}))},ie=function(){f.a.get("".concat(v,"application-codesets/v2/MODE_DELIVERY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){i(e.data)})).catch((function(e){}))},oe=function(){f.a.get("".concat(v,"application-codesets/v2/CHILD_STATUS_DELIVERY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){H(e.data)})).catch((function(e){}))},de=function(){f.a.get("".concat(v,"application-codesets/v2/FEEDING DECISION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){u(e.data)})).catch((function(e){}))},je=function(){f.a.get("".concat(v,"application-codesets/v2/MATERNAL_OUTCOME"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){x(e.data)})).catch((function(e){}))},be=function(t){if(k(Object(h.a)(Object(h.a)({},P),{},Object(se.a)({},t.target.name,""))),"dateOfDelivery"===t.target.name&&""!==t.target.value){var a;!function(){(a=a||Object(Se.a)(Object(Te.a)().mark((function a(){var r,c;return Object(Te.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.target.value,a.next=3,f.a.get("".concat(v,"pmtct/anc/calculate-ga-from-person?personUuid=").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid,"&visitDate=").concat(r),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:(c=a.sent).data>0?(Z.gaweeks=c.data,ee(Object(h.a)(Object(h.a)({},Z),{},Object(se.a)({},t.target.name,t.target.value)))):(o.b.error("Please select a validate date"),ee(Object(h.a)(Object(h.a)({},Z),{},Object(se.a)({},t.target.name,t.target.value))));case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}()}ee(Object(h.a)(Object(h.a)({},Z),{},Object(se.a)({},t.target.name,t.target.value)))},ue=function(t){t.preventDefault(),!function(){var e=Object(h.a)({},P);return e.artStartedLdWard=Z.artStartedLdWard?"":"This field is required",e.romDeliveryInterval=Z.romDeliveryInterval?"":"This field is required",e.vaginalTear=Z.vaginalTear?"":"This field is required",e.onArt=Z.onArt?"":"This field is required",e.modeOfDelivery=Z.modeOfDelivery?"":"This field is required",e.maternalOutcome=Z.maternalOutcome?"":"This field is required",e.hivExposedInfantGivenHbWithin24hrs=Z.hivExposedInfantGivenHbWithin24hrs?"":"This field is required",e.hcstatus=Z.hcstatus?"":"This field is required",e.hbstatus=Z.hbstatus?"":"This field is required",e.gaweeks=Z.gaweeks?"":"This field is required",e.feedingDecision=Z.feedingDecision?"":"This field is required",e.episiotomy=Z.episiotomy?"":"This field is required",e.deliveryTime=Z.deliveryTime?"":"This field is required",e.dateOfDelivery=Z.dateOfDelivery?"":"This field is required",e.childStatus=Z.childStatus?"":"This field is required",e.childGivenArvWithin72=Z.childGivenArvWithin72?"":"This field is required",e.bookingStatus=Z.bookingStatus?"":"This field is required",""!==Z.maternalOutcomeChild&&(e.numberOfInfantsAlive=Z.numberOfInfantsAlive?"":"This field is required"),""!==Z.maternalOutcomeChild&&(e.numberOfInfantsDead=Z.numberOfInfantsDead?"":"This field is required"),k(Object(h.a)({},e)),Object.values(e).every((function(e){return""==e}))}()?o.b.error("All field are required",{position:o.b.POSITION.BOTTOM_CENTER}):(S(!0),e.activeContent&&e.activeContent.actionType?f.a.put("".concat(v,"pmtct/anc/update-delivery/").concat(e.activeContent.id),Z,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){S(!1),o.b.success("Record updated successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){S(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})})):f.a.post("".concat(v,"pmtct/anc/pmtct-delivery"),Z,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){S(!1),e.patientObj.deliveryStatus=!0,o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){S(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})})))};return Object(le.jsx)("div",{children:Object(le.jsx)($e.a,{className:a.root,children:Object(le.jsxs)(et.a,{children:[console.log(t),Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:"Labour and Delivery"}),e.patientObj.ancNo&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"ANC ID"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"ancNo",id:"ancNo",onChange:be,value:Z.ancNo,disabled:!0})}),""!==P.ancNo?Object(le.jsx)("span",{className:a.error,children:P.ancNo}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Booking Status ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"bookingStatus",id:"bookingStatus",onChange:be,value:Z.bookingStatus,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select "}),z.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]})}),""!==P.bookingStatus?Object(le.jsx)("span",{className:a.error,children:P.bookingStatus}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date of Delivery ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"dateOfDelivery",id:"dateOfDelivery",onChange:be,value:Z.dateOfDelivery,min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),disabled:D})}),""!==P.dateOfDelivery?Object(le.jsx)("span",{className:a.error,children:P.dateOfDelivery}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Gestational Age (weeks)"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:be,value:Z.gaweeks,disabled:!0,min:"0"})}),""!==P.gaweeks?Object(le.jsx)("span",{className:a.error,children:P.gaweeks}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["ROM Delivery Interval"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"romDeliveryInterval",id:"romDeliveryInterval",onChange:be,value:Z.romDeliveryInterval,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select "}),W.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]})}),""!==P.romDeliveryInterval?Object(le.jsx)("span",{className:a.error,children:P.romDeliveryInterval}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Mode of Delivery ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)(Fe.a,{type:"select",name:"modeOfDelivery",id:"modeOfDelivery",value:Z.modeOfDelivery,onChange:be,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select "}),s.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==P.modeOfDelivery?Object(le.jsx)("span",{className:a.error,children:P.modeOfDelivery}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Episiotomy ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"episiotomy",id:"episiotomy",onChange:be,value:Z.episiotomy,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==P.episiotomy?Object(le.jsx)("span",{className:a.error,children:P.episiotomy}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Vaginal Tear ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"vaginalTear",id:"vaginalTear",onChange:be,value:Z.vaginalTear,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==P.vaginalTear?Object(le.jsx)("span",{className:a.error,children:P.vaginalTear}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Feeding decision ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"feedingDecision",id:"feedingDecision",onChange:be,value:Z.feedingDecision,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select "}),b.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]})}),""!==P.feedingDecision?Object(le.jsx)("span",{className:a.error,children:P.feedingDecision}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Child given ARV within 72 hrs"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"childGivenArvWithin72",id:"childGivenArvWithin72",onChange:be,value:Z.childGivenArvWithin72,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==P.childGivenArvWithin72?Object(le.jsx)("span",{className:a.error,children:P.childGivenArvWithin72}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["On ART? ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"onArt",id:"onArt",onChange:be,value:Z.onArt,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==P.onArt?Object(le.jsx)("span",{className:a.error,children:P.onArt}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["HIV exposed infant given Hep B within 24 hrs of birth"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"hivExposedInfantGivenHbWithin24hrs",id:"hivExposedInfantGivenHbWithin24hrs",onChange:be,value:Z.hivExposedInfantGivenHbWithin24hrs,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==P.hivExposedInfantGivenHbWithin24hrs?Object(le.jsx)("span",{className:a.error,children:P.hivExposedInfantGivenHbWithin24hrs}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Time of Diagnosis ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"deliveryTime",id:"deliveryTime",onChange:be,value:Z.deliveryTime,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select"}),K.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]})}),""!==P.deliveryTime?Object(le.jsx)("span",{className:a.error,children:P.deliveryTime}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["ART started in L&D ward"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"artStartedLdWard",id:"artStartedLdWard",onChange:be,value:Z.artStartedLdWard,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==P.artStartedLdWard?Object(le.jsx)("span",{className:a.error,children:P.artStartedLdWard}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Hepatitis B Status ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"hbstatus",id:"hbstatus",onChange:be,value:Z.hbstatus,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==P.hbstatus?Object(le.jsx)("span",{className:a.error,children:P.hbstatus}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Hepatitis C Status ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"hcstatus",id:"hcstatus",onChange:be,value:Z.hcstatus,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==P.hcstatus?Object(le.jsx)("span",{className:a.error,children:P.hcstatus}):""]})}),Object(le.jsx)("h3",{children:"Maternal Outcome"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Maternal Outcome ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"maternalOutcome",id:"maternalOutcome",onChange:be,value:Z.maternalOutcome,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select "}),p.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]})}),""!==P.maternalOutcome?Object(le.jsx)("span",{className:a.error,children:P.maternalOutcome}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Child status ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"childStatus",id:"childStatus",onChange:be,value:Z.childStatus,disabled:D,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Y.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]})}),""!==P.childStatus?Object(le.jsx)("span",{className:a.error,children:P.childStatus}):""]})}),"CHILD_STATUS_DELIVERY_ALIVE"===Z.childStatus&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Number of Child Alive"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"Number",name:"numberOfInfantsAlive",id:"numberOfInfantsAlive",onChange:be,value:Z.numberOfInfantsAlive,disabled:D,min:"0"})}),""!==P.numberOfInfantsAlive?Object(le.jsx)("span",{className:a.error,children:P.numberOfInfantsAlive}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Number of Child Dead"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"Number",name:"numberOfInfantsDead",id:"numberOfInfantsDead",onChange:be,value:Z.numberOfInfantsDead,disabled:D,min:"0"})}),""!==P.numberOfInfantsDead?Object(le.jsx)("span",{className:a.error,children:P.numberOfInfantsDead}):""]})})]})]}),T?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),e.activeContent&&e.activeContent.actionType?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:D,className:a.button,startIcon:Object(le.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:ue,disabled:T,children:T?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(le.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:ue,disabled:T,children:T?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})]})]})})})},dt=(a(96),a(197)),jt=a(28),bt=a(848),ut=a(879),Ot=a(196),ht=a.n(Ot),mt=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}}})),pt=function(e){console.log(e);var t=mt(),a=(Object(i.g)(),Object(r.useState)({})),c=Object(l.a)(a,2),n=c[0],s=c[1],d=Object(r.useState)(!1),j=Object(l.a)(d,2),b=(j[0],j[1]),u=Object(r.useState)(!1),O=Object(l.a)(u,2),m=(O[0],O[1],Object(r.useState)([])),p=Object(l.a)(m,2),x=p[0],y=p[1],N=Object(r.useState)([]),T=Object(l.a)(N,2),S=T[0],C=T[1],R=Object(r.useState)([]),D=Object(l.a)(R,2),w=D[0],I=D[1],A=Object(r.useState)([]),P=Object(l.a)(A,2),k=(P[0],P[1]),E=Object(r.useState)([]),B=Object(l.a)(E,2),Y=B[0],H=B[1],M=Object(r.useState)([]),_=Object(l.a)(M,2),z=_[0],F=_[1],V=Object(r.useState)([]),L=Object(l.a)(V,2),W=L[0],U=L[1],q=Object(h.a)({},n),G=Object(r.useState)(""),K=Object(l.a)(G,2),X=(K[0],K[1]),Q=Object(r.useState)(""),J=Object(l.a)(Q,2),Z=(J[0],J[1]),$=Object(r.useState)(""),ee=Object(l.a)($,2),ae=ee[0],re=ee[1],ce=Object(r.useState)({active:!0,personId:e.patientObj.personId,clientCode:e.patientObj&&e.patientObj.clientCode?e.patientObj.clientCode:"",breastFeeding:e.patientObj&&e.patientObj.breastFeeding?e.patientObj.breastFeeding:"",dateVisit:e.patientObj&&e.patientObj.dateVisit?e.patientObj.dateVisit:"",firstTimeVisit:e.patientObj&&e.patientObj.firstTimeVisit?e.patientObj.firstTimeVisit:"",indexClient:e.patientObj&&e.patientObj.indexClient?e.patientObj.indexClient:"",numChildren:e.patientObj&&e.patientObj.numChildren?e.patientObj.numChildren:"",numWives:e.patientObj&&e.patientObj.numWives?e.patientObj.numWives:"",pregnant:e.patientObj&&e.patientObj.pregnant?e.patientObj.pregnant:"",previouslyTested:e.patientObj?e.patientObj.previouslyTested:"",referredFrom:e.patientObj?e.patientObj.referredFrom:"",riskAssessment:e.patientObj&&e.patientObj.riskAssessment?e.patientObj.riskAssessment:{},riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:"",targetGroup:e.patientObj&&e.patientObj.targetGroup?e.patientObj.targetGroup:"",testingSetting:e.patientObj?e.patientObj.testingSetting:"",typeCounseling:e.patientObj?e.patientObj.typeCounseling:"",relationshipWithIndexClient:e.patientObj?e.patientObj.relationshipWithIndexClient:"",indexClientCode:e.patientObj?e.patientObj.indexClientCode:""}),ne=Object(l.a)(ce,2),ie=ne[0],oe=ne[1];Object(r.useEffect)((function(){de(),Oe(),he(),me(),ue(),be(),je()}),[e.patientObj]);var de=function(){f.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){y(e.data)})).catch((function(e){}))},je=function(){f.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){U(e.data)})).catch((function(e){}))},be=function(){f.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){F(e.data)})).catch((function(e){}))},ue=function(){f.a.get("".concat(v,"application-codesets/v2/COUNSELING_TYPE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){H(e.data)})).catch((function(e){}))},Oe=function(){f.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){C(e.data)})).catch((function(e){}))},he=function(){f.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){I(e.data)})).catch((function(e){}))},me=function(){f.a.get("".concat(v,"application-codesets/v2/GENDER"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){k(e.data)})).catch((function(e){}))},pe=function(e){if(s(Object(h.a)(Object(h.a)({},q),{},Object(se.a)({},e.target.name,""))),"indexClientCode"===e.target.name&&""!==e.target.value){var t;!function(){(t=t||Object(Se.a)(Object(Te.a)().mark((function t(){var a,r;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,f.a.get("".concat(v,"hts/client/").concat(a),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:"Record Not Found"!==(r=t.sent).data?(Z(""),X(r.data)):(X(""),Z(r.data));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}oe(Object(h.a)(Object(h.a)({},ie),{},Object(se.a)({},e.target.name,e.target.value)))},xe=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(jt.a)(e.completed),[a]))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(bt.a,{className:t.root,children:Object(le.jsxs)(et.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"CLIENT INTAKE FORM "}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Target Group *"}),Object(le.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:pe,value:ie.targetGroup,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),x.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==n.targetGroup?Object(le.jsx)("span",{className:t.error,children:n.targetGroup}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Client Code *"}),Object(le.jsx)(Fe.a,{type:"text",name:"clientCode",id:"clientCode",value:ie.clientCode,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==n.clientCode?Object(le.jsx)("span",{className:t.error,children:n.clientCode}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Referred From *"}),Object(le.jsxs)("select",{className:"form-control",name:"referredFrom",id:"referredFrom",onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),w.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==n.referredFrom?Object(le.jsx)("span",{className:t.error,children:n.referredFrom}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Setting*"}),Object(le.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:ie.testingSetting,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),S.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==n.testingSetting?Object(le.jsx)("span",{className:t.error,children:n.testingSetting}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Visit Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"dateVisit",id:"dateVisit",value:ie.dateVisit,onChange:pe,min:ie.dateOfRegistration,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==n.dateVisit?Object(le.jsx)("span",{className:t.error,children:n.dateVisit}):""]})}),ie.age>9&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Number of Children ","<5"," years"]}),Object(le.jsx)(Fe.a,{type:"number",name:"numChildren",id:"numChildren",min:0,value:ie.numChildren,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),ie.age>9&&"376"==ie.sexId&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Number of wives/co-wives"}),Object(le.jsx)(Fe.a,{type:"number",name:"numWives",id:"numWives",min:0,value:ie.numWives,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Index Testing"}),Object(le.jsxs)("select",{className:"form-control",name:"indexClient",id:"indexClient",value:ie.indexClient,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==n.indexClient?Object(le.jsx)("span",{className:t.error,children:n.indexClient}):""]})}),"true"===ie.indexClient&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Relationship of the index client"}),Object(le.jsxs)("select",{className:"form-control",name:"relationshipWithIndexClient",id:"relationshipWithIndexClient",value:ie.relationshipWithIndexClient,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),W.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Index Client Code/ID"}),Object(le.jsx)(Fe.a,{type:"text",name:"indexClientCode",id:"indexClientCode",value:ie.indexClientCode,onBlur:function(e){var t;!function(){(t=t||Object(Se.a)(Object(Te.a)().mark((function e(){var t;return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ie.clientCode,e.next=3,f.a.get("".concat(v,"hts/client/").concat(t),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:"Record Not Found"!==e.sent.data?re("Client code already exist"):re("");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()},onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==ae?Object(le.jsx)("span",{className:t.error,children:ae}):""]})})]}),"377"===ie.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Pregnant"}),Object(le.jsxs)("select",{className:"form-control",name:"pregnant",id:"pregnant",value:ie.pregnant,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),z.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Breast Feeding"}),Object(le.jsxs)("select",{className:"form-control",name:"breastFeeding",id:"breastFeeding",value:ie.breastFeeding,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]})]})})]}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"First time visit"}),Object(le.jsxs)("select",{className:"form-control",name:"firstTimeVisit",id:"firstTimeVisit",value:ie.firstTimeVisit,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==n.firstTimeVisit?Object(le.jsx)("span",{className:t.error,children:n.firstTimeVisit}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Previously tested within the last 3 months"}),Object(le.jsxs)("select",{className:"form-control",name:"previouslyTested",id:"previouslyTested",value:ie.previouslyTested,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==n.previouslyTested?Object(le.jsx)("span",{className:t.error,children:n.previouslyTested}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Type of Counseling"}),Object(le.jsxs)("select",{className:"form-control",name:"typeCounseling",id:"typeCounseling",value:ie.typeCounseling,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Y.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==n.typeCounseling?Object(le.jsx)("span",{className:t.error,children:n.typeCounseling}):""]})}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(ut.a,{content:"Save & Continue",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault();var a={clientCode:ie.clientCode,dateVisit:ie.dateVisit,extra:{},firstTimeVisit:ie.firstTimeVisit,indexClient:ie.indexClient,numChildren:ie.numChildren,numWives:ie.numWives,personId:e.patientObj.personId,hospitalNumber:ie.clientCode,previouslyTested:ie.previouslyTested,referredFrom:ie.referredFrom,targetGroup:ie.targetGroup,testingSetting:ie.testingSetting,typeCounseling:ie.typeCounseling,breastFeeding:ie.breastFeeding,pregnant:ie.pregnant,relationshipWithIndexClient:ie.relationshipWithIndexClient,riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:""};q.clientCode=ie.clientCode?"":"This field is required.",q.typeCounseling=ie.typeCounseling?"":"This field is required.",q.testingSetting=ie.testingSetting?"":"This field is required.",q.targetGroup=ie.targetGroup?"":"This field is required.",q.referredFrom=ie.referredFrom?"":"This field is required.",q.previouslyTested=ie.previouslyTested?"":"This field is required.",q.indexClient=ie.indexClient?"":"This field is required.",q.firstTimeVisit=ie.firstTimeVisit?"":"This field is required.",q.dateVisit=ie.dateVisit?"":"This field is required.",s(Object(h.a)({},q)),Object.values(q).every((function(e){return""==e}))?f.a.post("".concat(v,"hts"),a,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){b(!1),e.setPatientObj(t.data),e.patientAge>15?xe("pre-test-counsel","basic"):xe("hiv-test","baisc")})).catch((function(e){if(b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})}})})})]})})]})})})},xt=a(878),ft=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),vt=function(e){var t=ft(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",c=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.sex:"",n=e.patientObj&&e.patientObj?e.patientObj.id:"",s=Object(r.useState)(!1),i=Object(l.a)(s,2),d=i[0],j=i[1],b=Object(r.useState)({}),u=Object(l.a)(b,2),O=u[0],m=(u[1],Object(h.a)({},O),Object(r.useState)({sexPartnerHivPositive:"",newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""})),p=Object(l.a)(m,2),x=p[0],y=p[1],N=Object(r.useState)({htsClientId:n,knowledgeAssessment:{},personId:a,riskAssessment:{},stiScreening:{},tbScreening:{},sexPartnerRiskAssessment:{}}),T=Object(l.a)(N,2),S=T[0],C=(T[1],Object(r.useState)({previousTestedHIVNegative:"",timeLastHIVNegativeTestResult:"",clientPregnant:"",clientInformHivTransRoutes:"",clientInformRiskkHivTrans:"",clientInformPreventingsHivTrans:"",clientInformPossibleTestResult:"",informConsentHivTest:""})),R=Object(l.a)(C,2),D=R[0],w=R[1],I=Object(r.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:""}),A=Object(l.a)(I,2),P=A[0],k=A[1],E=Object(r.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:""}),B=Object(l.a)(E,2),Y=B[0],H=B[1],M=Object(r.useState)({currentCough:"",weightLoss:"",lymphadenopathy:"",fever:"",nightSweats:""}),_=Object(l.a)(M,2),z=_[0],F=_[1];Object(r.useEffect)((function(){e.patientObj&&(w(e.patientObj.knowledgeAssessment&&null!==e.patientObj.knowledgeAssessment?e.patientObj.knowledgeAssessment:{}),k(e.patientObj.riskAssessment&&null!==e.patientObj.riskAssessment?e.patientObj.riskAssessment:{}),y(e.patientObj.sexPartnerRiskAssessment&&null!==e.patientObj.sexPartnerRiskAssessment?e.patientObj.sexPartnerRiskAssessment:{}),H(e.patientObj.stiScreening&&null!==e.patientObj.stiScreening?e.patientObj.stiScreening:{}),F(e.patientObj.tbScreening&&null!==e.patientObj.tbScreening?e.patientObj.tbScreening:{}),e.patientObj.riskStratificationResponseDto&&0!==Object.keys(e.patientObj.riskStratificationResponseDto.riskAssessment).length&&null===e.patientObj.riskAssessment?k(Object(h.a)(Object(h.a)({},P),e.patientObj.riskStratificationResponseDto.riskAssessment)):k(Object(h.a)(Object(h.a)({},P),e.patientObj.riskAssessment)))}),[e.patientObj]);var V=function(t,a){e.completed.includes(a)||e.setCompleted([].concat(Object(jt.a)(e.completed),[a])),e.handleItemClick(t)},L=function(e){w(Object(h.a)(Object(h.a)({},D),{},Object(se.a)({},e.target.name,e.target.value)))},W=function(e){k(Object(h.a)(Object(h.a)({},P),{},Object(se.a)({},e.target.name,e.target.value)))},U=Object.values(P).filter((function(e){return"true"===e})),q=function(e){y(Object(h.a)(Object(h.a)({},x),{},Object(se.a)({},e.target.name,e.target.value)))},G=Object.values(x).filter((function(e){return"true"===e})),K=function(e){H(Object(h.a)(Object(h.a)({},Y),{},Object(se.a)({},e.target.name,e.target.value)))},X=Object.values(Y).filter((function(e){return"true"===e})),Q=Object(r.useState)(0),J=Object(l.a)(Q,2),Z=J[0],$=J[1],ee=function(e){if("true"===e.target.value){var t=Z+1;t>=0&&t<=5&&$(t)}if("false"===e.target.value){var a=Z-1;$(a<=0?0:a)}F(Object(h.a)(Object(h.a)({},z),{},Object(se.a)({},e.target.name,e.target.value)))};return console.log(x),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(bt.a,{className:t.root,children:Object(le.jsxs)(et.a,{children:[Object(le.jsx)("h2",{children:"PRE TEST COUNSELING"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"rgb(0,181,173)",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Knowledge Assessment"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Previously tested HIV negative *"}),Object(le.jsxs)("select",{className:"form-control",name:"previousTestedHIVNegative",id:"previousTestedHIVNegative",value:D.previousTestedHIVNegative,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.previousTestedHIVNegative?Object(le.jsx)("span",{className:t.error,children:O.previousTestedHIVNegative}):""]})}),"true"===D.previousTestedHIVNegative&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Time of last HIV Negative test Result*"}),Object(le.jsxs)("select",{className:"form-control",name:"timeLastHIVNegativeTestResult",id:"timeLastHIVNegativeTestResult",value:D.timeLastHIVNegativeTestResult,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsxs)("option",{value:"<1",children:[" ","< 1"," month"]}),Object(le.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(le.jsx)("option",{value:"4-6 Months",children:"4-6 Months"}),Object(le.jsxs)("option",{value:">6 Months",children:[" ",">6"," Months"]})]}),""!==O.timeLastHIVNegativeTestResult?Object(le.jsx)("span",{className:t.error,children:O.timeLastHIVNegativeTestResult}):""]})}),"Female"===c&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Client pregnant *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientPregnant",id:"clientPregnant",value:D.clientPregnant,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.clientPregnant?Object(le.jsx)("span",{className:t.error,children:O.clientPregnant}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Client informed about HIV transmission routes *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformHivTransRoutes",id:"clientInformHivTransRoutes",value:D.clientInformHivTransRoutes,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.clientInformHivTransRoutes?Object(le.jsx)("span",{className:t.error,children:O.clientInformHivTransRoutes}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Client informed about risk factors for HIV transmission *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformRiskkHivTrans",id:"clientInformRiskkHivTrans",value:D.clientInformRiskkHivTrans,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.clientInformRiskkHivTrans?Object(le.jsx)("span",{className:t.error,children:O.clientInformRiskkHivTrans}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Client informed on preventing HIV transmission methods *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformPreventingsHivTrans",id:"clientInformPreventingsHivTrans",value:D.clientInformPreventingsHivTrans,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.clientInformPreventingsHivTrans?Object(le.jsx)("span",{className:t.error,children:O.clientInformPreventingsHivTrans}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Client informed about possible test results *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformPossibleTestResult",id:"clientInformPossibleTestResult",value:D.clientInformPossibleTestResult,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.clientInformPossibleTestResult?Object(le.jsx)("span",{className:t.error,children:O.clientInformPossibleTestResult}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Informed consent for HIV testing given *"}),Object(le.jsxs)("select",{className:"form-control",name:"informConsentHivTest",id:"informConsentHivTest",value:D.informConsentHivTest,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.informConsentHivTest?Object(le.jsx)("span",{className:t.error,children:O.informConsentHivTest}):""]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Clinical TB screening"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Current cough *"}),Object(le.jsxs)("select",{className:"form-control",name:"currentCough",id:"currentCough",value:z.currentCough,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.currentCough?Object(le.jsx)("span",{className:t.error,children:O.currentCough}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Weight loss *"}),Object(le.jsxs)("select",{className:"form-control",name:"weightLoss",id:"weightLoss",value:z.weightLoss,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.weightLoss?Object(le.jsx)("span",{className:t.error,children:O.weightLoss}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Lymphadenopathy (swelling of the lymph nodes) *"}),Object(le.jsxs)("select",{className:"form-control",name:"lymphadenopathy",id:"lymphadenopathy",value:z.lymphadenopathy,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.lymphadenopathy?Object(le.jsx)("span",{className:t.error,children:O.lymphadenopathy}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Fever *"}),Object(le.jsxs)("select",{className:"form-control",name:"fever",id:"fever",value:z.fever,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.fever?Object(le.jsx)("span",{className:t.error,children:O.fever}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Night sweats*"}),Object(le.jsxs)("select",{className:"form-control",name:"nightSweats",id:"nightSweats",value:z.nightSweats,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.nightSweats?Object(le.jsx)("span",{className:t.error,children:O.nightSweats}):""]})}),Object(le.jsxs)(xt.a,{warning:!0,children:[Object(le.jsxs)("h4",{children:["TB Screening score (calculate the sum of the TB assessment) If score ",">= 1",", test for Xper MTB RIF or refer to TB service "]}),Object(le.jsxs)("b",{children:["Score : ",Z]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Ever had sexual intercourse "}),Object(le.jsxs)("select",{className:"form-control",name:"everHadSexualIntercourse",id:"everHadSexualIntercourse",value:P.everHadSexualIntercourse,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.everHadSexualIntercourse?Object(le.jsx)("span",{className:t.error,children:O.everHadSexualIntercourse}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Blood transfusion in last 3 months *"}),Object(le.jsxs)("select",{className:"form-control",name:"bloodtransInlastThreeMonths",id:"bloodtransInlastThreeMonths",value:P.bloodtransInlastThreeMonths,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.bloodtransInlastThreeMonths?Object(le.jsx)("span",{className:t.error,children:O.bloodtransInlastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Unprotected sex with casual partner in last 3 months *"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedSexWithCasualLastThreeMonths",id:"uprotectedSexWithCasualLastThreeMonths",value:P.uprotectedSexWithCasualLastThreeMonths,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.uprotectedSexWithCasualLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:O.uprotectedSexWithCasualLastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Unprotected sex with regular partner in the last 3months"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedSexWithRegularPartnerLastThreeMonths",id:"uprotectedSexWithRegularPartnerLastThreeMonths",value:P.uprotectedSexWithRegularPartnerLastThreeMonths,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.uprotectedSexWithRegularPartnerLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:O.uprotectedSexWithRegularPartnerLastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Unprotected vaginal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSex",id:"unprotectedVaginalSex",value:P.unprotectedVaginalSex,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.unprotectedVaginalSex?Object(le.jsx)("span",{className:t.error,children:O.unprotectedVaginalSex}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Unprotected Anal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:P.uprotectedAnalSex,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.uprotectedAnalSex?Object(le.jsx)("span",{className:t.error,children:O.uprotectedAnalSex}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"STI in last 3 months *"}),Object(le.jsxs)("select",{className:"form-control",name:"stiLastThreeMonths",id:"stiLastThreeMonths",value:P.stiLastThreeMonths,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.stiLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:O.stiLastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Sex under the influence of drugs or alcohol*"}),Object(le.jsxs)("select",{className:"form-control",name:"sexUnderInfluence",id:"sexUnderInfluence",value:P.sexUnderInfluence,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.sexUnderInfluence?Object(le.jsx)("span",{className:t.error,children:O.sexUnderInfluence}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"More than 1 sex partner during last 3 months*"}),Object(le.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:P.moreThanOneSexPartnerLastThreeMonths,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.moreThanOneSexPartnerLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:O.moreThanOneSexPartnerLastThreeMonths}):""]})}),Object(le.jsxs)(xt.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(le.jsxs)("b",{children:["Score : ",U.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{})]}),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth?"}),Object(le.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:P.experiencePain,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.experiencePain?Object(le.jsx)("span",{className:t.error,children:O.experiencePain}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? *"}),Object(le.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:P.haveSexWithoutCondom,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.haveSexWithoutCondom?Object(le.jsx)("span",{className:t.error,children:O.haveSexWithoutCondom}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you had a condom burst with your partner during sexual intercourse?  *"}),Object(le.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:P.haveCondomBurst,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.haveCondomBurst?Object(le.jsx)("span",{className:t.error,children:O.haveCondomBurst}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind?"}),Object(le.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:P.abuseDrug,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.abuseDrug?Object(le.jsx)("span",{className:t.error,children:O.abuseDrug}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you/partner had any blood or blood product transfusion?"}),Object(le.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:P.bloodTransfusion,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.bloodTransfusion?Object(le.jsx)("span",{className:t.error,children:O.bloodTransfusion}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you/partner experienced coughing, weight loss, fever, night sweats consistently?"}),Object(le.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:P.consistentWeightFeverNightCough,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.consistentWeightFeverNightCough?Object(le.jsx)("span",{className:t.error,children:O.consistentWeightFeverNightCough}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you/partner paid or sold vaginal, anal or oral sex? *"}),Object(le.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:P.soldPaidVaginalSex,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.soldPaidVaginalSex?Object(le.jsx)("span",{className:t.error,children:O.soldPaidVaginalSex}):""]})}),Object(le.jsxs)(xt.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(le.jsxs)("b",{children:["Score :",U.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{})]}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you had sex with a partner who is HIV positive? "}),Object(le.jsxs)("select",{className:"form-control",name:"sexPartnerHivPositive",id:"sexPartnerHivPositive",value:x.sexPartnerHivPositive,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.sexPartnerHivPositive?Object(le.jsx)("span",{className:t.error,children:O.sexPartnerHivPositive}):""]})}),"true"===x.sexPartnerHivPositive&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Is sex partner newly diagnosed with HIV and started treatment less than 3-6 months ago?*"}),Object(le.jsxs)("select",{className:"form-control",name:"newDiagnosedHivlastThreeMonths",id:"newDiagnosedHivlastThreeMonths",value:x.newDiagnosedHivlastThreeMonths,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.newDiagnosedHivlastThreeMonths?Object(le.jsx)("span",{className:t.error,children:O.newDiagnosedHivlastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Is sex partner pregnant and currently receiving ARV for PMTCT?*"}),Object(le.jsxs)("select",{className:"form-control",name:"currentlyArvForPmtct",id:"currentlyArvForPmtct",value:x.currentlyArvForPmtct,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.currentlyArvForPmtct?Object(le.jsx)("span",{className:t.error,children:O.currentlyArvForPmtct}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Known HIV positive partner on ARV with an unsurpressed VL"}),Object(le.jsxs)("select",{className:"form-control",name:"knowHivPositiveOnArv",id:"knowHivPositiveOnArv",value:x.knowHivPositiveOnArv,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.knowHivPositiveOnArv?Object(le.jsx)("span",{className:t.error,children:O.knowHivPositiveOnArv}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Known HIV positive recently returned to treatment after being lost to follow up"}),Object(le.jsxs)("select",{className:"form-control",name:"knowHivPositiveAfterLostToFollowUp",id:"knowHivPositiveAfterLostToFollowUp",value:x.knowHivPositiveAfterLostToFollowUp,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.knowHivPositiveAfterLostToFollowUp?Object(le.jsx)("span",{className:t.error,children:O.knowHivPositiveAfterLostToFollowUp}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Unprotected Anal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:x.uprotectedAnalSex,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.uprotectedAnalSex?Object(le.jsx)("span",{className:t.error,children:O.uprotectedAnalSex}):""]})})]}),Object(le.jsxs)(xt.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Sex Partner Risk Assessment score (sum of all 6 answers)"}),Object(le.jsxs)("b",{children:["Score :",G.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientObj&&"Female"===e.patientObj.personResponseDto.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(le.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:Y.vaginalDischarge,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.vaginalDischarge?Object(le.jsx)("span",{className:t.error,children:O.vaginalDischarge}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(le.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:Y.lowerAbdominalPains,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.lowerAbdominalPains?Object(le.jsx)("span",{className:t.error,children:O.lowerAbdominalPains}):""]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientObj.personResponseDto.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(le.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:Y.urethralDischarge,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.urethralDischarge?Object(le.jsx)("span",{className:t.error,children:O.urethralDischarge}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Complaints of scrotal swelling and pain"}),Object(le.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:Y.complaintsOfScrotal,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.complaintsOfScrotal?Object(le.jsx)("span",{className:t.error,children:O.complaintsOfScrotal}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(le.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:Y.complaintsGenitalSore,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==O.complaintsGenitalSore?Object(le.jsx)("span",{className:t.error,children:O.complaintsGenitalSore}):""]})})]}),Object(le.jsxs)(xt.a,{warning:!0,children:[Object(le.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test "]}),Object(le.jsxs)("b",{children:["Score :",X.length]})]}),d?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(ut.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return V("basic","basic")}}),Object(le.jsx)(ut.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),S.htsClientId=n,S.knowledgeAssessment=D,S.personId=a,S.riskAssessment=P,S.stiScreening=Y,S.tbScreening=z,S.sexPartnerRiskAssessment=x,f.a.put("".concat(v,"hts/").concat(n,"/pre-test-counseling"),S,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){j(!1),e.setPatientObj(t.data),V("hiv-test","pre-test-counsel")})).catch((function(e){if(j(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})},gt=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),yt=function(e){var t=gt(),a=Object(r.useState)(!1),c=Object(l.a)(a,2),n=c[0],s=c[1],i=Object(r.useState)({}),d=Object(l.a)(i,2),j=d[0],b=d[1],u=Object(h.a)({},j);console.log(e.patientObj);var O=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",m=e.patientObj&&e.patientObj?e.patientObj.id:"",p=Object(r.useState)(""),x=Object(l.a)(p,2),y=x[0],N=x[1],T=Object(r.useState)(!0),S=Object(l.a)(T,2),C=S[0],R=S[1],D=function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),c=new Date(r),n=t.getFullYear()-c.getFullYear(),s=t.getMonth()-c.getMonth();return(s<0||0===s&&t.getDate()<c.getDate())&&n--,0===n?s+" month(s)":n}(te(e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:0).format("DD-MM-YYYY")),w=Object(r.useState)({confirmatoryTest:{},confirmatoryTest2:{},hivTestResult:"",hivTestResult2:"",htsClientId:"",personId:e.patientObj?e.patientObj.id:"",test1:{},test2:{},tieBreakerTest:{},tieBreakerTest2:{},syphilisTesting:{},hepatitisTesting:{},others:{},cd4:{}}),I=Object(l.a)(w,2),A=I[0],P=(I[1],Object(r.useState)({date:"",result:""})),k=Object(l.a)(P,2),E=k[0],B=k[1],Y=Object(r.useState)({date2:"",result2:""}),H=Object(l.a)(Y,2),M=H[0],_=H[1],z=function(e){W(Object(h.a)(Object(h.a)({},L),{},Object(se.a)({},e.target.name,e.target.value)))},F=Object(r.useState)({cd4Count:"",cd4SemiQuantitative:"",cd4FlowCyteometry:""}),V=Object(l.a)(F,2),L=V[0],W=V[1],U=function(e){"No"===e.target.value?(B(Object(h.a)(Object(h.a)({},E),{},Object(se.a)({},e.target.name,e.target.value))),Q({date:"",result:""}),oe({date:"",result:""}),R(!1)):(B(Object(h.a)(Object(h.a)({},E),{},Object(se.a)({},e.target.name,e.target.value))),R(!0))},q=function(e){"No"===e.target.value?(_(Object(h.a)(Object(h.a)({},M),{},Object(se.a)({},e.target.name,e.target.value))),ee({date2:"",result2:""}),ue({date2:"",result2:""}),R(!1)):(_(Object(h.a)(Object(h.a)({},M),{},Object(se.a)({},e.target.name,e.target.value))),R(!0))},G=Object(r.useState)({date:"",result:""}),K=Object(l.a)(G,2),X=K[0],Q=K[1],J=Object(r.useState)({date2:"",result2:""}),Z=Object(l.a)(J,2),$=Z[0],ee=Z[1],ae=function(e){Q(Object(h.a)(Object(h.a)({},X),{},Object(se.a)({},e.target.name,e.target.value))),"Yes"===E.result&&e.target.value,R(!0)},re=function(e){ee(Object(h.a)(Object(h.a)({},$),{},Object(se.a)({},e.target.name,e.target.value))),"Yes"===M.result2&&e.target.value,R(!0)},ce=Object(r.useState)({date:"",result:""}),ne=Object(l.a)(ce,2),ie=ne[0],oe=ne[1],de=Object(r.useState)({date2:"",result2:""}),je=Object(l.a)(de,2),be=je[0],ue=je[1],Oe=function(e){oe(Object(h.a)(Object(h.a)({},ie),{},Object(se.a)({},e.target.name,e.target.value))),"No"===X.result&&"Yes"===e.target.value?R(!0):"No"===X.result&&"No"===e.target.value?R(!1):R(!0)},he=function(e){ue(Object(h.a)(Object(h.a)({},be),{},Object(se.a)({},e.target.name,e.target.value))),"No"===$.result2&&"Yes"===e.target.value?R(!0):"No"===$.result2&&"No"===e.target.value?R(!1):R(!0)},me=Object(r.useState)({syphilisTestResult:""}),pe=Object(l.a)(me,2),xe=pe[0],fe=pe[1],ve=Object(r.useState)({hepatitisCTestResult:"",hepatitisBTestResult:"",longitude:"",latitude:"",adhocCode:""}),ge=Object(l.a)(ve,2),ye=ge[0],Ne=ge[1],Te=function(e){Ne(Object(h.a)(Object(h.a)({},ye),{},Object(se.a)({},e.target.name,e.target.value)))},Se=Object(r.useState)({longitude:"",latitude:"",adhocCode:""}),Ce=Object(l.a)(Se,2),Re=Ce[0],we=Ce[1];Object(r.useEffect)((function(){e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?N(e.patientObj.dateVisit):N(""),W(e.patientObj&&null!==e.patientObj.cd4?e.patientObj.cd4:{}),oe(e.patientObj&&null!==e.patientObj.tieBreakerTest?e.patientObj.tieBreakerTest:{}),fe(e.patientObj&&null!==e.patientObj.syphilisTesting?e.patientObj.syphilisTesting:{}),Ne(e.patientObj&&null!==e.patientObj.hepatitisTesting?e.patientObj.hepatitisTesting:{}),we(e.patientObj&&null!==e.patientObj.others?e.patientObj.others:{}))}),[e.patientObj]);var Ie=function(e){we(Object(h.a)(Object(h.a)({},Re),{},Object(se.a)({},e.target.name,e.target.value)))},Ae=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(jt.a)(e.completed),[a]))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(bt.a,{className:t.root,children:Object(le.jsxs)(et.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"REQUEST AND RESULT FORM"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(De.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"HIV TEST RESULT"})}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),Object(le.jsx)("h4",{children:"Initial HIV Test 1:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date",id:"date",value:E.date,onChange:U,min:""!==y&&null!==y?y:"",max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date?Object(le.jsx)("span",{className:t.error,children:j.date}):""]})}),E.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:E.result,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===E.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result?Object(le.jsx)("span",{className:t.error,children:j.result}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===E.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date",id:"date",value:X.date,onChange:ae,min:E.date,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.dateOfEac1?Object(le.jsx)("span",{className:t.error,children:j.dateOfEac1}):""]})}),X.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:X.result,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===X.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===X.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date",id:"date",value:ie.date,onChange:Oe,min:X.date,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),ie.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:ie.result,onChange:Oe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===ie.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group  col-md-12",children:["No"===E.result&&Object(le.jsx)(De.a,{color:"green",children:"Negative"}),"No"===E.result&&"No"===X.result&&Object(le.jsx)(De.a,{color:"green",children:"Negative"}),"Yes"===E.result&&"Yes"===X.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(De.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Initial HIV Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:" Date "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:M.date2,onChange:q,min:X.date,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(le.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Result  "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:M.result2,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===M.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(le.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===M.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:$.date2,onChange:re,min:M.date2,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:$.result2,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===$.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===$.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:be.date2,onChange:he,min:$.date2,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:be.result2,onChange:he,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===be.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===X.result&&"Yes"===ie.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(De.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Initial HIV Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:M.date2,onChange:q,min:ie.date,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(le.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Result  "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:M.result2,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===M.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(le.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===M.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:$.date2,onChange:re,min:M.date2,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:$.result2,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===$.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===$.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:be.date2,onChange:he,min:$.date2,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:be.result2,onChange:he,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===be.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===X.result&&"No"===ie.result&&("Yes"===E.result||"Yes"===E.result||""===E.result)&&Object(le.jsx)(De.a,{color:"green",children:"Negative"}),M.result2&&"No"===M.result2&&Object(le.jsx)(De.a,{color:"green",children:"Negative"}),"No"===M.result2&&"No"===$.result2&&Object(le.jsx)(De.a,{color:"green",children:"Negative"}),"Yes"===M.result2&&"Yes"===$.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(De.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{})]}),"No"===$.result2&&"Yes"===be.result2&&Object(le.jsx)(De.a,{color:"red",children:"Positive"}),"No"===$.result2&&"No"===be.result2&&("Yes"===M.result2||"Yes"===M.result2||""===M.result2)&&Object(le.jsx)(De.a,{color:"green",children:"Negative"})]})}),C&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(De.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"CD4 Count"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"CD4 Count "}),Object(le.jsxs)("select",{className:"form-control",name:"cd4Count",id:"cd4Count",value:L.cd4Count,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Semi-Quantitative",children:"Semi-Quantitative"}),Object(le.jsx)("option",{value:"Flow Cyteometry",children:"Flow Cyteometry"})]})]})}),"Semi-Quantitative"===L.cd4Count&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"CD4 Count Value"}),Object(le.jsxs)("select",{className:"form-control",name:"cd4SemiQuantitative",id:"cd4SemiQuantitative",value:L.cd4SemiQuantitative,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Semi-Quantitative",children:"<200"}),Object(le.jsx)("option",{value:"Flow Cyteometry",children:">=200"})]})]})}),"Flow Cyteometry"===L.cd4Count&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"CD4 Count Value"}),Object(le.jsx)(Fe.a,{type:"text",name:"cd4FlowCyteometry",id:"cd4FlowCyteometry",value:L.cd4FlowCyteometry,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-7"})]}),Object(le.jsx)(De.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Syphilis test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",value:xe.syphilisTestResult,onChange:function(e){fe(Object(h.a)(Object(h.a)({},xe),{},Object(se.a)({},e.target.name,e.target.value)))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(le.jsx)(De.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis Testing"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Hepatitis B virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",value:ye.hepatitisBTestResult,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Hepatitis C virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",value:ye.hepatitisCTestResult,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)(De.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Others"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Longitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"longitude",id:"longitude",value:Re.longitude,onChange:Ie,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Latitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"latitude",id:"latitude",value:Re.latitude,onChange:Ie,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Adhoc Code"}),Object(le.jsx)(Fe.a,{type:"number",name:"adhocCode",id:"adhocCode",value:Re.adhocCode,onChange:Ie,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[D<=15?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(ut.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return Ae("basic","basic")}})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(ut.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return Ae("pre-test-counsel","pre-test-counsel")}})}),Object(le.jsx)(ut.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),""!==E.date&&(u.date=E.result?"":"This field is required."),b(Object(h.a)({},u)),Object.values(u).every((function(e){return""==e}))&&("No"===M.result2?A.hivTestResult2="Negative":"Yes"===M.result2&&"Yes"===$.result2||"No"===$.result2&&"Yes"===be.result2?A.hivTestResult2="Positive":"No"===$.result2&&"No"===be.result2?A.hivTestResult2="Negative":A.hivTestResult2="","No"===E.result?A.hivTestResult="Negative":"Yes"===E.result&&"Yes"===X.result||"No"===X.result&&"Yes"===ie.result?A.hivTestResult="Positive":"No"===X.result&&"No"===ie.result?A.hivTestResult="Negative":A.hivTestResult="",A.htsClientId=m,A.confirmatoryTest=X,A.confirmatoryTest2=$,A.personId=O,A.test1=E,A.test2=M,A.tieBreakerTest=ie,A.tieBreakerTest2=be,A.syphilisTesting=xe,A.hepatitisTesting=ye,A.cd4=L,A.others=Re,f.a.put("".concat(v,"hts/").concat(m,"/request-result"),A,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){s(!1),e.setPatientObj(t.data),Ae("post-test","hiv-test")})).catch((function(e){if(s(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))}})]})})]})})]})})})},Nt=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Tt=function(e){var t=Nt(),a=Object(r.useState)(!1),c=Object(l.a)(a,2),n=c[0],s=c[1],i=Object(r.useState)({}),d=Object(l.a)(i,2),j=d[0],b=(d[1],Object(r.useState)([])),u=Object(l.a)(b,2),O=u[0],m=u[1],p=Object(r.useState)([]),x=Object(l.a)(p,2),y=x[0],N=x[1],T=Object(r.useState)(!0),S=Object(l.a)(T,2),C=S[0],R=S[1],D=Object(r.useState)([]),w=Object(l.a)(D,2),I=w[0],A=w[1],P=Object(r.useState)([]),k=Object(l.a)(P,2),E=k[0],B=k[1],Y=Object(r.useState)(""),H=Object(l.a)(Y,2),M=H[0],_=H[1],z=Object(r.useState)({htsClientId:null,indexNotificationServicesElicitation:{},personId:null}),F=Object(l.a)(z,2),V=(F[0],F[1],Object(r.useState)({firstName:"",middleName:"",lastName:"",dob:"",phoneNumber:"",altPhoneNumber:"",sex:"",htsClientId:e&&e.patientObj?e.patientObj.id:"",physicalHurt:"",threatenToHurt:"",address:"",hangOutSpots:"",relativeToIndexClient:"",currentlyLiveWithPartner:"",partnerTestedPositive:"",sexuallyUncomfortable:"",notificationMethod:"",datePartnerCameForTesting:""})),L=Object(l.a)(V,2),W=L[0],U=L[1];Object(r.useEffect)((function(){q(),X(),G(),K(),e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?_(e.patientObj.dateVisit):_(""))}),[e.patientObj]);var q=function(){f.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){m(e.data)})).catch((function(e){}))},G=function(){f.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){A(e.data)})).catch((function(e){}))},K=function(){f.a.get("".concat(v,"application-codesets/v2/CONSENT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){B(e.data)})).catch((function(e){}))},X=function(){f.a.get("".concat(v,"application-codesets/v2/NOTIFICATION_CONTACT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){N(e.data)})).catch((function(e){}))},Q=function(t){e.handleIClickPage(t)},J=function(e){if("firstName"===e.target.name&&""!==e.target.value){var t=ee(e.target.value);U(Object(h.a)(Object(h.a)({},W),{},Object(se.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var a=ee(e.target.value);U(Object(h.a)(Object(h.a)({},W),{},Object(se.a)({},e.target.name,a)))}if("middleName"===e.target.name&&""!==e.target.value){var r=ee(e.target.value);U(Object(h.a)(Object(h.a)({},W),{},Object(se.a)({},e.target.name,r)))}U(Object(h.a)(Object(h.a)({},W),{},Object(se.a)({},e.target.name,e.target.value)))},Z=function(e){"Actual"==e.target.value?(W.isDateOfBirthEstimated=!1,R(!0)):"Estimated"==e.target.value&&(W.isDateOfBirthEstimated=!0,R(!1))},$=function(e,t){U(Object(h.a)(Object(h.a)({},W),{},Object(se.a)({},t,e.slice(0,10))))},ee=function(e){return e.replace(/[^a-z]/gi,"")};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(bt.a,{className:t.root,children:Object(le.jsxs)(et.a,{children:[Object(le.jsxs)("h2",{style:{color:"#000"},children:["Index Notification Services - Elicitation",Object(le.jsx)(ut.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return Q("list")},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:" Back To Client Index List"})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"First Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"firstName",id:"firstName",value:W.firstName,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Middle Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"middleName",id:"middleName",value:W.middleName,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Last Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"lastName",id:"lastName",value:W.lastName,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return Z(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return Z(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Date"}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",max:te(new Date).format("YYYY-MM-DD"),value:W.dob,onChange:function(e){if(e.target.value){var t=new Date,a=new Date(e.target.value),r=t.getFullYear()-a.getFullYear(),c=t.getMonth()-a.getMonth();(c<0||0===c&&t.getDate()<a.getDate())&&r--,W.age=r}else U(Object(h.a)(Object(h.a)({},W),{},{age:""}));U(Object(h.a)(Object(h.a)({},W),{},Object(se.a)({},e.target.name,e.target.value))),U(Object(h.a)(Object(h.a)({},W),{},{dob:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:W.age,disabled:C,onChange:function(e){if(!C&&e.target.value){var t=new Date;t.setDate(15),t.setMonth(5);var a=te(t.toISOString()).add(-1*e.target.value,"years");U(Object(h.a)(Object(h.a)({},W),{},{dob:te(a).format("YYYY-MM-DD")})),W.dob=te(a).format("YYYY-MM-DD")}U(Object(h.a)(Object(h.a)({},W),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Phone Number"}),Object(le.jsx)(ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:W.phoneNumber,onChange:function(e){$(e,"phoneNumber")}}),""!==j.phoneNumber?Object(le.jsx)("span",{className:t.error,children:j.phoneNumber}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Alternative Phone Number"}),Object(le.jsx)(ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"altPhoneNumber",id:"altPhoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:W.altPhoneNumber,onChange:function(e){$(e,"altPhoneNumber")}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Sex *"}),Object(le.jsxs)("select",{className:"form-control",name:"sex",id:"sex",value:W.sex,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),O.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Address"}),Object(le.jsx)(Fe.a,{type:"text",name:"address",id:"address",value:W.address,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Hang-out spots"}),Object(le.jsx)(Fe.a,{type:"text",name:"hangOutSpots",id:"hangOutSpots",value:W.hangOutSpots,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Relationship to Index Client *"}),Object(le.jsxs)("select",{className:"form-control",name:"relativeToIndexClient",id:"relativeToIndexClient",value:W.relativeToIndexClient,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),I.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Do you currently live with this partner? *"}),Object(le.jsxs)("select",{className:"form-control",name:"currentlyLiveWithPartner",id:"currentlyLiveWithPartner",value:W.currentlyLiveWithPartner,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"As far as you know, as this partner ever tested positive for HIV *"}),Object(le.jsxs)("select",{className:"form-control",name:"partnerTestedPositive",id:"partnerTestedPositive",value:W.partnerTestedPositive,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),E.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Has this partner ever hit, kick, slapped or otherwise physical hurt you? *"}),Object(le.jsxs)("select",{className:"form-control",name:"physicalHurt",id:"physicalHurt",value:W.physicalHurt,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),E.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Has this partner ever threaten to hurt you? *"}),Object(le.jsxs)("select",{className:"form-control",name:"threatenToHurt",id:"threatenToHurt",value:W.threatenToHurt,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),E.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Has this partner ever threaten force you to do something sexually that made you uncomfortable ?  *"}),Object(le.jsxs)("select",{className:"form-control",name:"sexuallyUncomfortable",id:"sexuallyUncomfortable",value:W.sexuallyUncomfortable,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),E.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Notification Method selected*"}),Object(le.jsxs)("select",{className:"form-control",name:"notificationMethod",id:"notificationMethod",value:W.notificationMethod,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),y.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"If contract by which date will partner come for testing?"}),Object(le.jsx)(Fe.a,{type:"date",name:"datePartnerCameForTesting",id:"datePartnerCameForTesting",value:W.datePartnerCameForTesting,onChange:J,min:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==j.datePartnerComeForTesting?Object(le.jsx)("span",{className:t.error,children:j.datePartnerComeForTesting}):""]})}),n?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(ut.a,{content:"Save",icon:"save",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(e){e.preventDefault(),W.isDateOfBirthEstimated=1==W.isDateOfBirthEstimated?1:0,f.a.post("".concat(v,"index-elicitation"),W,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){s(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),Q("list")})).catch((function(e){if(s(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))}})})})]})})]})})})},St={Add:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Y.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(V.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(I.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(C.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))}))},Ct=(Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t,a=Object(r.useState)([]),c=Object(l.a)(a,2),n=c[0],s=c[1];e.patientObj&&e.patientObj.id&&e.patientObj.id;Object(r.useEffect)((function(){!function(){(t=t||Object(Se.a)(Object(Te.a)().mark((function t(){return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.a.get("".concat(v,"hts/").concat(e.patientObj.id,"/index-elicitation"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){console.log(e.data),s(e.data)})).catch((function(e){}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}),[]);var i=function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),c=new Date(r),n=t.getFullYear()-c.getFullYear(),s=t.getMonth()-c.getMonth();return(s<0||0===s&&t.getDate()<c.getDate())&&n--,0===n?s+" month(s)":n+" year(s)"};return Object(le.jsxs)("div",{children:[Object(le.jsx)(ut.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return t="add",void e.handleIClickPage(t);var t},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"New Index Client "})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(p.a,{icons:St,title:"List of index client ",columns:[{title:"Name",field:"name"},{title:"Age",field:"age"},{title:"Phone Number",field:"phone"},{title:"Adress",field:"address"},{title:"Actions",field:"actions",filtering:!1}],data:n.map((function(e){return{name:e.firstName+" "+e.lastName,age:i(ae()(e.dob).format("DD-MM-YYYY")),phone:e.phoneNumber,address:e.address,actions:Object(le.jsx)(le.Fragment,{})}})),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})]})}),Rt=function(e){var t=Object(r.useState)("list"),a=Object(l.a)(t,2),c=a[0],n=a[1],s=function(e){n(e)};return Object(le.jsx)(r.Fragment,{children:Object(le.jsx)(d.a,{children:Object(le.jsxs)(j.a,{md:12,children:["list"===c&&Object(le.jsx)(Ct,{activePage:c,setActivePage:n,handleIClickPage:s,patientObj:e.patientObj}),"add"===c&&Object(le.jsx)(Tt,{activePage:c,setActivePage:n,handleIClickPage:s,patientObj:e.patientObj}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(ut.a,{content:"Done",icon:"list",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){e.setActivePage(Object(h.a)(Object(h.a)({},e.activePage),{},{activePage:"recent-history"}))}})})})]})})})},Dt=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),wt=function(e){var t=Dt(),a=Object(r.useState)(!1),c=Object(l.a)(a,2),n=c[0],s=(c[1],Object(r.useState)({})),i=Object(l.a)(s,2);i[0],i[1];return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(bt.a,{className:t.root,children:Object(le.jsxs)(et.a,{children:[Object(le.jsxs)("h3",{children:["OTHERS - (Resquest ","& "," Result Form)"]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(De.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Syphilis test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)(De.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis B Testing"})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Hepatitis B virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Hepatitis C virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResultCT",id:"hivRequestResultCT",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Completed By"}),Object(le.jsx)(Fe.a,{type:"number",name:"completedBy",id:"completedBy",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Longitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"longitude",id:"longitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Latitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"latitude",id:"latitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Adhoc Code"}),Object(le.jsx)(Fe.a,{type:"number",name:"adhocCode",id:"adhocCode",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)($.a,{type:"button",variant:"contained",color:"primary",className:t.button,startIcon:Object(le.jsx)(Le.a,{}),onClick:function(){return t="basic",a="others",e.handleItemClick(t),void(e.completed.includes(a)||e.setCompleted([].concat(Object(jt.a)(e.completed),[a])));var t,a},style:{backgroundColor:"#014d88"},children:n?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})]})})})},It=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),At=function(e){var t=It(),a=Object(i.g)(),c=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",n=e.patientObj&&e.patientObj?e.patientObj.id:"",s=Object(r.useState)(!1),d=Object(l.a)(s,2),j=d[0],b=d[1];console.log(e.patientObj);var u=Object(r.useState)({htsClientId:n,postTestCounselingKnowledgeAssessment:{},personId:c}),O=Object(l.a)(u,2),m=O[0],p=(O[1],Object(r.useState)({hivTestResult:"",hivTestBefore:"",hivRequestResult:"",hivRequestResultCt:"",clientReceivedHivTestResult:"",postTestCounseling:"",riskReduction:"",postTestDisclosure:"",bringPartnerHivtesting:"",childrenHivtesting:"",informationFp:"",partnerFpThanCondom:"",partnerFpUseCondom:"",correctCondomUse:"",condomProvidedToClient:"",unprotectedSexRegularPartnerLastThreeMonth:"",referredToServices:""})),x=Object(l.a)(p,2),y=x[0],N=x[1];Object(r.useEffect)((function(){e.patientObj&&e.patientObj.postTestCounselingKnowledgeAssessment?N(e.patientObj.postTestCounselingKnowledgeAssessment):""!==y.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Positive"!==e.patientObj.hivTestResult&&"Positive"!==e.patientObj.hivTestResult2?""!==y.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Negative"!==e.patientObj.hivTestResult&&"Negative"!==e.patientObj.hivTestResult2||(y.hivTestResult="False",N(Object(h.a)(Object(h.a)({},y),{},{hivTestResult:"False"}))):(y.hivTestResult="True",N(Object(h.a)(Object(h.a)({},y),{},{hivTestResult:"True"})))}),[e.patientObj,y.hivTestResult]);var T=function(e){N(Object(h.a)(Object(h.a)({},y),{},Object(se.a)({},e.target.name,e.target.value)))},S=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(jt.a)(e.completed),[a]))},C=function(t){t.preventDefault(),Object.values(y).every((function(e){return""===e}))?o.b.error("All post test fields are required"):(m.htsClientId=e.patientObj.id,m.postTestCounselingKnowledgeAssessment=y,m.personId=e.patientObj.personResponseDto.id,f.a.put("".concat(v,"hts/").concat(e.patientObj.id,"/post-test-counseling"),m,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){b(!1),e.setPatientObj(t.data),"True"===y.hivTestResult?S("recency-testing","post-test"):"False"===y.hivTestResult&&a.push("/")})).catch((function(e){if(b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))};return console.log(y.hivTestResult),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(bt.a,{className:t.root,children:Object(le.jsxs)(et.a,{children:[Object(le.jsx)("h2",{children:"POST TEST COUNSELING"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(De.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"HIV test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivTestResult",id:"hivTestResult",value:y.hivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"True",children:"Positive"}),Object(le.jsx)("option",{value:"False",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you been tested for HIV before within this year? *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivTestBefore",id:"hivTestBefore",value:y.hivTestBefore,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Not previously tested",children:"Not previously tested"}),Object(le.jsx)("option",{value:"Previously tested negative",children:"Previously tested negative"}),Object(le.jsx)("option",{value:"Previously tested positive in HIV care",children:"Previously tested positive in HIV care"}),Object(le.jsx)("option",{value:"Previously tested positive not in HIV care",children:"Previously tested positive not in HIV care"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"HIV Request and Result form signed by tester *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResult",id:"hivRequestResult",value:y.hivRequestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResultCt",id:"hivRequestResultCt",value:y.hivRequestResultCt,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Client received HIV test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientReceivedHivTestResult",id:"clientReceivedHivTestResult",value:y.clientReceivedHivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Post test counseling done *"}),Object(le.jsxs)("select",{className:"form-control",name:"postTestCounseling",id:"postTestCounseling",value:y.postTestCounseling,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Risk reduction plan developed *"}),Object(le.jsxs)("select",{className:"form-control",name:"riskReduction",id:"riskReduction",value:y.riskReduction,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Post test disclosure plan developed *"}),Object(le.jsxs)("select",{className:"form-control",name:"postTestDisclosure",id:"postTestDisclosure",value:y.postTestDisclosure,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Will bring partner(s) for HIV testing *"}),Object(le.jsxs)("select",{className:"form-control",name:"bringPartnerHivtesting",id:"bringPartnerHivtesting",value:y.bringPartnerHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Will bring own children ","<5"," years for HIV testing *"]}),Object(le.jsxs)("select",{className:"form-control",name:"childrenHivtesting",id:"childrenHivtesting",value:y.childrenHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Provided with information on FP and dual contraception *"}),Object(le.jsxs)("select",{className:"form-control",name:"informationFp",id:"informationFp",value:y.informationFp,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Client/Partner use FP methods (other than condom)*"}),Object(le.jsxs)("select",{className:"form-control",name:"partnerFpThanCondom",id:"partnerFpThanCondom",value:y.partnerFpThanCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Client/Partner use condoms as (one) FP method "}),Object(le.jsxs)("select",{className:"form-control",name:"partnerFpUseCondom",id:"partnerFpUseCondom",value:y.partnerFpUseCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Correct condom use demonstrated *"}),Object(le.jsxs)("select",{className:"form-control",name:"correctCondomUse",id:"correctCondomUse",value:y.correctCondomUse,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Condoms provided to client *"}),Object(le.jsxs)("select",{className:"form-control",name:"condomProvidedToClient",id:"condomProvidedToClient",value:y.condomProvidedToClient,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Client referred to other services *"}),Object(le.jsxs)("select",{className:"form-control",name:"referredToServices",id:"referredToServices",value:y.referredToServices,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)(xt.a,{success:!0,children:Object(le.jsxs)("h4",{children:["If client tests HIV negative, and HIV Risk Assessment Score ",">0"," or there is evidence for a STI syndrome, recommend re-testing after 3 months"]})}),j?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(ut.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return S("hiv-test","hiv-test")}}),"True"===y.hivTestResult&&Object(le.jsx)(ut.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:C}),"False"===y.hivTestResult&&Object(le.jsx)(ut.a,{content:"Save & Finish",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:C})]})})]})})]})})})},Pt=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),kt=function(e){var t=Pt(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",c=e.patientObj&&e.patientObj?e.patientObj.id:"",n=Object(r.useState)(!1),s=Object(l.a)(n,2),i=s[0],d=s[1],j=Object(r.useState)({}),b=Object(l.a)(j,2),u=b[0],O=b[1],m=Object(r.useState)(""),p=Object(l.a)(m,2),x=p[0],y=p[1],N=Object(h.a)({},u),T=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(jt.a)(e.completed),[a]))},S=Object(r.useState)({htsClientId:c,recency:{},personId:a}),C=Object(l.a)(S,2),R=C[0],D=(C[1],Object(r.useState)({optOutRTRI:"",optOutRTRITestName:"",optOutRTRITestDate:"",rencencyId:"",controlLine:"",verififcationLine:"",longTermLine:"",rencencyInterpretation:"",hasViralLoad:"",sampleCollectedDate:"",sampleReferanceNumber:"",dateSampleSentToPCRLab:"",sampleTestDate:"",sampleType:"",receivingPcrLab:"",viralLoadResultClassification:"",recencyResult:"",finalRecencyResult:""})),w=Object(l.a)(D,2),I=w[0],A=w[1];Object(r.useEffect)((function(){e.patientObj&&(A(e.patientObj&&null!==e.patientObj.recency?e.patientObj.recency:{}),e.patientObj.confirmatoryTest&&""!==e.patientObj.confirmatoryTest.date?y(e.patientObj.confirmatoryTest.date):e.patientObj.confirmatoryTest2&&""!==e.patientObj.confirmatoryTest2.date2?y(e.patientObj.confirmatoryTest2.date2):y("")),"true"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Long Term",A(Object(h.a)(Object(h.a)({},I),{},Object(se.a)({},"rencencyInterpretation","Long Term")))):"false"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Recent",A(Object(h.a)(Object(h.a)({},I),{},Object(se.a)({},"rencencyInterpretation","Recent")))):"false"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Negative",A(Object(h.a)(Object(h.a)({},I),{},Object(se.a)({},"rencencyInterpretation","Negative")))):"true"===I.longTermLine&&"true"===I.verififcationLine&&"false"===I.controlLine||"true"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Invalid",A(Object(h.a)(Object(h.a)({},I),{},Object(se.a)({},"rencencyInterpretation","Invalid")))):A(Object(h.a)(Object(h.a)({},I),{},Object(se.a)({},"rencencyInterpretation","")))}),[I.longTermLine,I.verififcationLine,I.controlLine,e.patientObj]),console.log(e.patientObj);var P=function(e){if(O(Object(h.a)(Object(h.a)({},N),{},Object(se.a)({},e.target.name,""))),"viralLoadResultClassification"===e.target.name)">=1000"===e.target.value?(I.finalRecencyResult="RITA Recent",A(Object(h.a)(Object(h.a)({},I),{},Object(se.a)({},e.target.name,e.target.value)))):"<1000"===e.target.value?(I.finalRecencyResult="RITA Long term",A(Object(h.a)(Object(h.a)({},I),{},Object(se.a)({},e.target.name,e.target.value)))):"Failed run"===e.target.value||"Invalid viral load result"===e.target.value?(I.finalRecencyResult="RITA Inconclusive",A(Object(h.a)(Object(h.a)({},I),{},Object(se.a)({},e.target.name,e.target.value)))):A(Object(h.a)(Object(h.a)({},I),{},Object(se.a)({},e.target.name,e.target.value)));else if("rencencyId"===e.target.name&&""!==e.target.value){var t=k(e.target.value);A(Object(h.a)(Object(h.a)({},I),{},Object(se.a)({},e.target.name,t)))}else A(Object(h.a)(Object(h.a)({},I),{},Object(se.a)({},e.target.name,e.target.value)))},k=function(e){return e.slice(0,10)};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(bt.a,{className:t.root,children:Object(le.jsxs)(et.a,{children:[Object(le.jsx)("h2",{children:"RECENCY FORM"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(De.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"RENCENCY"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Opt Out of RTRI?*"}),Object(le.jsxs)("select",{className:"form-control",name:"optOutRTRI",id:"optOutRTRI",value:I.optOutRTRI,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-8"}),"false"===I.optOutRTRI&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Test Name *"}),Object(le.jsxs)("select",{className:"form-control",name:"optOutRTRITestName",id:"optOutRTRITestName",value:I.optOutRTRITestName,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Asante",children:"Asante"}),Object(le.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Test Date *"}),Object(le.jsx)(Fe.a,{type:"date",name:"optOutRTRITestDate",id:"optOutRTRITestDate",value:I.optOutRTRITestDate,onChange:P,min:""!==x&&null!==x?x:"",max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Recency ID *"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"rencencyId",id:"rencencyId",type:"text",value:I.rencencyId,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Control Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"controlLine",id:"controlLine",value:I.controlLine,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Verification Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"verififcationLine",id:"verififcationLine",value:I.verififcationLine,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Long Term Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"longTermLine",id:"longTermLine",value:I.longTermLine,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Recency Interpretation *"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"rencencyInterpretation",id:"rencencyInterpretation",type:"text",value:I.rencencyInterpretation,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),"Recent"===I.rencencyInterpretation&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Has viral load request been made? *"}),Object(le.jsxs)("select",{className:"form-control",name:"hasViralLoad",id:"hasViralLoad",value:I.hasViralLoad,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===I.hasViralLoad&&Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Viral Load Classification :"}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Sample Collected Date"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sampleCollectedDate",id:"sampleCollectedDate",type:"date",value:I.sampleCollectedDate,min:I.optOutRTRITestDate,max:te(new Date).format("YYYY-MM-DD"),onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Sample Refernce Number"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sampleReferanceNumber",id:"sampleReferanceNumber",type:"text",value:I.sampleReferanceNumber,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.sampleReferanceNumber?Object(le.jsx)("span",{className:t.error,children:u.sampleReferanceNumber}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Sample Type"}),Object(le.jsxs)("select",{className:"form-control",name:"sampleType",id:"sampleType",value:I.sampleType,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"DBS",children:"DBS"}),Object(le.jsx)("option",{value:"Plasma",children:"Plasma"})]}),""!==u.sampleType?Object(le.jsx)("span",{className:t.error,children:u.sampleType}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Date Sample Sent to PCR Lab"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"dateSampleSentToPCRLab",id:"dateSampleSentToPCRLab",type:"date",min:I.optOutRTRITestDate,value:I.dateSampleSentToPCRLab,max:te(new Date).format("YYYY-MM-DD"),onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.dateSampleSentToPCRLab?Object(le.jsx)("span",{className:t.error,children:u.dateSampleSentToPCRLab}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Sample Test Date"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sampleTestDate",id:"sampleTestDate",type:"date",min:I.optOutRTRITestDate,max:te(new Date).format("YYYY-MM-DD"),value:I.sampleTestDate,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Receiving PCR Lab"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"receivingPcrLab",id:"receivingPcrLab",type:"text",value:I.receivingPcrLab,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Viral Load Result Classification and Result (copies/ml)"}),Object(le.jsxs)("select",{className:"form-control",name:"viralLoadResultClassification",id:"viralLoadResultClassification",value:I.viralLoadResultClassification,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsxs)("option",{value:">=1000",children:[">= "," 1000"]}),Object(le.jsxs)("option",{value:"<1000",children:["< "," 1000"]}),Object(le.jsx)("option",{value:"Failed run",children:"Failed run"}),Object(le.jsx)("option",{value:"Invalid viral load result",children:"Invalid viral load result"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Final Recency Result"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"finalRecencyResult",id:"finalRecencyResult",type:"text",disabled:!0,value:I.finalRecencyResult,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]}),i?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(ut.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return T("post-test","post-test")}}),Object(le.jsx)(ut.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),R.htsClientId=c,R.recency=I,R.personId=a,console.log(I),f.a.put("".concat(v,"hts/").concat(c,"/recency"),R,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){d(!1),e.setPatientObj(t.data),T("indexing","recency-testing")})).catch((function(e){if(d(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})},Et=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}}})),Bt=function(e){var t=Et();Object(i.g)();console.log(e);var a,n=Object(r.useState)([]),s=Object(l.a)(n,2),d=s[0],j=s[1],b=Object(r.useState)([]),u=Object(l.a)(b,2),O=u[0],m=u[1],p=Object(r.useState)({}),x=Object(l.a)(p,2),y=x[0],N=x[1],T=Object(r.useState)(!1),S=Object(l.a)(T,2),C=(S[0],S[1]),R=Object(h.a)({},y),D=c.a.useState(!1),w=Object(l.a)(D,2),I=w[0],A=w[1],P=function(){return A(!I)},k=Object(r.useState)([]),E=Object(l.a)(k,2),B=E[0],Y=E[1],H=Object(r.useState)(0),M=Object(l.a)(H,2),_=M[0],z=M[1],F=Object(r.useState)({age:e.patientAge,dob:"",visitDate:"",dateOfBirth:"",dateOfRegistration:"",isDateOfBirthEstimated:"",targetGroup:"",testingSetting:"",modality:"",code:"",personId:e.patientObj.personId,riskAssessment:{},entryPoint:""}),V=Object(l.a)(F,2),L=V[0],W=V[1],U=Object(r.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:"",lastHivTestForceToHaveSex:"",lastHivTestHadAnal:"",lastHivTestInjectedDrugs:"",whatWasTheResult:"",lastHivTestDone:"",diagnosedWithTb:"",lastHivTestPainfulUrination:"",lastHivTestBloodTransfusion:"",lastHivTestVaginalOral:"",lastHivTestBasedOnRequest:""}),q=Object(l.a)(U,2),G=q[0],K=q[1];Object(r.useEffect)((function(){Q(),X()}),[e.patientObj]);var X=function(){f.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){j(e.data)})).catch((function(e){}))},Q=function(){f.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){m(e.data)})).catch((function(e){}))},J=function(e){N(Object(h.a)(Object(h.a)({},R),{},Object(se.a)({},e.target.name,""))),"testingSetting"===e.target.name&&""!==e.target.value&&(!function(e){var t=e;f.a.get("".concat(v,"application-codesets/v2/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){Y(e.data)})).catch((function(e){}))}(e.target.value),W(Object(h.a)(Object(h.a)({},L),{},Object(se.a)({},e.target.name,e.target.value)))),"modality"===e.target.name&&""!==e.target.value&&("TEST_SETTING_STANDALONE_HTS_PMTCT_(ANC1_ONLY)"===e.target.value?(z(1),W(Object(h.a)(Object(h.a)({},L),{},Object(se.a)({},e.target.name,e.target.value)))):"TEST_SETTING_STANDALONE_HTS_EMERGENCY"===e.target.value?W(Object(h.a)(Object(h.a)({},L),{},Object(se.a)({},e.target.name,e.target.value))):"TEST_SETTING_STANDALONE_HTS_INDEX"===e.target.value||"TEST_SETTING_STANDALONE_HTS_PMTCT_(POST_ANC1:_PREGNANCYL&DBF)"===e.target.value||"TEST_SETTING_STANDALONE_HTS_STI"===e.target.value||"TEST_SETTING_STANDALONE_HTS_TB"===e.target.value||"TEST_SETTING_CT_STI"===e.target.value||"TEST_SETTING_CT_PMTCT"===e.target.value||"TEST_SETTING_CT_TB"===e.target.value||"TEST_SETTING_TB_TB"===e.target.value||"TEST_SETTING_STI_STI"===e.target.value?(z(1),W(Object(h.a)(Object(h.a)({},L),{},Object(se.a)({},e.target.name,e.target.value)))):"TEST_SETTING_OPD_STI"===e.target.value?W(Object(h.a)(Object(h.a)({},L),{},Object(se.a)({},e.target.name,e.target.value))):"TEST_SETTING_OUTREACH_INDEX"===e.target.value?(z(1),W(Object(h.a)(Object(h.a)({},L),{},Object(se.a)({},e.target.name,e.target.value)))):(z(0),W(Object(h.a)(Object(h.a)({},L),{},Object(se.a)({},e.target.name,e.target.value))))),W(Object(h.a)(Object(h.a)({},L),{},Object(se.a)({},e.target.name,e.target.value)))};var Z=function(){return R.dateVisit=L.visitDate?"":"This field is required.",R.testingSetting=L.testingSetting?"":"This field is required.",R.modality=L.modality?"":"This field is required.",e.patientObj.age>15&&(R.targetGroup=L.targetGroup?"":"This field is required."),N(Object(h.a)({},R)),Object.values(R).every((function(e){return""==e}))},$=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(jt.a)(e.completed),[a]))},ee=Object.values(G);a=ee.filter((function(e){return"true"===e}));var ae=function(e){K(Object(h.a)(Object(h.a)({},G),{},Object(se.a)({},e.target.name,e.target.value)))};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(bt.a,{className:t.root,children:Object(le.jsxs)(et.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"RISK STRATIFICATION"}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Modality"}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Entry Point "}),Object(le.jsxs)("select",{className:"form-control",name:"entryPoint",id:"entryPoint",value:L.entryPoint,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Facility",children:"Facility"}),Object(le.jsx)("option",{value:"Community",children:"Community"})]}),""!==y.entryPoint?Object(le.jsx)("span",{className:t.error,children:y.entryPoint}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"",children:"Visit Date * "}),Object(le.jsx)(Fe.a,{type:"date",name:"visitDate",id:"visitDate",value:L.visitDate,onChange:J,min:"1983-12-31",max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==y.dateVisit?Object(le.jsx)("span",{className:t.error,children:y.dateVisit}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Setting"}),Object(le.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:L.testingSetting,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),d.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==y.testingSetting?Object(le.jsx)("span",{className:t.error,children:y.testingSetting}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Modality"}),Object(le.jsxs)("select",{className:"form-control",name:"modality",id:"modality",value:L.modality,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),B.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.code)}))]}),""!==y.modality?Object(le.jsx)("span",{className:t.error,children:y.modality}):""]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Target Group *"}),Object(le.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:J,value:L.targetGroup,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),O.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==y.targetGroup?Object(le.jsx)("span",{className:t.error,children:y.targetGroup}):""]})}),Object(le.jsx)("br",{}),e.patientAge>15&&Object(le.jsxs)(le.Fragment,{children:[""!==L.targetGroup&&"TARGET_GROUP_GEN_POP"===L.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Is this HIV test based on a Clinician/Doctor/Health Care Provider\u2019s  request? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestBasedOnRequest",id:"lastHivTestBasedOnRequest",value:G.lastHivTestBasedOnRequest,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestBasedOnRequest?Object(le.jsx)("span",{className:t.error,children:y.lastHivTestBasedOnRequest}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"When was your last HIV test done?  *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestDone",id:"lastHivTestDone",value:G.lastHivTestDone,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestDone?Object(le.jsx)("span",{className:t.error,children:y.lastHivTestDone}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"What was the result? *"}),Object(le.jsxs)("select",{className:"form-control",name:"whatWasTheResult",id:"whatWasTheResult",value:G.whatWasTheResult,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.whatWasTheResult?Object(le.jsx)("span",{className:t.error,children:y.whatWasTheResult}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Since your last HIV test, have you had anal or vaginal or oral sex without a condom with someone who was HIV positive or unaware of their HIV status? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestVaginalOral",id:"lastHivTestVaginalOral",value:G.lastHivTestVaginalOral,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestVaginalOral?Object(le.jsx)("span",{className:t.error,children:y.lastHivTestVaginalOral}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Since your last HIV test, have you had a blood or blood product transfusion? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestBloodTransfusion",id:"lastHivTestBloodTransfusion",value:G.lastHivTestBloodTransfusion,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestBloodTransfusion?Object(le.jsx)("span",{className:t.error,children:y.lastHivTestBloodTransfusion}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Since your last HIV test, have you experienced painful urination, lower abdominal pain, vaginal or penile discharge, pain during sexual intercourse, thick, cloudy, or foul smelling discharge and/or small bumps or blisters near the mouth, penis, vagina, or anal areas? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestPainfulUrination",id:"lastHivTestPainfulUrination",value:G.lastHivTestPainfulUrination,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestPainfulUrination?Object(le.jsx)("span",{className:t.error,children:y.lastHivTestPainfulUrination}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you been diagnosed with TB or currently have any of the following symptoms : cough, fever, weight loss, night sweats? *"}),Object(le.jsxs)("select",{className:"form-control",name:"diagnosedWithTb",id:"diagnosedWithTb",value:G.diagnosedWithTb,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.diagnosedWithTb?Object(le.jsx)("span",{className:t.error,children:y.diagnosedWithTb}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Since your last HIV test, have you ever injected drugs, shared needles or other sharp objects with someone known to be HIV positive or who you didn\u2019t know their HIV status? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestInjectedDrugs",id:"sexUnderInfluence",value:G.lastHivTestInjectedDrugs,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestInjectedDrugs?Object(le.jsx)("span",{className:t.error,children:y.lastHivTestInjectedDrugs}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Since your last HIV test, have you had anal, oral or vaginal sex in exchange for money or other benefits? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestHadAnal",id:"lastHivTestHadAnal",value:G.lastHivTestHadAnal,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestHadAnal?Object(le.jsx)("span",{className:t.error,children:y.lastHivTestHadAnal}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Since your last HIV test, have you been forced to have sex? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestForceToHaveSex",id:"moreThanOneSexPartnerLastThreeMonths",value:G.lastHivTestForceToHaveSex,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestForceToHaveSex?Object(le.jsx)("span",{className:t.error,children:y.lastHivTestForceToHaveSex}):""]})}),Object(le.jsx)("br",{})]}),""!==L.targetGroup&&"TARGET_GROUP_GEN_POP"!==L.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth?"}),Object(le.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:G.experiencePain,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.experiencePain?Object(le.jsx)("span",{className:t.error,children:y.experiencePain}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? *"}),Object(le.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:G.haveSexWithoutCondom,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.haveSexWithoutCondom?Object(le.jsx)("span",{className:t.error,children:y.haveSexWithoutCondom}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you had a condom burst with your partner during sexual intercourse?  *"}),Object(le.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:G.haveCondomBurst,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.haveCondomBurst?Object(le.jsx)("span",{className:t.error,children:y.haveCondomBurst}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind?"}),Object(le.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:G.abuseDrug,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.abuseDrug?Object(le.jsx)("span",{className:t.error,children:y.abuseDrug}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you/partner had any blood or blood product transfusion?"}),Object(le.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:G.bloodTransfusion,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.bloodTransfusion?Object(le.jsx)("span",{className:t.error,children:y.bloodTransfusion}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you/partner experienced coughing, weight loss, fever, night sweats consistently?"}),Object(le.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:G.consistentWeightFeverNightCough,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.consistentWeightFeverNightCough?Object(le.jsx)("span",{className:t.error,children:y.consistentWeightFeverNightCough}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Have you/partner paid or sold vaginal, anal or oral sex? *"}),Object(le.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:G.soldPaidVaginalSex,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.soldPaidVaginalSex?Object(le.jsx)("span",{className:t.error,children:y.soldPaidVaginalSex}):""]})}),Object(le.jsx)("br",{})]})]}),Object(le.jsx)("br",{}),Object(le.jsxs)(xt.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score "}),Object(le.jsxs)("b",{children:["Score :",_+(e.patientAge>15?a.length:0)]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(ut.a,{content:"Save",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),e.patientObj.targetGroup=L.targetGroup,e.patientObj.testingSetting=L.testingSetting,e.patientObj.dateVisit=L.visitDate,e.patientObj.riskAssessment=G,L.riskAssessment=G,(_>0||a.length>0)&&e.patientAge>15&&(Z()?f.a.post("".concat(v,"risk-stratification"),L,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){C(!1),L.code=t.data.code,e.setExtra(L),$("basic","risk"),e.setHideOtherMenu(!1)})).catch((function(e){if(C(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})),e.patientAge<15?Z()?f.a.post("".concat(v,"risk-stratification"),L,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){C(!1),e.patientObj.riskStratificationResponseDto=t.data,L.code=t.data.code,e.setExtra(L),e.setHideOtherMenu(!1),$("basic","risk")})).catch((function(e){if(C(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...")})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}):(e.setExtra(L),Z()?f.a.post("".concat(v,"risk-stratification"),L,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){C(!1),e.patientObj.riskStratificationResponseDto=t.data,L.code=t.data.code,e.setExtra(L)})).catch((function(e){if(C(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}))}})})})]})})]})}),Object(le.jsxs)(oe.a,{show:I,toggle:P,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(le.jsx)(oe.a.Header,{children:Object(le.jsx)(oe.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(oe.a.Body,{children:Object(le.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(le.jsx)(oe.a.Footer,{children:Object(le.jsx)(ut.a,{onClick:P,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})},Yt=Object(Ee.a)((function(e){return{error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),Ht=function(e){Yt(),Object(i.g)(),Object(i.h)().state;var t=Object(r.useState)(!1),a=Object(l.a)(t,2),c=(a[0],a[1],Object(r.useState)("hiv-test")),n=Object(l.a)(c,2),s=n[0],d=n[1],j=Object(r.useState)([]),b=Object(l.a)(j,2),u=b[0],O=b[1],h=Object(r.useState)(!0),m=Object(l.a)(h,2),p=(m[0],m[1]),x=Object(r.useState)({breastFeeding:"",capturedBy:"",cd4:{},clientCode:"",riskStratificationCode:"",confirmatoryTest:{},dateVisit:"",extra:{},firstTimeVisit:"",hepatitisTesting:{},hivTestResult:"",id:"",indexClient:"",indexClientCode:"",indexElicitation:[{address:"",altPhoneNumber:"",archived:0,currentlyLiveWithPartner:!0,datePartnerCameForTesting:"",dob:"",extra:{},facilityId:0,firstName:"",hangOutSpots:"",htsClient:{archived:0,breastFeeding:0,capturedBy:"",cd4:{},clientCode:"",confirmatoryTest:{},dateVisit:"",extra:{},facilityId:0,firstTimeVisit:!0,hepatitisTesting:{},hivTestResult:"",id:0,indexClient:!0,indexClientCode:"",indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:0,numWives:0,others:{},person:{active:"",address:{},archived:0,contact:{},contactPoint:{},createdDate:"",dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",facilityId:0,firstName:"string",gender:{},hospitalNumber:"",id:"",identifier:{},isDateOfBirthEstimated:!0,lastModifiedDate:"",maritalStatus:{},new:!0,ninNumber:"",organization:{},otherName:"",sex:"",surname:"",uuid:""},personUuid:"",postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:!0,recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:0,tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",uuid:""},htsClientUuid:"",id:"",isDateOfBirthEstimated:!0,lastName:"",middleName:"",notificationMethod:"",partnerTestedPositive:"",phoneNumber:"",physicalHurt:"",relationshipToIndexClient:"",sex:"",sexuallyUncomfortable:"",threatenToHurt:"",uuid:""}],indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:"",numWives:"",others:{},personId:e.patientObj.personId,personResponseDto:{active:!0,address:{address:[{city:"",line:[""],stateId:"",district:"",countryId:1,postalCode:"",organisationUnitId:0}]},biometricStatus:!0,checkInDate:"",contact:{},contactPoint:{contactPoint:[{type:"phone",value:""}]},dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",encounterDate:"",facilityId:"",firstName:"",gender:{},id:"",identifier:{},isDateOfBirthEstimated:!0,maritalStatus:{},ninNumber:"",organization:{},otherName:"",sex:"",surname:"",visitId:""},postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:"",recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:"",tbScreening:{},test1:{},test2:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",riskStratificationResponseDto:null}),f=Object(l.a)(x,2),v=f[0],g=f[1],y=Object(r.useState)({risk:"",index:"",pre:"",post:"",recency:"",elicitation:""}),N=Object(l.a)(y,2),T=N[0],S=N[1],C=function(e){d(e)};return Object(r.useEffect)((function(){}),[]),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)($e.a,{children:Object(le.jsx)(et.a,{children:Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h3",{children:"PMTCT - HIV COUNSELLING AND TESTING"}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"col-md-3 col-sm-3 col-lg-3",children:Object(le.jsxs)(ke.a,{size:"large",vertical:!0,style:{backgroundColor:"#014D88"},children:[Object(le.jsx)(ke.a.Item,{name:"inbox",active:"hiv-test"===s,onClick:function(){return C("hiv-test")},style:{backgroundColor:"hiv-test"===s?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Request ","&"," Result Form",u.includes("hiv-test")&&Object(le.jsx)(dt.a,{name:"check",color:"green"})]})}),Object(le.jsx)(ke.a.Item,{name:"spam",active:"recency-testing"===s,onClick:function(){return C("recency-testing")},style:{backgroundColor:"recency-testing"===s?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["HIV Recency Testing",u.includes("recency-testing")&&Object(le.jsx)(dt.a,{name:"check",color:"green"})]})}),Object(le.jsx)(ke.a.Item,{name:"spam",active:"indexing"===s,onClick:function(){return C("indexing")},style:{backgroundColor:"indexing"===s?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Index Notification Services - Elicitation",u.includes("indexing")&&Object(le.jsx)(dt.a,{name:"check",color:"green"})]})})]})}),Object(le.jsxs)("div",{className:"col-md-9 col-sm-9 col-lg-9 ",style:{backgroundColor:"#fff",margingLeft:"-50px",paddingLeft:"-20px"},children:["risk"===s&&Object(le.jsx)(Bt,{handleItemClick:C,setCompleted:O,completed:u,setPatientObj:g,patientObj:v,setHideOtherMenu:p,patientAge:e.patientObj.age,setExtra:S,extra:T,activePage:e.activePage,setActivePage:e.setActivePage}),"basic"===s&&Object(le.jsx)(pt,{handleItemClick:C,setCompleted:O,completed:u,setPatientObj:g,patientObj:v,clientCode:e.clientCode,patientAge:e.patientObj.age,setExtra:S,extra:T}),"pre-test-counsel"===s&&Object(le.jsx)(vt,{handleItemClick:C,setCompleted:O,completed:u,setPatientObj:g,patientObj:v,clientCode:e.clientCode,patientAge:e.patientObj.age}),"hiv-test"===s&&Object(le.jsx)(yt,{handleItemClick:C,setCompleted:O,completed:u,setPatientObj:g,patientObj:v,clientCode:e.clientCode,patientAge:e.patientObj.age}),"post-test"===s&&Object(le.jsx)(At,{handleItemClick:C,setCompleted:O,completed:u,setPatientObj:g,patientObj:v,clientCode:e.clientCode,patientAge:e.patientObj.age,patientsHistory:e.patients}),"indexing"===s&&Object(le.jsx)(Rt,{handleItemClick:C,setCompleted:O,completed:u,setPatientObj:g,patientObj:v,clientCode:e.clientCode,patientAge:e.patientObj.age}),"recency-testing"===s&&Object(le.jsx)(kt,{handleItemClick:C,setCompleted:O,completed:u,setPatientObj:g,patientObj:v,clientCode:e.clientCode,patientAge:e.patientObj.age}),"others"===s&&Object(le.jsx)(wt,{handleItemClick:C,setCompleted:O,completed:u,setPatientObj:g,patientObj:v,clientCode:e.clientCode,patientAge:e.patientObj.age})]})]})})})})]})},Mt=a(870),_t={Add:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Y.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(V.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(I.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(C.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))}))},zt=function(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],i=Object(r.useState)(!0),d=Object(l.a)(i,2),j=d[0],b=d[1],u=c.a.useState(!1),O=Object(l.a)(u,2),m=O[0],x=O[1],y=Object(r.useState)(!1),N=Object(l.a)(y,2),T=N[0],S=N[1],C=Object(r.useState)(null),R=Object(l.a)(C,2),D=R[0],w=R[1],I=function(){return x(!m)};Object(r.useEffect)((function(){A()}),[e.patientObj.id]);var A=function(){b(!0),f.a.get("".concat(v,"pmtct/anc/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){b(!1),s(null!==e.data.partnerInformation?[e.data.partnerInformation]:[])})).catch((function(e){}))},P=function(t,a){e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"add-partner",id:t,actionType:a,obj:t}))};return Object(le.jsxs)("div",{children:[n&&n.length<=0&&Object(le.jsx)(ut.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return P()},style:{backgroundColor:"#014d88"},startIcon:Object(le.jsx)(me.a,{size:"10"}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"New Partner"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(p.a,{icons:_t,title:"List of Partners ",columns:[{title:"Partner Name",field:"name"},{title:"Partner Age",field:"age"},{title:"Pre-test Counseled",field:"pre"},{title:"Partner Accept HIV Test",field:"hiv"},{title:"Post-Test Counseled",field:"post"},{title:"HBV Status",field:"hbv"},{title:"HCV Status",field:"hcv"},{title:"Syphillis Status",field:"syphillis"},{title:"Referred To",field:"referred",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:j,data:n.map((function(e){return{name:e.fullName,age:e.age,pre:e.preTestCounseled,hiv:e.acceptHivTest,post:e.postTestCounseled,hbv:e.hbStatus,hcv:e.hbStatus,syphillis:e.syphillisStatus,referred:e.referredTo,actions:Object(le.jsx)("div",{children:Object(le.jsx)(ke.a.Menu,{position:"right",children:Object(le.jsx)(ke.a.Item,{children:Object(le.jsx)(ut.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(le.jsx)(Mt.a,{item:!0,text:"Action",children:Object(le.jsxs)(Mt.a.Menu,{style:{marginTop:"10px"},children:[Object(le.jsxs)(Mt.a.Item,{onClick:function(){return P(e,"view")},children:[" ",Object(le.jsx)(dt.a,{name:"eye"}),"View  "]}),Object(le.jsxs)(Mt.a.Item,{onClick:function(){return P(e,"update")},children:[Object(le.jsx)(dt.a,{name:"edit"}),"Edit"]}),Object(le.jsxs)(Mt.a.Item,{onClick:function(){return function(e){I(),w(e)}(e)},children:[" ",Object(le.jsx)(dt.a,{name:"trash"})," Delete"]})]})})})})})})}})),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(le.jsxs)(oe.a,{show:m,toggle:I,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(le.jsx)(oe.a.Header,{children:Object(le.jsx)(oe.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(oe.a.Body,{children:Object(le.jsxs)("h4",{children:["Are you Sure you want to delete - ",Object(le.jsx)("b",{children:D&&D.fullName})]})}),Object(le.jsxs)(oe.a.Footer,{children:[Object(le.jsx)(ut.a,{onClick:function(){return S(!0),void f.a.delete("".concat(v,"pmtct/anc/delete/partnerinfo/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),A(),I(),S(!1)})).catch((function(e){if(S(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))},style:{backgroundColor:"red",color:"#fff"},disabled:T,children:!1===T?"Yes":"Deleting..."}),Object(le.jsx)(ut.a,{onClick:I,style:{backgroundColor:"#014d88",color:"#fff"},disabled:T,children:"No"})]})]})]})},Ft={Add:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Y.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(V.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(I.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(C.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))}))},Vt=function(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],i=Object(r.useState)([]),d=Object(l.a)(i,2),j=d[0],b=d[1],u=Object(r.useState)(!0),O=Object(l.a)(u,2),m=O[0],x=O[1],y=Object(r.useState)(0),N=Object(l.a)(y,2),T=N[0],S=N[1],C=c.a.useState(!1),R=Object(l.a)(C,2),D=R[0],w=R[1],I=Object(r.useState)(!1),A=Object(l.a)(I,2),P=A[0],k=A[1],E=Object(r.useState)(null),B=Object(l.a)(E,2),Y=B[0],H=B[1],M=function(){return w(!D)};Object(r.useEffect)((function(){_(),z()}),[]);var _=function(){x(!0),f.a.get("".concat(v,"pmtct/anc/get-infant-by-mother-person-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){x(!1),s(e.data)})).catch((function(e){}))},z=function(){x(!0),e.patientObj.ancNo?f.a.get("".concat(v,"pmtct/anc/view-delivery2/").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){x(!1),b(e.data.dateOfDelivery),S(e.data&&e.data.numberOfInfantsAlive?e.data.numberOfInfantsAlive:0)})).catch((function(e){})):f.a.get("".concat(v,"pmtct/anc/view-delivery-with-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){x(!1),b(e.data.dateOfDelivery),S(e.data&&e.data.numberOfInfantsAlive?e.data.numberOfInfantsAlive:0)})).catch((function(e){}))},F=function(t,a){e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"add-infant",id:null===t||void 0===t?void 0:t.id,actionType:a,obj:t}))},V=function(t){k(!0),f.a.delete("".concat(v,"pmtct/anc/delete/infantinfo/").concat(t.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){o.b.success("Record Deleted Successfully"),x(!0),f.a.get("".concat(v,"pmtct/anc/get-infant-by-ancno/").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){x(!1),s(e.data)})).catch((function(e){})),M(),k(!1)})).catch((function(e){if(k(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))};return Object(le.jsxs)("div",{children:[n.length<T&&T>n.length&&"POINT_ENTRY_PMTCT_POSTNATAL_WARD"!==e.patientObj.entryPoint&&"621"!==e.patientObj.entryPoint&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(ut.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return F(j,"create")},style:{backgroundColor:"#014d88"},startIcon:Object(le.jsx)(me.a,{size:"10"}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"New Infant"})})}),"POINT_ENTRY_PMTCT_POSTNATAL_WARD"===e.patientObj.entryPoint||"621"===e.patientObj.entryPoint&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(ut.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return F(j,"create")},style:{backgroundColor:"#014d88"},startIcon:Object(le.jsx)(me.a,{size:"10"}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"New Infant"})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(p.a,{icons:Ft,title:"List of Infants ",columns:[{title:"Infant Name",field:"name"},{title:"Hospital No.",field:"hospital"},{title:"ANC NO.",field:"anc"},{title:"Age",field:"nin"},{title:"Date of Delivery",field:"date"},{title:"Sex",field:"sex",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:m,data:n.map((function(e){return{name:e.firstName+" "+e.surname,hospital:e.hospitalNumber,anc:e.ancNo,nin:"0"!==e.nin&&"1"!==e.nin?e.nin+" Months":e.nin+" Month",sex:e.sex,date:e.dateOfDelivery,actions:Object(le.jsx)("div",{children:Object(le.jsx)(ke.a.Menu,{position:"right",children:Object(le.jsx)(ke.a.Item,{children:Object(le.jsx)(ut.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(le.jsx)(Mt.a,{item:!0,text:"Action",children:Object(le.jsxs)(Mt.a.Menu,{style:{marginTop:"10px"},children:[Object(le.jsxs)(Mt.a.Item,{onClick:function(){return F(e,"view")},children:[" ",Object(le.jsx)(dt.a,{name:"eye"}),"View"," "]}),Object(le.jsxs)(Mt.a.Item,{onClick:function(){return F(e,"update")},children:[Object(le.jsx)(dt.a,{name:"edit"}),"Edit"]}),Object(le.jsxs)(Mt.a.Item,{onClick:function(){return function(e){M(),H(e)}(e)},children:[" ",Object(le.jsx)(dt.a,{name:"trash"})," Delete"]})]})})})})})})}})),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(le.jsxs)(oe.a,{show:D,toggle:M,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(le.jsx)(oe.a.Header,{children:Object(le.jsx)(oe.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(oe.a.Body,{children:Object(le.jsxs)("h4",{children:["Are you Sure you want to delete -"," ",Object(le.jsx)("b",{children:Y&&Y.firstName+" "+Y.surname})]})}),Object(le.jsxs)(oe.a.Footer,{children:[Object(le.jsx)(ut.a,{onClick:function(){return V(Y)},style:{backgroundColor:"red",color:"#fff"},disabled:P,children:!1===P?"Yes":"Deleting..."}),Object(le.jsx)(ut.a,{onClick:M,style:{backgroundColor:"#014d88",color:"#fff"},disabled:P,children:"No"})]})]})]})},Lt=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),Wt=function(e){e.patientObj;var t,a,c=Lt(),n=Object(r.useState)(!1),s=Object(l.a)(n,2),i=s[0],d=s[1],j=Object(r.useState)(!1),b=Object(l.a)(j,2),u=b[0],O=b[1],m=Object(r.useState)({}),p=Object(l.a)(m,2),x=p[0],y=p[1],N=Object(r.useState)([]),T=Object(l.a)(N,2),S=T[0],C=T[1],R=Object(r.useState)([]),D=Object(l.a)(R,2),w=D[0],I=D[1],A=Object(r.useState)(""),P=Object(l.a)(A,2),k=P[0],E=P[1],B=Object(r.useState)({age:"",dateOfBirth:"",fullName:"",hbStatus:"",hcStatus:"",postTestCounseled:"",referredTo:"",syphillsStatus:"",referredToOthers:""}),Y=Object(l.a)(B,2),H=Y[0],M=Y[1];Object(r.useEffect)((function(){var t,a;if(_(),z(),e.activeContent&&e.activeContent.id&&(M(e.activeContent.obj),O("view"===e.activeContent.actionType)),e.patientObj.hivStatus)E(e.patientObj.hivStatus);else if(null!==e&&void 0!==e&&null!==(t=e.patientObj)&&void 0!==t&&t.staticHivStatus){var r;E(null===e||void 0===e||null===(r=e.patientObj)||void 0===r?void 0:r.staticHivStatus)}else if(null!==e&&void 0!==e&&null!==(a=e.patientObj)&&void 0!==a&&a.dynamicHivStatus){var c;E(null===e||void 0===e||null===(c=e.patientObj)||void 0===c?void 0:c.dynamicHivStatus)}}),[e.patientObj.id,e.activeContent]);var _=function(){f.a.get("".concat(v,"application-codesets/v2/PARTNER_SYPHILIS_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){C(e.data)})).catch((function(e){}))},z=function(){f.a.get("".concat(v,"application-codesets/v2/PARTNER_REFERRED_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){I(e.data)})).catch((function(e){}))},F=function(e){y(Object(h.a)(Object(h.a)({},x),{},Object(se.a)({},e.target.name,""))),M(Object(h.a)(Object(h.a)({},H),{},Object(se.a)({},e.target.name,e.target.value))),"referredTo"===e.target.name&&"OTHERS"!==H.referredTo&&(H.referredToOthers="",M(Object(h.a)(Object(h.a)({},H),{},Object(se.a)({},"referredToOthers",""))),M(Object(h.a)(Object(h.a)({},H),{},Object(se.a)({},e.target.name,e.target.value)))),M(Object(h.a)(Object(h.a)({},H),{},Object(se.a)({},e.target.name,e.target.value)))},V=function(t){t.preventDefault(),!function(){var e=Object(h.a)({},x);return e.age=H.age?"":"This field is required",e.postTestCounseled=H.postTestCounseled?"":"This field is required",e.fullName=H.fullName?"":"This field is required",y(Object(h.a)({},e)),Object.values(e).every((function(e){return""==e}))}()?o.b.error("All field are required",{position:o.b.POSITION.BOTTOM_CENTER}):(d(!0),f.a.put("".concat(v,"pmtct/anc/update-partnerinformation-in-anc/").concat(e.patientObj.id),H,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){d(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"partners"}))})).catch((function(e){d(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})})))},L=function(){e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"partners",id:"",actionType:""}))};return Object(le.jsxs)("div",{children:[Object(le.jsx)(ut.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return L()},style:{backgroundColor:"#014d88"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:" Back"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)($e.a,{className:c.root,children:Object(le.jsx)(et.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:"New Partner "}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["ANC Number ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"ancNo",id:"ancNo",onChange:F,value:e.patientObj.ancNo,disabled:!0})}),""!==x.ancNo?Object(le.jsx)("span",{className:c.error,children:x.ancNo}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Partner HIV Status "}),Object(le.jsxs)(Ge.a,{children:[Object(le.jsx)(Fe.a,{type:"text",name:"partnerHivSTatus",id:"partnerHivSTatus",value:k,disabled:!0}),console.log(e.patientObj.dynamicHivStatus,null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.staticHivStatus,null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.hivStatus)]}),""!==x.ancNo?Object(le.jsx)("span",{className:c.error,children:x.ancNo}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Partner Full Name ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"fullName",id:"fullName",onChange:F,value:H.fullName,disabled:u})}),""!==x.fullName?Object(le.jsx)("span",{className:c.error,children:x.fullName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Partner age ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"Number",name:"age",id:"age",min:10,onChange:F,value:H.age,disabled:u})}),""!==x.ancNo?Object(le.jsx)("span",{className:c.error,children:x.ancNo}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Pre-test Counseled ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"preTestCounseled",id:"preTestCounseled",onChange:F,value:H.preTestCounseled,disabled:u,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==x.preTestCounseled?Object(le.jsx)("span",{className:c.error,children:x.preTestCounseled}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Partner accepts HIV test"}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"acceptHivTest",id:"acceptHivTest",onChange:F,value:H.acceptHivTest,disabled:u,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==x.acceptHivTest?Object(le.jsx)("span",{className:c.error,children:x.acceptHivTest}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Post-test counseled/ received test result"}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"postTestCounseled",id:"postTestCounseled",onChange:F,value:H.postTestCounseled,disabled:u,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==x.postTestCounseled?Object(le.jsx)("span",{className:c.error,children:x.postTestCounseled}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"HBV status "}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"hbStatus",id:"hbStatus",onChange:F,value:H.hbStatus,disabled:u,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==x.hbStatus?Object(le.jsx)("span",{className:c.error,children:x.hbStatus}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"HCV status "}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"hcStatus",id:"hcStatus",onChange:F,value:H.hcStatus,disabled:u,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==x.hcStatus?Object(le.jsx)("span",{className:c.error,children:x.hcStatus}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Syphillis Status "}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"syphillisStatus",id:"syphillisStatus",onChange:F,value:H.syphillisStatus,disabled:u,children:[Object(le.jsx)("option",{value:"",children:"Select"}),S.map((function(e){return Object(le.jsx)("option",{value:e.display,children:e.display},e.id)}))]})}),""!==x.syphillisStatus?Object(le.jsx)("span",{className:c.error,children:x.syphillisStatus}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Referred To"}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"referredTo",id:"referredTo",onChange:F,value:H.referredTo,disabled:u,children:[Object(le.jsx)("option",{value:"",children:"Select"}),w.map((function(e){return Object(le.jsx)("option",{value:e.display,children:e.display},e.id)}))]})}),""!==x.referredTo?Object(le.jsx)("span",{className:c.error,children:x.referredTo}):""]})}),"OTHERS"===H.referredTo&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Referred To Others (Please specify)"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"referredToOthers",id:"referredToOthers",onChange:F,value:H.referredToOthers,disabled:u})})]})})]}),i?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),e.activeContent&&"update"===e.activeContent.actionType?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:c.button,disabled:i,startIcon:Object(le.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:V,children:i?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating"}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:u,className:c.button,disabled:i,startIcon:Object(le.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:V,children:i?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving"}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})}),Object(le.jsx)($.a,{variant:"contained",className:c.button,startIcon:Object(le.jsx)(nt.a,{}),style:{backgroundColor:"#992E62"},onClick:function(){return L()},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})]})},Ut=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),qt=function(e){var t=e.patientObj,a=Ut(),c=Object(r.useState)(!1),n=Object(l.a)(c,2),s=n[0],i=n[1],d=Object(r.useState)({}),j=Object(l.a)(d,2),b=j[0],u=j[1],O=Object(r.useState)(!1),m=Object(l.a)(O,2),p=m[0],x=m[1],y=Object(r.useState)([]),N=Object(l.a)(y,2),T=N[0],S=N[1],C=Object(r.useState)(""),R=Object(l.a)(C,2),D=R[0],w=(R[1],Object(r.useState)(!1)),I=Object(l.a)(w,2),A=I[0],P=I[1],k=Object(r.useState)({ancNo:null===t||void 0===t?void 0:t.ancNo,dateOfinfantInfo:"",firstName:"",middleName:"",nin:"",sex:"",surname:"",uuid:t.ancUuid,dateOfDelivery:"",hospitalNumber:"",personUuid:e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid}),E=Object(l.a)(k,2),B=E[0],Y=E[1];Object(r.useEffect)((function(){H(),e.activeContent&&"create"===e.activeContent.actionType&&(B.dateOfDelivery=e.activeContent.obj),e.activeContent&&e.activeContent.id&&(Y(Object(h.a)(Object(h.a)({},B),e.activeContent.obj)),x("view"===e.activeContent.actionType))}),[e.patientObj.id,e.activeContent.id]);var H=function(){f.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){S(e.data)})).catch((function(e){}))},M=function(e){if(u(Object(h.a)(Object(h.a)({},b),{},Object(se.a)({},e.target.name,""))),"hospitalNumber"===e.target.name&&""!==e.target.value){var t;!function(){(t=t||Object(Se.a)(Object(Te.a)().mark((function t(){var a;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,f.a.post("".concat(v,"pmtct/anc/exist/infant-hospital-number"),a,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:!0!==t.sent.data?(P(!1),b.hospitalNumber=""):(b.hospitalNumber="",o.b.error("Error! Hosiptal Number already exist"),P(!0));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}Y(Object(h.a)(Object(h.a)({},B),{},Object(se.a)({},e.target.name,e.target.value)))},_=function(t){t.preventDefault(),!function(){var e=Object(h.a)({},b);return e.firstName=B.firstName?"":"This field is required",e.surname=B.surname?"":"This field is required",e.hospitalNumber=B.hospitalNumber?"":"This field is required",e.sex=B.sex?"":"This field is required",u(Object(h.a)({},e)),Object.values(e).every((function(e){return""==e}))}()?o.b.error("All field are required",{position:o.b.POSITION.BOTTOM_CENTER}):(i(!0),e.activeContent&&"update"===e.activeContent.actionType?f.a.put("".concat(v,"pmtct/anc/update-infant/").concat(e.activeContent.id),B,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){i(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"infants"}))})).catch((function(e){i(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})})):f.a.post("".concat(v,"pmtct/anc/add-infants"),B,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){i(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"infants"}))})).catch((function(e){i(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})})))},z=function(){e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"infants",id:"",actionType:""}))};return console.log("date Of Delivery",t),console.log("date Of Delivery",e.activeContent.obj),Object(le.jsxs)("div",{children:[Object(le.jsx)(ut.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return z()},style:{backgroundColor:"#014d88"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)($e.a,{className:a.root,children:Object(le.jsx)(et.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:"New Infant Registration"}),Object(le.jsxs)("div",{className:"row",children:[(null===t||void 0===t?void 0:t.ancNo)&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"ANC Number"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"ancNo",id:"ancNo",onChange:M,value:t.ancNo,disabled:!0})}),""!==b.ancNo?Object(le.jsx)("span",{className:a.error,children:b.ancNo}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Hospital Number ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"hospitalNumber",id:"hospitalNumber",onChange:M,value:B.hospitalNumber})}),""!==b.hospitalNumber?Object(le.jsx)("span",{className:a.error,children:b.hospitalNumber}):"",!0===A?Object(le.jsx)("span",{className:a.error,children:"Hospital number already exist"}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date of Delivery ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",disabled:!0,name:"dateOfDelivery",id:"dateOfDelivery",onChange:M,min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),value:B.dateOfDelivery?B.dateOfDelivery:D})}),""!==b.dateOfDelivery?Object(le.jsx)("span",{className:a.error,children:b.dateOfDelivery}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Infant Given Name ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"firstName",id:"firstName",onChange:M,value:B.firstName,disabled:p})}),""!==b.firstName?Object(le.jsx)("span",{className:a.error,children:b.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Infant Surname"}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"input",name:"surname",id:"surname",onChange:M,value:B.surname,disabled:p})}),""!==b.surname?Object(le.jsx)("span",{className:a.error,children:b.surname}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Sex ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"sex",id:"sex",onChange:M,value:B.sex,disabled:p,children:[Object(le.jsx)("option",{value:"",children:"Select "}),T.map((function(e){return Object(le.jsx)("option",{value:e.display,children:e.display},e.id)}))]})}),""!==b.sex?Object(le.jsx)("span",{className:a.error,children:b.sex}):""]})})]})]}),s?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),e.activeContent&&"update"===e.activeContent.actionType?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:a.button,disabled:s,startIcon:Object(le.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:_,children:s?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating"}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:p||A,className:a.button,disabled:s,startIcon:Object(le.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:_,children:s?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving"}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})}),Object(le.jsx)($.a,{variant:"contained",className:a.button,startIcon:Object(le.jsx)(nt.a,{}),style:{backgroundColor:"#992E62"},onClick:function(){return z()},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})]})},Gt={Add:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Y.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(V.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(I.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(E.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(C.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))}))},Kt=function(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],d=Object(r.useState)(!0),j=Object(l.a)(d,2),b=j[0],u=j[1],O=Object(i.g)(),m=c.a.useState(!1),x=Object(l.a)(m,2),y=x[0],N=x[1],T=Object(r.useState)(!1),S=Object(l.a)(T,2),C=S[0],R=S[1],D=Object(r.useState)(null),w=Object(l.a)(D,2),I=w[0],A=w[1],P=function(){return N(!y)},k=["pmtct_infant_information"];Object(r.useEffect)((function(){E()}),[e.patientObj.id]);var E=function(){u(!0),f.a.get("".concat(v,"pmtct/anc/getAllActivities/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){u(!1),s(e.data)})).catch((function(e){}))},B=function(t,a){"anc-enrollment"===t.path?O.push({pathname:"/update-patient",state:{id:t.recordId,patientObj:e.patientObj,actionType:a}}):"anc-delivery"===t.path?e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"labour-delivery",id:t.recordId,actionType:a})):"pmtct-enrollment"===t.path?e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"anc-pnc",id:t.recordId,activeTab:"history",actionType:a})):"anc-mother-visit"===t.path?e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"consultation",id:t.recordId,activeTab:"home",actionType:a})):"pmtct_infant_visit"===t.path?e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"consultation",id:t.recordId,activeTab:"child",actionType:a})):"pmtct_infant_information"===t.path&&e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"add-infant",id:t.recordId,activeTab:"home",actionType:a}))};return Object(le.jsxs)("div",{children:[Object(le.jsx)("br",{}),Object(le.jsx)(p.a,{icons:Gt,title:"Patient History ",columns:[{title:"Description",field:"name"},{title:"Encounter Date",field:"date"},{title:"Actions",field:"actions",filtering:!1}],isLoading:b,data:n&&n.map((function(e){return{name:e.activityName,date:e.activityDate,actions:k.includes(e.path)?"":Object(le.jsx)("div",{children:Object(le.jsx)(ke.a.Menu,{position:"right",children:Object(le.jsx)(ke.a.Item,{children:Object(le.jsx)(ut.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(le.jsx)(Mt.a,{item:!0,text:"Action",children:Object(le.jsxs)(Mt.a.Menu,{style:{marginTop:"10px"},children:[e.viewable&&Object(le.jsxs)(Mt.a.Item,{onClick:function(){return B(e,"view")},children:[" ",Object(le.jsx)(dt.a,{name:"eye"}),"View"," "]}),e.viewable&&Object(le.jsxs)(Mt.a.Item,{onClick:function(){return B(e,"update")},children:[Object(le.jsx)(dt.a,{name:"edit"}),"Edit"]}),Object(le.jsxs)(Mt.a.Item,{onClick:function(){return function(e){P(),A(e)}(e)},children:[" ",Object(le.jsx)(dt.a,{name:"trash"})," Delete"]})]})})})})})})}})),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(le.jsxs)(oe.a,{show:y,toggle:P,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(le.jsx)(oe.a.Header,{children:Object(le.jsx)(oe.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(oe.a.Body,{children:Object(le.jsxs)("h4",{children:["Are you Sure you want to delete"," ",Object(le.jsx)("b",{children:I&&I.activityName})]})}),Object(le.jsxs)(oe.a.Footer,{children:[Object(le.jsx)(ut.a,{onClick:function(){var e;"anc-enrollment"===(e=I).path?(R(!0),f.a.delete("".concat(v,"pmtct/anc/delete/anc/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),E(),P(),R(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"pmtct-enrollment"===e.path?(R(!0),f.a.delete("".concat(v,"pmtct/anc/delete/pmtct/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),E(),P(),R(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"anc-delivery"===e.path?(R(!1),f.a.delete("".concat(v,"pmtct/anc/delete/delivery/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),E(),P(),R(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"anc-mother-visit"===e.path?(R(!0),f.a.delete("".concat(v,"pmtct/anc/delete/delivery/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),E(),P(),R(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"pmtct_infant_visit"===e.path?(R(!0),f.a.delete("".concat(v,"pmtct/anc/delete/infantvisit/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),E(),P(),R(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"pmtct_infant_information"===e.path&&(R(!0),f.a.delete("".concat(v,"pmtct/anc/delete/infantinfo/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),E(),P(),R(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:C,children:!1===C?"Yes":"Deleting..."}),Object(le.jsx)(ut.a,{onClick:P,style:{backgroundColor:"#014d88",color:"#fff"},disabled:C,children:"No"})]})]})]})},Xt=a(869),Qt=a(483),Jt=a.n(Qt),Zt=a(875),$t=function(e){var t=Object(i.g)(),a=Object(r.useState)([]),n=Object(l.a)(a,2),s=n[0],d=n[1],j=Object(r.useState)([]),u=Object(l.a)(j,2),O=u[0],m=u[1],p=c.a.useState(!1),x=Object(l.a)(p,2),y=x[0],N=x[1],T=Object(r.useState)(!1),S=Object(l.a)(T,2),C=S[0],R=S[1],D=Object(r.useState)(null),w=Object(l.a)(D,2),I=w[0],A=w[1],P=function(){return N(!y)},k=["pmtct_infant_information"],E=Object(r.useState)({motherVisit:0,childVisit:1,childAlive:0,childDead:0}),B=Object(l.a)(E,2),Y=B[0],H=B[1],M=Object(r.useState)(0),_=Object(l.a)(M,2),z=_[0],F=_[1];console.log(e),Object(r.useEffect)((function(){null!==e&&void 0!==e&&e.allEntryPoint,V(),L(),W()}),[e.patientObj.id]);var V=function(){e.patientObj.ancNo?f.a.get("".concat(v,"pmtct/anc/get-infant-by-ancno/").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){m(e.data)})).catch((function(e){})):f.a.get("".concat(v,"pmtct/anc/get-infant-by-mother-person-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){m(e.data)})).catch((function(e){}))},L=function(){f.a.get("".concat(v,"pmtct/anc/getAllActivities/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){console.log(e.data),d(e.data)})).catch((function(e){}))},W=function(){e.patientObj.ancNo?f.a.get("".concat(v,"pmtct/anc/get-summary-chart/").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){H(e.data)})).catch((function(e){})):f.a.get("".concat(v,"pmtct/anc/get-pmtct-summary-chart/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){H(e.data)})).catch((function(e){}))},U=function(a,r){"anc-enrollment"===a.path?t.push({pathname:"/update-patient",state:{id:a.recordId,patientObj:e.patientObj,actionType:r,postValue:"ANC",entrypointValue:e.entrypointValue}}):"anc-delivery"===a.path?e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"labour-delivery",id:a.recordId,actionType:r})):"pmtct-enrollment"===a.path?e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"anc-pnc",id:a.recordId,activeTab:"history",actionType:r})):"anc-mother-visit"===a.path?e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"consultation",id:a.recordId,activeTab:"home",actionType:r})):"pmtct_infant_visit"===a.path?e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"consultation",id:a.recordId,activeTab:"child",actionType:r})):"pmtct_infant_information"===a.path&&e.setActiveContent(Object(h.a)(Object(h.a)({},e.activeContent),{},{route:"add-infant",id:a.recordId,activeTab:"home",actionType:r}))};return Object(le.jsx)(r.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-xl-4 col-xxl-4 col-lg-4",children:Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header  border-0 pb-0",children:Object(le.jsx)("h4",{className:"card-title",children:" Recent Activities"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsx)(Jt.a,{style:{height:"370px"},id:"DZ_W_Todo1",className:"widget-media dz-scroll ps ps--active-y",children:Object(le.jsx)(Zt.a,{className:"accordion accordion-header-bg accordion-header-shadow accordion-rounded ",defaultActiveKey:"0",children:Object(le.jsx)(le.Fragment,{children:s&&s.map((function(e,t){return Object(le.jsxs)("div",{className:"accordion-item",children:[Object(le.jsxs)(Zt.a.Toggle,{as:b.a.Text,eventKey:"".concat(t),className:"accordion-header ".concat(1===z?"":"collapsed"," accordion-header-info"),onClick:function(){return F(1===z?-1:t)},children:[Object(le.jsx)("span",{className:"accordion-header-icon"}),Object(le.jsxs)("span",{className:"accordion-header-text",children:["Visit Date :"," ",Object(le.jsx)("span",{className:"",children:e.activityName})," "]}),Object(le.jsx)("span",{className:"accordion-header-indicator"})]}),Object(le.jsx)(Zt.a.Collapse,{eventKey:"".concat(t),className:"accordion__body",children:Object(le.jsx)("div",{className:"accordion-body-text",children:Object(le.jsx)("ul",{className:"timeline",children:Object(le.jsx)("li",{children:Object(le.jsxs)("div",{className:"timeline-panel",children:[Object(le.jsx)("div",{className:t%2==0?"media me-2 media-info":"media me-2 media-success",children:(a=e.path,"pmtct-enrollment"===a?"PE":"anc-enrollment"===a?"AE":"anc-delivery"===a?"AD":"anc-mother-visit"===a?"MV":"pmtct_infant_visit"===a?"IV":"pmtct_infant_information"===a?"II":"RA")}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("h5",{className:"mb-1",children:e.activityName}),Object(le.jsx)("small",{className:"d-block",children:e.activityDate})]}),k.includes(e.path)?"":Object(le.jsxs)(Xt.a,{className:"dropdown",children:[Object(le.jsx)(Xt.a.Toggle,{variant:" light",className:"i-false p-0 btn-info sharp",children:Object(le.jsx)("svg",{width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(le.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(le.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(le.jsx)("circle",{fill:"#000000",cx:"5",cy:"12",r:"2"}),Object(le.jsx)("circle",{fill:"#000000",cx:"12",cy:"12",r:"2"}),Object(le.jsx)("circle",{fill:"#000000",cx:"19",cy:"12",r:"2"})]})})}),Object(le.jsxs)(Xt.a.Menu,{className:"dropdown-menu",children:[Object(le.jsx)(Xt.a.Item,{className:"dropdown-item",onClick:function(){return U(e,"view")},children:"View"}),Object(le.jsx)(Xt.a.Item,{className:"dropdown-item",onClick:function(){return U(e,"update")},children:"Update"}),Object(le.jsx)(Xt.a.Item,{className:"dropdown-item",onClick:function(){return t=e,P(),void A(t);var t},children:"Delete"})]})]})]})})})})})]},t);var a}))})})})})]})}),"Positive"===e.patientObj.dynamicHivStatus||"Positive"===e.patientObj.hivStatus?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"col-xl-8 col-xxl-8 col-lg-8",children:Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header border-0 pb-0",children:Object(le.jsx)("h4",{className:"card-title",children:"Patient Chart"})}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:[Object(le.jsx)("div",{className:"col-xl-12 col-xxl-12 col-sm-12",children:Object(le.jsxs)("div",{className:"card overflow-hidden",children:[Object(le.jsx)("div",{className:"social-graph-wrapper widget-facebook",children:Object(le.jsx)("span",{className:"s-icon",children:Object(le.jsx)("span",{style:{fontSize:"16px"},children:"Total Clinic Visit"})})}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-6 border-right",children:Object(le.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(le.jsx)("h4",{className:"m-1",children:Object(le.jsx)("span",{className:"counter",children:Object(le.jsx)("b",{children:Y.motherVisit})})}),Object(le.jsx)("p",{className:"m-0",children:Object(le.jsx)("b",{children:"Mother Visit"})})]})}),O.length>0&&Object(le.jsx)("div",{className:"col-6",children:Object(le.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(le.jsx)("h4",{className:"m-1",children:Object(le.jsx)("span",{className:"counter",children:Object(le.jsx)("b",{children:Y.childVisit})})}),Object(le.jsx)("p",{className:"m-0",children:Object(le.jsx)("b",{children:"Infant's Visit"})})]})})]})]})}),Object(le.jsx)("div",{className:"col-xl-12 col-xxl-12 col-sm-12",children:Object(le.jsxs)("div",{className:"card overflow-hidden",children:[Object(le.jsx)("div",{className:"social-graph-wrapper widget-linkedin",children:Object(le.jsx)("span",{className:"s-icon",children:Object(le.jsxs)("span",{style:{fontSize:"16px"},children:["No. of Infants"," ",O.length>0?" : "+O.length:""]})})}),Object(le.jsx)("div",{className:"row",children:O.length>0?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"col-6 border-right",children:Object(le.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(le.jsx)("h4",{className:"m-1",children:Object(le.jsx)("span",{className:"counter",children:Y.childAlive})}),Object(le.jsx)("p",{className:"m-0",children:Object(le.jsx)("b",{children:"Alive "})})]})}),Object(le.jsx)("div",{className:"col-6",children:Object(le.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(le.jsx)("h4",{className:"m-1",children:Object(le.jsx)("span",{className:"counter",children:Y.childDead})}),Object(le.jsx)("p",{className:"m-0",children:Object(le.jsx)("b",{children:"Dead "})})]})})]}):Object(le.jsx)("p",{children:"No Record"})})]})})]}),Object(le.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsx)("h3",{children:"Current Infant's Details"}),O.length>0?Object(le.jsx)(Jt.a,{style:{height:"370px"},id:"DZ_W_TimeLine1",className:"widget-timeline dz-scroll style-1 height370 ps ps--active-y",children:Object(le.jsx)("ul",{className:"timeline",children:O.length>0?O.map((function(e){return Object(le.jsxs)("li",{children:[Object(le.jsx)("div",{className:"timeline-badge info"}),Object(le.jsxs)("span",{className:"timeline-panel text-muted",children:[Object(le.jsxs)("h6",{className:"mb-0",children:["Infant Given Name",Object(le.jsx)("br",{}),e.firstName]}),Object(le.jsxs)("strong",{className:"text-teal",children:["Infant DOB",Object(le.jsx)("br",{}),e.dateOfDelivery]}),Object(le.jsx)("br",{}),Object(le.jsxs)("strong",{className:"text-warning",children:["Gender",Object(le.jsx)("br",{}),e.sex]})]})]},0)})):""})}):Object(le.jsx)("p",{children:"No Record"})]})})]})]})})}):"",console.log("Unknown"===e.patientObj.dynamicHivStatus,"Unknown"===e.patientObj.hivStatus),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(le.jsx)("div",{className:"card-body",children:"Unknown"===e.patientObj.hivStatus||"Unknown"===e.patientObj.staticHivStatus?Object(le.jsx)("b",{children:"Patient has no HTS record. Please refer for testing..."}):""})})}),Object(le.jsxs)(oe.a,{show:y,toggle:P,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(le.jsx)(oe.a.Header,{children:Object(le.jsx)(oe.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(oe.a.Body,{children:Object(le.jsxs)("h4",{children:["Are you Sure you want to delete"," ",Object(le.jsx)("b",{children:I&&I.activityName})]})}),Object(le.jsxs)(oe.a.Footer,{children:[Object(le.jsx)(ut.a,{onClick:function(){var e;"anc-enrollment"===(e=I).path?(R(!0),f.a.delete("".concat(v,"pmtct/anc/delete/anc/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),L(),P(),R(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"pmtct-enrollment"===e.path?(R(!0),f.a.delete("".concat(v,"pmtct/anc/delete/pmtct/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),L(),P(),R(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"anc-delivery"===e.path?(R(!1),f.a.delete("".concat(v,"pmtct/anc/delete/delivery/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),L(),P(),R(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"anc-mother-visit"===e.path?(R(!0),f.a.delete("".concat(v,"pmtct/anc/delete/delivery/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),L(),P(),R(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"pmtct_infant_visit"===e.path?(R(!0),f.a.delete("".concat(v,"pmtct/anc/delete/infantvisit/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),L(),P(),R(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"pmtct_infant_information"===e.path&&(R(!0),f.a.delete("".concat(v,"pmtct/anc/delete/infantinfo/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){o.b.success("Record Deleted Successfully"),L(),P(),R(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:C,children:!1===C?"Yes":"Deleting..."}),Object(le.jsx)(ut.a,{onClick:P,style:{backgroundColor:"#014d88",color:"#fff"},disabled:C,children:"No"})]})]})]})})};var ea=Object(ge.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}))((function(e){var t=Object(i.g)(),a=Object(r.useState)(!1),c=Object(l.a)(a,2),n=c[0],s=c[1],o=Object(r.useState)({}),d=Object(l.a)(o,2),j=(d[0],d[1]),b=Object(r.useState)([]),u=Object(l.a)(b,2),O=u[0],h=u[1],m=Object(r.useState)([]),p=Object(l.a)(m,2),x=p[0],N=p[1],T=Object(r.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"create",obj:{}}),S=Object(l.a)(T,2),C=S[0],R=S[1],D=e.classes,w=t.location&&t.location.state?t.location.state.patientObj:{};return Object(r.useEffect)((function(){f.a.get("".concat(v,"pmtct/anc/getAllActivities/").concat(w.person_uuid?w.person_uuid:w.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){console.log(e.data),h(e.data)})).catch((function(e){})),f.a.get("".concat(v,"patient/").concat(null===w||void 0===w?void 0:w.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){console.log(e.data),j(e.data)})).catch((function(e){})),f.a.get("".concat(v,"application-codesets/v2/PMTCT_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){N(e.data),console.log(e.data)})).catch((function(e){}))}),[]),console.log(w),Object(le.jsxs)("div",{className:D.root,children:[Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsxs)("h4",{children:[" ",Object(le.jsx)(y.b,{to:"/",children:"PMTCT /"})," Patient Dashboard"]})})})}),Object(le.jsx)(ye.a,{children:Object(le.jsxs)(Ne.a,{children:[Object(le.jsx)(Pe,{patientObj:w,setArt:s,setActiveContent:R}),Object(le.jsx)(Ye,{patientObj:w,art:n,setActiveContent:R,deliveryInfo:O}),Object(le.jsx)("br",{}),"recent-history"===C.route&&Object(le.jsx)($t,{allEntryPoint:x,patientObj:w,setActiveContent:R,activeContent:C,entrypointValue:w.ancNo?"PMTCT_ENTRY_POINT_ANC":w.entryPoint}),"consultation"===C.route&&Object(le.jsx)(Ze,{patientObj:w,setActiveContent:R,activeContent:C}),"anc-pnc"===C.route&&Object(le.jsx)(rt,{allEntryPoint:x,entrypointValue:w.entryPoint,ancEntryType:!!w.ancNo,patientObj:w,setActiveContent:R,activeContent:C,hideUpdateButton:!0}),"anc-enrollment"===C.route&&Object(le.jsx)(it,{patientObj:w,setActiveContent:R,activeContent:C}),"labour-delivery"===C.route&&Object(le.jsx)(lt,{patientObj:w,setActiveContent:R,activeContent:C}),"pmtct-hts"===C.route&&Object(le.jsx)(Ht,{patientObj:w,patientAge:w.age,setActiveContent:R,activeContent:C}),"partners"===C.route&&Object(le.jsx)(zt,{patientObj:w,patientAge:w.age,setActiveContent:R,activeContent:C}),"infants"===C.route&&Object(le.jsx)(Vt,{patientObj:w,patientAge:w.age,setActiveContent:R,activeContent:C}),"add-partner"===C.route&&Object(le.jsx)(Wt,{patientObj:w,patientAge:w.age,setActiveContent:R,activeContent:C}),"add-infant"===C.route&&Object(le.jsx)(qt,{patientObj:w,patientAge:w.age,setActiveContent:R,activeContent:C}),"patient-history"===C.route&&Object(le.jsx)(Kt,{patientObj:w,setActiveContent:R,activeContent:C})]})})]})})),ta=a(868),aa=a(484),ra=a(143),ca=a(103),na=a(849),sa=a(623),ia=a.n(sa);a(468),a(748);ra.b.add(ca.a,ca.b,ca.c,ca.d);var oa=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),la=function(e){var t,a=Object(i.h)().state,n=Object(r.useState)({active:!0,address:"",contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,hospitalNumber:"",firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:1,stateId:"",district:"",sexId:377,ninNumber:""}),s=Object(l.a)(n,2),d=s[0],j=s[1],b=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),u=Object(l.a)(b,2),O=u[0],m=u[1],p=Object(r.useState)([]),x=Object(l.a)(p,2),N=x[0],T=x[1],S=Object(r.useState)(!1),C=Object(l.a)(S,2),R=C[0],D=C[1],w=Object(r.useState)(!1),I=Object(l.a)(w,2),A=I[0],P=I[1],k=Object(r.useState)(!0),E=Object(l.a)(k,2),B=E[0],Y=E[1],H=Object(r.useState)(!1),M=Object(l.a)(H,2),_=M[0],z=M[1],F=Object(r.useState)([]),V=Object(l.a)(F,2),L=V[0],W=V[1],U=Object(r.useState)([]),q=Object(l.a)(U,2),G=q[0],K=q[1],X=Object(r.useState)([]),Q=Object(l.a)(X,2),J=Q[0],Z=Q[1],ee=Object(r.useState)([]),ae=Object(l.a)(ee,2),re=ae[0],ce=ae[1],ie=Object(r.useState)([]),de=Object(l.a)(ie,2),je=de[0],be=de[1],ue=Object(r.useState)([]),Oe=Object(l.a)(ue,2),he=Oe[0],me=Oe[1],pe=Object(r.useState)([]),xe=Object(l.a)(pe,2),fe=xe[0],ve=xe[1],ge=Object(r.useState)([]),ye=Object(l.a)(ge,2),Ne=ye[0],Ce=ye[1],Re=Object(r.useState)({}),De=Object(l.a)(Re,2),we=De[0],Ie=De[1],Ae=Object(r.useState)([]),Pe=Object(l.a)(Ae,2),ke=(Pe[0],Pe[1]),Ee=Object(r.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"",obj:{}}),Be=Object(l.a)(Ee,2),Ye=Be[0],He=Be[1],Me=e.location&&e.location.state?e.location.state.user:null,Ve=oa(),We=Object(i.g)(),Ue=Object(i.h)(),qe=Object(r.useState)(!1),Ke=Object(l.a)(qe,2),Xe=(Ke[0],Ke[1]),Qe=Object(r.useState)({ancNo:"",gaweeks:"",gravida:"",expectedDeliveryDate:"",firstAncDate:"",lmp:"",parity:"",hivDiognosicTime:"",referredSyphilisTreatment:"",testResultSyphilis:"",testedSyphilis:"",treatedSyphilis:"",personDto:{},pmtctHtsInfo:{},syphilisInfo:{},partnerNotification:{},staticHivStatus:""}),Je=Object(l.a)(Qe,2),Ze=Je[0],$e=Je[1],et=Object(r.useState)({pmtctEnrollmentDate:"",entryPoint:"",artStartDate:"",artStartTime:"",id:"",tbStatus:"",personDto:{}}),at=Object(l.a)(et,2),ct=at[0],st=(at[1],Object(r.useState)([])),it=Object(l.a)(st,2),ot=(it[0],it[1]),lt=Object(r.useState)([]),dt=Object(l.a)(lt,2),ut=dt[0],Ot=dt[1],mt=Object(r.useState)([]),pt=Object(l.a)(mt,2),xt=(pt[0],pt[1]),ft=Object(r.useState)(!1),vt=Object(l.a)(ft,2),gt=vt[0],yt=vt[1],Nt=Object(r.useState)(!1),Tt=Object(l.a)(Nt,2),St=Tt[0],Ct=Tt[1],Rt=c.a.useState(!1),Dt=Object(l.a)(Rt,2),wt=Dt[0],It=Dt[1],At=Object(r.useState)({}),Pt=Object(l.a)(At,2),kt=Pt[0],Et=Pt[1],Bt=function(){return It(!wt)},Yt=Ue.state;console.log("state recieved from location",Yt);var Ht;Ht=Yt?Yt.patientId:null;var Mt=Object(h.a)({},we);Object(r.useEffect)((function(){_t(),zt(),Ft(),Vt(),Lt(),Wt(),Zt(),$t(),ea(),Ut(),qt(),d.dateOfRegistration<d.dob&&alert("Date of registration can not be earlier than date of birth")}),[d.dateOfRegistration]);var _t=Object(r.useCallback)(Object(Se.a)(Object(Te.a)().mark((function e(){var t;return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}});case 3:t=e.sent,W(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),zt=Object(r.useCallback)(Object(Se.a)(Object(Te.a)().mark((function e(){var t;return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(v,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}});case 3:t=e.sent,K(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Ft=Object(r.useCallback)(Object(Se.a)(Object(Te.a)().mark((function e(){var t;return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(v,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(g)}});case 3:t=e.sent,Z(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Vt=Object(r.useCallback)(Object(Se.a)(Object(Te.a)().mark((function e(){var t;return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(v,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(g)}});case 3:t=e.sent,ce(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Lt=Object(r.useCallback)(Object(Se.a)(Object(Te.a)().mark((function e(){var t;return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(v,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(g)}});case 3:t=e.sent,be(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Wt=Object(r.useCallback)(Object(Se.a)(Object(Te.a)().mark((function e(){var t;return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(v,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(g)}});case 2:t=e.sent,ke(t.data);case 4:case"end":return e.stop()}}),e)}))),[]),Ut=function(){f.a.get("".concat(v,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){me(e.data)})).catch((function(e){}))},qt=function(){f.a.get("".concat(v,"organisation-units/parent-organisation-units/1"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){ve(e.data)})).catch((function(e){}))},Gt=function(e){"Actual"==e.target.value?Y(!0):"Estimated"==e.target.value&&Y(!1)},Kt=function(e){if(Ie(Object(h.a)(Object(h.a)({},Mt),{},Object(se.a)({},e.target.name,""))),"sexId"===e.target.name&&"377"===e.target.value)Xe(!0);else if("firstName"===e.target.name&&""!==e.target.value){var t=Jt(e.target.value);j(Object(h.a)(Object(h.a)({},d),{},Object(se.a)({},e.target.name,t)))}else if("lastName"===e.target.name&&""!==e.target.value){var a=Jt(e.target.value);j(Object(h.a)(Object(h.a)({},d),{},Object(se.a)({},e.target.name,a)))}else if("middleName"===e.target.name&&""!==e.target.value){var r=Jt(e.target.value);j(Object(h.a)(Object(h.a)({},d),{},Object(se.a)({},e.target.name,r)))}else if("ninNumber"===e.target.name&&""!==e.target.value){var c=sa(e.target.value);j(Object(h.a)(Object(h.a)({},d),{},Object(se.a)({},e.target.name,c)))}else if("ancNo"===e.target.name&&""!==e.target.value){var n;!function(){(n=n||Object(Se.a)(Object(Te.a)().mark((function t(){var a,r;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,f.a.get("".concat(v,"pmtct/anc/exist/anc-number/").concat(a),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:!0===(r=t.sent).data?(o.b.error("ANC number already exist"),yt(r.data)):yt(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}else if("hospitalNumber"===e.target.name&&""!==e.target.value){var s;j(Object(h.a)(Object(h.a)({},d),{},{hospitalNumber:e.target.value})),function(){(s=s||Object(Se.a)(Object(Te.a)().mark((function t(){var a;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,f.a.post("".concat(v,"patient/exist/hospital-number"),a,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:!0!==t.sent.data?(Ct(!1),we.hospitalNumber=""):(we.hospitalNumber="",o.b.error("Error! Hosiptal Number already exist"),Ct(!0));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}else j(Object(h.a)(Object(h.a)({},d),{},Object(se.a)({},e.target.name,e.target.value)))},Xt=function(e){var t=je.find((function(t){return t.id===e}));return t?t.display:""},Qt=function(e){m(Object(h.a)(Object(h.a)({},O),{},Object(se.a)({},e.target.name,e.target.value)))},Jt=function(e){return e.replace(/[^a-z]/gi,"")},Zt=function(){f.a.get("".concat(v,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){ot(e.data)})).catch((function(e){}))},$t=function(){f.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){Ot(e.data)})).catch((function(e){}))},ea=function(){f.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){xt(e.data)})).catch((function(e){}))},ra=function(e){if(Ie(Object(h.a)(Object(h.a)({},Mt),{},Object(se.a)({},e.target.name,""))),"ancNo"===e.target.name&&""!==e.target.value){var t;!function(){(t=t||Object(Se.a)(Object(Te.a)().mark((function t(){var a,r,c;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,r={ancNo:a},t.next=4,f.a.post("".concat(v,"pmtct/anc/exist/anc-number/").concat(a),r,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 4:!0===(c=t.sent).data?(o.b.error("ANC number already exist"),yt(c.data)):yt(!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}if("lmp"===e.target.name&&""!==e.target.value){var a;!function(){(a=a||Object(Se.a)(Object(Te.a)().mark((function t(){var a,r;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,f.a.get("".concat(v,"pmtct/anc/calculate-ga/").concat(a),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:(r=t.sent).data>0?(Ze.gaweeks=r.data,$e(Object(h.a)(Object(h.a)({},Ze),{},Object(se.a)({},e.target.name,e.target.value))),Ie(Object(h.a)(Object(h.a)({},we),{},{gaweeks:""}))):(Ze.gaweeks=r.data,o.b.error("Please select a validate date"),$e(Object(h.a)(Object(h.a)({},Ze),{},Object(se.a)({},e.target.name,e.target.value))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}"parity"===e.target.name&&""!==e.target.value&&e.target.value<0||"gravida"===e.target.name&&""!==e.target.value&&e.target.value<=0||("testedSyphilis"===e.target.name&&""!==e.target.value&&"Yes"===e.target.value&&(Ze.testResultSyphilis="",Ze.referredSyphilisTreatment="",Ze.treatedSyphilis="",$e(Object(h.a)(Object(h.a)({},Ze),{},Object(se.a)({},"testResultSyphilis",""))),$e(Object(h.a)(Object(h.a)({},Ze),{},Object(se.a)({},"referredSyphilisTreatment",""))),$e(Object(h.a)(Object(h.a)({},Ze),{},Object(se.a)({},"treatedSyphilis",""))),$e(Object(h.a)(Object(h.a)({},Ze),{},Object(se.a)({},e.target.name,e.target.value)))),"testResultSyphilis"===e.target.name&&""!==e.target.value&&"Positive"===e.target.value&&(Ze.treatedSyphilis="",Ze.referredSyphilisTreatment="",$e(Object(h.a)(Object(h.a)({},Ze),{},Object(se.a)({},"treatedSyphilis",""))),$e(Object(h.a)(Object(h.a)({},Ze),{},Object(se.a)({},"referredSyphilisTreatment",""))),$e(Object(h.a)(Object(h.a)({},Ze),{},Object(se.a)({},e.target.name,e.target.value)))),$e(Object(h.a)(Object(h.a)({},Ze),{},Object(se.a)({},e.target.name,e.target.value))))},ca=function(e,t){if(console.log(e,t),"phoneNumber"===t){e&&Ie(Object(h.a)(Object(h.a)({},we),{},{phoneNumber:""}));j(Object(h.a)(Object(h.a)({},d),{},{phoneNumber:e.slice(0,10)}))}if("altPhonenumber"===t){j(Object(h.a)(Object(h.a)({},d),{},{altPhonenumber:e.slice(0,10)}))}},sa=function(e){return e.slice(0,11)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsxs)("h4",{children:[" ",Object(le.jsx)(y.b,{to:"/",children:"PMTCT /"})," Patient Registration"]})})})}),Object(le.jsx)(y.b,{to:{pathname:"/",state:"users"},children:Object(le.jsx)($.a,{variant:"contained",color:"primary",className:" float-end mr-10 pr-10",style:{backgroundColor:"#014d88",fontWeight:"bolder",margingRight:"-40px"},startIcon:Object(le.jsx)(ne.a,{}),children:Object(le.jsxs)("span",{style:{textTransform:"capitalize",color:"#fff"},children:["Back"," "]})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(bt.a,{className:Ve.root,children:Object(le.jsx)(na.a,{children:Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)(ta.a,{children:[Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===Me?"Basic Information":"Edit User Information"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsxs)("div",{className:"basic-form",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{for:"dateOfRegistration",children:["Date of Registration"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(le.jsx)(Fe.a,{className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",min:"1983-12-31",max:te(new Date).format("YYYY-MM-DD"),value:d.dateOfRegistration,onChange:Kt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==we.dateOfRegistration?Object(le.jsx)("span",{className:Ve.error,children:we.dateOfRegistration}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{for:"patientId",children:["Hospital Number"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:d.hospitalNumber,onChange:Kt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==we.hospitalNumber?Object(le.jsx)("span",{className:Ve.error,children:we.hospitalNumber}):"",!0===St?Object(le.jsx)("span",{className:Ve.error,children:"Hospital number already exist"}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{for:"ninNumber",children:["National Identity Number (NIN)"," "]}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"ninNumber",value:d.ninNumber,id:"ninNumber",onChange:Kt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{for:"firstName",children:["First Names ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Fe.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:d.firstName,onChange:Kt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==we.firstName?Object(le.jsx)("span",{className:Ve.error,children:we.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Middle Name"}),Object(le.jsx)(Fe.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:d.middleName,onChange:Kt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Last Name ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:d.lastName,onChange:Kt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==we.lastName?Object(le.jsx)("span",{className:Ve.error,children:we.lastName}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Sex ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:Kt,value:d.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:!0,children:[Object(le.jsx)("option",{value:"",children:"Select"}),L.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==we.sexId?Object(le.jsx)("span",{className:Ve.error,children:we.sexId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return Gt(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," ","Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return Gt(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," ","Estimated"]})})]})}),Object(le.jsxs)("div",{className:"form-group mb-3 col-md-2",children:[Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",min:"1940-01-01",id:"dob",max:d.dateOfRegistration,value:d.dob,onChange:function(e){if(e.target.value){Ie(Object(h.a)(Object(h.a)({},we),{},{dob:""}));var t=new Date,a=new Date(e.target.value),r=t.getFullYear()-a.getFullYear(),c=t.getMonth()-a.getMonth();(c<0||0===c&&t.getDate()<a.getDate())&&r--,d.age=r}else j(Object(h.a)(Object(h.a)({},d),{},{age:""}));j(Object(h.a)(Object(h.a)({},d),{},{dob:e.target.value})),""!==d.age&&d.age>=60&&Bt()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}),""!==we.dob?Object(le.jsx)("span",{className:Ve.error,children:we.dob}):""]}),Object(le.jsxs)("div",{className:"form-group mb-3 col-md-4",children:[Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Age"}),Object(le.jsx)("input",{type:"number",name:"age",className:"form-control",id:"age",min:"10",value:d.age,disabled:B,onChange:function(e){if(!B&&e.target.value){""!==e.target.value&&e.target.value>=60&&Bt(),e.target.value<=1?P(!0):P(!1);var t=new Date;t.setDate(15),t.setMonth(5);var a=te(t.toISOString()).add(-1*e.target.value,"years");d.dob=te(a).format("YYYY-MM-DD")}j(Object(h.a)(Object(h.a)({},d),{},{age:Math.abs(e.target.value)}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}),Object(le.jsx)("p",{children:Object(le.jsxs)("b",{style:{color:"red"},children:[""!==d.age&&d.age<10?"Minimum age for PMTCT enrolment is 10 years":" "," "]})})]})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Marital Status"}),Object(le.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:Kt,value:d.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),G.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Employment Status"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:Kt,value:d.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),re.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==we.employmentStatusId?Object(le.jsx)("span",{className:Ve.error,children:we.employmentStatusId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Education Level"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:Kt,value:d.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),J.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==we.educationId?Object(le.jsx)("span",{className:Ve.error,children:we.educationId}):""]})})]})]})})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Phone Number ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:d.phoneNumber,onChange:function(e){ca(e,"phoneNumber")}}),""!==we.phoneNumber?Object(le.jsx)("span",{className:Ve.error,children:we.phoneNumber}):""]})}),Object(le.jsx)("div",{className:"form-group col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Alt. Phone Number"}),Object(le.jsx)(ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:d.altPhonenumber,masks:{ng:"...-...-....",at:"(....) ...-...."},onChange:function(e){ca(e,"altPhonenumber")}})]})}),Object(le.jsx)("div",{className:"form-group col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Email"}),Object(le.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:Kt,value:d.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Country ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:d.countryId,disabled:!0,children:[Object(le.jsx)("option",{value:"",children:"Select"}),he.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==we.countryId?Object(le.jsx)("span",{className:Ve.error,children:we.countryId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["State ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:d.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:function(e){var t=e.target.value;e.target.value&&Ie(Object(h.a)(Object(h.a)({},we),{},{stateId:""})),j(Object(h.a)(Object(h.a)({},d),{},{stateId:e.target.value})),f.a.get("".concat(v,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){Ce(e.data)})).catch((function(e){}))},children:[Object(le.jsx)("option",{value:"",children:"Select"}),fe.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==we.stateId?Object(le.jsx)("span",{className:Ve.error,children:we.stateId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Province/District/LGA"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:d.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Kt,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Ne.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==we.district?Object(le.jsx)("span",{className:Ve.error,children:we.district}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Street Address"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:d.address,onChange:Kt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==we.address?Object(le.jsx)("span",{className:Ve.error,children:we.address}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Landmark"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:d.landmark,onChange:Kt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[N&&N.length>0&&Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(le.jsx)("thead",{className:"mb-3",children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:"Relationship Type"}),Object(le.jsx)("th",{children:"Name"}),Object(le.jsx)("th",{children:"Phone"}),Object(le.jsx)("th",{children:"Address"}),Object(le.jsx)("th",{children:"Actions"})]})}),Object(le.jsx)("tbody",{className:"mb-3",children:N.map((function(e,t){return Object(le.jsxs)("tr",{className:"mb-3",children:[Object(le.jsx)("td",{children:Xt(e.relationshipId)}),Object(le.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(le.jsx)("td",{children:e.phone}),Object(le.jsx)("td",{children:e.address}),Object(le.jsxs)("td",{children:[Object(le.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:function(){return function(e,t){m(e),z(!0),N.splice(t,1)}(e,t)},children:Object(le.jsx)(aa.a,{icon:"edit"})}),"\xa0\xa0",Object(le.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:function(e){return function(e){N.splice(e,1),T(Object(jt.a)(N))}(t)},children:Object(le.jsx)(aa.a,{icon:"trash"})})]})]},e.index)}))})]})}),Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:_&&Object(le.jsx)("div",{className:"card",children:Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{for:"relationshipType",children:["Relationship Type"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:O.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Qt,children:[Object(le.jsx)("option",{value:"",children:"Select"}),je.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==we.relationshipId?Object(le.jsx)("span",{className:Ve.error,children:we.relationshipId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{for:"cfirstName",children:["First Name"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:O.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Qt}),""!==we.firstName?Object(le.jsx)("span",{className:Ve.error,children:we.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Middle Name"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:O.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Qt})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Last Name"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:O.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Qt}),""!==we.lastName?Object(le.jsx)("span",{className:Ve.error,children:we.lastName}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(le.jsx)(ht.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:O.phone,masks:{ng:"...-...-....",at:"(....) ...-...."},id:"phone",onChange:function(e){!function(e,t){m(Object(h.a)(Object(h.a)({},O),{},Object(se.a)({},t,e.slice(0,10))))}(e,"phone")}}),""!==we.phone?Object(le.jsx)("span",{className:Ve.error,children:we.phone}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"contactEmail",children:"Email"}),Object(le.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",value:O.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Qt,required:!0})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"contactAddress",children:"Address"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:O.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Qt})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-1",children:Object(le.jsx)($.a,{type:"button",variant:"contained",color:"primary",className:Ve.button,onClick:function(e){(function(){var e=Object(h.a)({},we);return e.firstName=O.firstName?"":"First Name is required",e.lastName=O.lastName?"":"Last Name  is required.",e.phone=O.phone?"":"Phone Number  is required.",e.relationshipId=O.relationshipId?"":"Relationship Type is required.",Ie(Object(h.a)({},e)),Object.values(e).every((function(e){return""==e}))})()&&(T([].concat(Object(jt.a)(N),[O])),m({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}))},children:"Add"})}),Object(le.jsx)("div",{className:"col-1",children:Object(le.jsx)($.a,{type:"button",variant:"contained",color:"secondary",className:Ve.button,onClick:function(){z(!1)},children:"Cancel"})})]})]})})})]}),Object(le.jsx)("div",{className:"row"}),Object(le.jsx)($.a,{type:"button",variant:"contained",color:"primary",className:Ve.button,startIcon:Object(le.jsx)(ia.a,{}),onClick:function(){z(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),a.showANC&&Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"ANC Enrollment"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["ANC No ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"ancNo",id:"ancNo",onChange:function(e){if(Ie(Object(h.a)(Object(h.a)({},we),{},Object(se.a)({},e.target.name,""))),"ancNo"===e.target.name&&""!==e.target.value){var t;!function(){(t=t||Object(Se.a)(Object(Te.a)().mark((function t(){var a,r,c;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,r={ancNo:a},t.next=4,f.a.post("".concat(v,"pmtct/anc/exist/anc-number/").concat(a),r,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 4:!0===(c=t.sent).data?(o.b.error("ANC number already exist",{position:o.b.POSITION.BOTTOM_CENTER}),yt(c.data)):yt(!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}$e(Object(h.a)(Object(h.a)({},Ze),{},Object(se.a)({},e.target.name,e.target.value)))},value:Ze.ancNo})}),""!==we.ancNo?Object(le.jsx)("span",{className:Ve.error,children:we.ancNo}):"",!0===gt?Object(le.jsx)("span",{className:Ve.error,children:"ANC number already exist"}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date of Enrollment"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"firstAncDate",id:"firstAncDate",onChange:ra,value:Ze.firstAncDate,min:d.dateOfRegistration,max:te(new Date).format("YYYY-MM-DD")})}),""!==we.firstAncDate?Object(le.jsx)("span",{className:Ve.error,children:we.firstAncDate}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Parity ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"parity",id:"parity",onChange:ra,value:Ze.parity,min:"0"})}),""!==we.parity?Object(le.jsx)("span",{className:Ve.error,children:we.parity}):"",""!==Ze.parity&&Ze.parity<0?Object(le.jsx)("span",{className:Ve.error,children:"Parity should not be less than 1"}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Gravida ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"gravida",id:"gravida",onChange:ra,value:Ze.gravida,min:Ze.parity})}),""!==we.gravida?Object(le.jsx)("span",{className:Ve.error,children:we.gravida}):"",Ze.gravida<Ze.parity?Object(le.jsx)("span",{className:Ve.error,children:"Gravida should not be less Parity"}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date Of Last Menstrual Period"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"lmp",id:"lmp",onChange:ra,value:Ze.lmp,max:te(new Date).format("YYYY-MM-DD")})}),""!==we.lmp?Object(le.jsx)("span",{className:Ve.error,children:we.lmp}):"",0===Ze.gaweeks?Object(le.jsx)("span",{className:Ve.error,children:"Invalid date "}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Gestational Age (Weeks)"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:ra,value:Ze.gaweeks,disabled:!0})}),""!==we.gaweeks?Object(le.jsx)("span",{className:Ve.error,children:we.gaweeks}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Source of Referral"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"sourceOfReferral",id:"sourceOfReferral",onChange:ra,value:Ze.sourceOfReferral,children:[Object(le.jsx)("option",{value:"",children:"Select"}),ut.map((function(e,t){return Object(le.jsx)("option",{value:e.code,children:e.display},t)}))]})}),""!==we.sourceOfReferral?Object(le.jsx)("span",{className:Ve.error,children:we.sourceOfReferral}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Tested for syphilis"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"testedSyphilis",id:"testedSyphilis",onChange:ra,value:Ze.testedSyphilis,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==we.testedSyphilis?Object(le.jsx)("span",{className:Ve.error,children:we.testedSyphilis}):""]})}),"Yes"===Ze.testedSyphilis&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Syphilis test result"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"testResultSyphilis",id:"testResultSyphilis",onChange:ra,value:Ze.testResultSyphilis,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==we.testResultSyphilis?Object(le.jsx)("span",{className:Ve.error,children:we.testResultSyphilis}):""]})}),"Yes"===Ze.testedSyphilis&&"Positive"===Ze.testResultSyphilis&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Treated for syphilis (penicillin)"," "]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"treatedSyphilis",id:"treatedSyphilis",onChange:ra,value:Ze.encounterDate,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==we.treatedSyphilis?Object(le.jsx)("span",{className:Ve.error,children:we.treatedSyphilis}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Referred Syphilis +ve client "}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"referredSyphilisTreatment",id:"referredSyphilisTreatment",onChange:ra,value:Ze.referredSyphilisTreatment,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==we.referredSyphilisTreatment?Object(le.jsx)("span",{className:Ve.error,children:we.referredSyphilisTreatment}):""]})})]})]}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["HIV Status ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"staticHivStatus",id:"staticHivStatus",onChange:ra,value:Ze.staticHivStatus,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"}),Object(le.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==we.staticHivStatus?Object(le.jsx)("span",{className:Ve.error,children:we.staticHivStatus}):""]})})]})})]}),!a.showANC&&Object(le.jsx)(rt,{getPMTCTInfo:function(e){return Et(e),e},patientObj:{},showANC:a.showANC,setActiveContent:He,activeContent:Ye,hideUpdateButton:!1,ancEntryType:!1}),R?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:A||St,className:Ve.button,startIcon:Object(le.jsx)(Le.a,{}),onClick:function(e){return(t=t||Object(Se.a)(Object(Te.a)().mark((function e(t){var r,c,n,s,i,l,j,b,u,O,m,p,x,y,T,S,C,R,w,I,A,P,k,E,B;return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("hereeeeee"),Mt.firstName=d.firstName?"":"First Name is required",Mt.hospitalNumber=d.hospitalNumber?"":"Hospital Number  is required.",console.log(Mt.hospitalNumber),Mt.lastName=d.lastName?"":"Last Name  is required.",Mt.sexId=d.sexId?"":"Gender is required.",Mt.dateOfRegistration=d.dateOfRegistration?"":"Date of Registration is required.",Mt.educationId=d.educationId?"":"Education is required.",Mt.address=d.address?"":"Address is required.",Mt.phoneNumber=d.phoneNumber?"":"Phone Number  is required.",Mt.countryId=d.countryId?"":"Country is required.",Mt.stateId=d.stateId?"":"State is required.",Mt.district=d.district?"":"Province/LGA is required.",Mt.dob=d.dateOfRegistration?"":"Date is required",a.showANC&&(Mt.gaweeks=Ze.gaweeks?"":"This field is required",Mt.gravida=Ze.gravida?"":"This field is required","Positive"===Ze.testResultSyphilis&&(Mt.referredSyphilisTreatment=Ze.referredSyphilisTreatment?"":"This field is required"),Mt.lmp=Ze.lmp?"":"This field is required",Mt.parity=""!==Ze.parity?"":"This field is required",Mt.testedSyphilis=Ze.testedSyphilis?"":"This field is required","Positive"===Ze.testResultSyphilis&&(Mt.treatedSyphilis=Ze.treatedSyphilis?"":"This field is required"),Mt.sourceOfReferral=Ze.sourceOfReferral?"":"This field is required","Yes"===Ze.testedSyphilis&&(Mt.testResultSyphilis=Ze.testResultSyphilis?"":"This field is required"),Mt.staticHivStatus=Ze.staticHivStatus?"":"This field is required",Mt.ancNo=Ze.ancNo?"":"This field is required"),Ie(Object(h.a)({},Mt)),!Object.values(Mt).every((function(e){return""==e}))){e.next=58;break}if(!(d.age>9)){e.next=57;break}if(D(!0),r=[],N&&N.length>0&&N.map((function(e){var t={address:{line:[e.address]},contactPoint:{type:"phone",value:e.phone},firstName:e.firstName,fullName:e.firstName+" "+e.middleName+" "+e.lastName,relationshipId:e.relationshipId,surname:e.lastName,otherName:e.middleName};r.push(t)})),!a.showANC){e.next=32;break}return e.prev=8,c={active:!0,address:[{city:d.address,countryId:d.countryId,district:d.district,line:[d.landmark],organisationUnitId:0,postalCode:"",stateId:d.stateId}],contact:r,contactPoint:[],dateOfBirth:d.dob,deceased:!1,deceasedDateTime:null,firstName:d.firstName,genderId:d.sexId,sexId:d.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:d.hospitalNumber}],otherName:d.middleName,maritalStatusId:d.maritalStatusId,surname:d.lastName,educationId:d.educationId,employmentStatusId:d.employmentStatusId,dateOfRegistration:d.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=d.dateOfBirth,ninNumber:d.ninNumber},n={type:"phone",value:d.phoneNumber},d.email&&(s={type:"email",value:d.email},c.contactPoint.push(s)),d.altPhonenumber&&(i={type:"altphone",value:d.altPhonenumber},c.contactPoint.push(i)),c.contactPoint.push(n),c.id=Ht,Ze.personDto=c,console.log(Ze),e.next=19,f.a.post("".concat(v,"pmtct/anc/anc-new-registration"),Ze,{headers:{Authorization:"Bearer ".concat(g)}});case 19:l=e.sent,o.b.success("Patient Register successful",{position:o.b.POSITION.BOTTOM_CENTER}),console.log(l.data),We.push({pathname:"/patient-history",state:{patientObj:l.data,postValue:Yt.postValue,entrypointValue:Yt.entrypointValue}}),D(!1),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(8),D(!1),e.t0.response&&e.t0.response.data?(j=e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.message?e.t0.response.data.apierror.message:"Something went wrong, please try again",e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.message&&e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.subErrors[0].message?o.b.error(e.t0.response.data.apierror.message+" : "+e.t0.response.data.apierror.subErrors[0].field+" "+e.t0.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(j,{position:o.b.POSITION.BOTTOM_CENTER})):o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER});case 30:e.next=55;break;case 32:return console.log("here"),e.prev=33,b={active:!0,address:[{city:d.address,countryId:d.countryId,district:d.district,line:[d.landmark],organisationUnitId:0,postalCode:"",stateId:d.stateId}],contact:r,contactPoint:[],dateOfBirth:d.dob,deceased:!1,deceasedDateTime:null,firstName:d.firstName,genderId:d.sexId,sexId:d.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:d.hospitalNumber}],otherName:d.middleName,maritalStatusId:d.maritalStatusId,surname:d.lastName,educationId:d.educationId,employmentStatusId:d.employmentStatusId,dateOfRegistration:d.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=d.dateOfBirth,ninNumber:d.ninNumber},u={type:"phone",value:d.phoneNumber},d.email&&(O={type:"email",value:d.email},b.contactPoint.push(O)),d.altPhonenumber&&(m={type:"altphone",value:d.altPhonenumber},b.contactPoint.push(m)),b.contactPoint.push(u),b.id=Ht,ct.personDto=b,p=Object(h.a)(Object(h.a)({},kt),{},{personDto:b,entryPoint:Yt.entrypointValue}),console.log("payload",p),e.next=45,f.a.post("".concat(v,"pmtct/anc/pmtct-enrollment"),p,{headers:{Authorization:"Bearer ".concat(g)}});case 45:x=e.sent,o.b.success("Patient Register successful",{position:o.b.POSITION.BOTTOM_CENTER}),We.push({pathname:"/patient-history",state:{patientObj:x.data,postValue:Yt.postValue,entrypointValue:Yt.entrypointValue}}),D(!1),e.next=55;break;case 51:e.prev=51,e.t1=e.catch(33),D(!1),e.t1.response&&e.t1.response.data?(B=e.t1.response.data.apierror&&""!==e.t1.response.data.apierror.message?e.t1.response.data.apierror.message:"Something went wrong, please try again",null!==e.t1&&void 0!==e.t1&&null!==(y=e.t1.response)&&void 0!==y&&null!==(T=y.data)&&void 0!==T&&T.apierror&&""!==(null===e.t1||void 0===e.t1||null===(S=e.t1.response)||void 0===S||null===(C=S.data)||void 0===C||null===(R=C.apierror)||void 0===R?void 0:R.message)&&null!==e.t1&&void 0!==e.t1&&null!==(w=e.t1.response)&&void 0!==w&&null!==(I=w.data)&&void 0!==I&&I.apierror&&""!==(null===e.t1||void 0===e.t1||null===(A=e.t1.response)||void 0===A||null===(P=A.data)||void 0===P||null===(k=P.apierror)||void 0===k||null===(E=k.subErrors[0])||void 0===E?void 0:E.message)?o.b.error(e.t1.response.data.apierror.message+" : "+e.t1.response.data.apierror.subErrors[0].field+" "+e.t1.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(B,{position:o.b.POSITION.BOTTOM_CENTER})):o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER});case 55:e.next=58;break;case 57:window.scrollTo(0,0);case 58:case"end":return e.stop()}}),e,null,[[8,26],[33,51]])})))).apply(this,arguments)},disabled:R,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:R?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)($.a,{variant:"contained",className:Ve.button,startIcon:Object(le.jsx)(nt.a,{}),style:{backgroundColor:"#992E62"},onClick:function(){We.push({pathname:"/"})},children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})}),Object(le.jsxs)(oe.a,{show:wt,toggle:Bt,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(le.jsx)(oe.a.Header,{children:Object(le.jsx)(oe.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(oe.a.Body,{children:Object(le.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(le.jsx)(oe.a.Footer,{children:Object(le.jsx)($.a,{onClick:Bt,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};ra.b.add(ca.a,ca.b,ca.c,ca.d);var da=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),ja=function(e){var t,a=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),n=Object(l.a)(a,2),s=n[0],d=n[1],j=Object(r.useState)(!1),b=Object(l.a)(j,2),u=b[0],O=(b[1],Object(r.useState)(!1)),m=Object(l.a)(O,2),p=m[0],x=m[1],N=Object(r.useState)(!0),T=Object(l.a)(N,2),S=T[0],C=(T[1],Object(r.useState)([])),R=Object(l.a)(C,2),D=(R[0],R[1]),w=Object(r.useState)(!1),I=Object(l.a)(w,2),A=I[0],P=I[1],k=Object(r.useState)({}),E=Object(l.a)(k,2),B=E[0],Y=E[1],H=Object(r.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"",obj:{}}),M=Object(l.a)(H,2),_=M[0],z=M[1],F=e.location&&e.location.state?e.location.state.user:null,V=da(),L=Object(i.g)(),W=Object(i.h)(),U=Object(r.useState)({ancNo:"",gaweeks:"",gravida:"",expectedDeliveryDate:"",firstAncDate:"",lmp:"",parity:"",person_uuid:"",hivDiognosicTime:"",referredSyphilisTreatment:"",testResultSyphilis:"",testedSyphilis:"",treatedSyphilis:"",personDto:{},pmtctHtsInfo:{},syphilisInfo:{},partnerNotification:{},sourceOfReferral:"",staticHivStatus:""}),q=Object(l.a)(U,2),G=q[0],K=q[1];console.log("location",W.state);var X,Q,J=Object(r.useState)([]),Z=Object(l.a)(J,2),ee=(Z[0],Z[1]),ae=c.a.useState(!1),re=Object(l.a)(ae,2),ce=re[0],ie=re[1],oe=W.state;X=oe?oe.patientId:null,Q=oe?oe.patientObj:{};var de=Object(r.useState)([]),je=Object(l.a)(de,2),be=je[0],ue=je[1];Object(r.useEffect)((function(){if(console.log(oe),me(),he(),ve(),Q){G.staticHivStatus=Q&&"Positive"===Q.dynamicHivStatus?"Positive":"";var e=Q.identifier.identifier.find((function(e){return"HospitalNumber"===e.type}));s.dob=Q.dateOfBirth,s.firstName=Q.firstName,s.dateOfRegistration=Q.dateOfRegistration,s.middleName=Q.otherName,s.lastName=Q.surname,s.dateOfRegistration=Q.dateOfRegistration,s.hospitalNumber=e&&e?e.value:"",K(Object(h.a)(Object(h.a)({},G),{},{uniqueId:e?e.value:""})),s.genderId=Q&&Q.gender?Q.gender.id:null;var t=pe(te(Q.dateOfBirth).format("DD-MM-YYYY"));s.age=t,G.personId=Q.id,s.ninNumber=Q.ninNumber,s.staticHivStatus=Q.dynamicHivStatus}s.dateOfRegistration<s.dob&&alert("Date of registration can not be earlier than date of birth"),Oe()}),[Q,X,s.dateOfRegistration]);var Oe=function(){f.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){ue(e.data)})).catch((function(e){}))},he=function(){f.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){var t="";"female"!==Q.sex&&"Female"!==Q.sex&&"FEMALE"!==Q.sex||(t="Female"),"Male"!==Q.sex&&"male"!==Q.sex&&"MALE"!==Q.sex||(t="Male");var a=e.data.find((function(e){return e.display===t}));s.sexId=a.display})).catch((function(e){}))},me=Object(r.useCallback)(Object(Se.a)(Object(Te.a)().mark((function e(){var t;return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}});case 3:t=e.sent,D(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),pe=function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),c=new Date(r),n=t.getFullYear()-c.getFullYear(),s=t.getMonth()-c.getMonth();return(s<0||0===s&&t.getDate()<c.getDate())&&n--,0===n?s+" month(s)":n},xe=function(){var e=Object(h.a)({},B);return e.gaweeks=G.gaweeks?"":"This field is required",e.gravida=G.gravida?"":"This field is required","Positive"===G.testResultSyphilis&&(e.referredSyphilisTreatment=G.referredSyphilisTreatment?"":"This field is required"),e.lmp=G.lmp?"":"This field is required",e.parity=""!==G.parity?"":"This field is required",e.testedSyphilis=G.testedSyphilis?"":"This field is required","Positive"===G.testResultSyphilis&&(e.treatedSyphilis=G.treatedSyphilis?"":"This field is required"),e.sourceOfReferral=G.sourceOfReferral?"":"This field is required","Yes"===G.testedSyphilis&&(e.testResultSyphilis=G.testResultSyphilis?"":"This field is required"),e.staticHivStatus=G.staticHivStatus?"":"This field is required",e.ancNo=G.ancNo?"":"This field is required",Y(Object(h.a)({},e)),Object.values(e).every((function(e){return""===e}))},fe=function(e){Y(Object(h.a)(Object(h.a)({},B),{},Object(se.a)({},e.target.name,""))),d(Object(h.a)(Object(h.a)({},s),{},Object(se.a)({},e.target.name,e.target.value)))},ve=function(){f.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){ee(e.data)})).catch((function(e){}))},ge=function(e){if(Y(Object(h.a)(Object(h.a)({},B),{},Object(se.a)({},e.target.name,""))),"ancNo"===e.target.name&&""!==e.target.value){var t;!function(){(t=t||Object(Se.a)(Object(Te.a)().mark((function t(){var a,r,c;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,r={ancNo:a},t.next=4,f.a.post("".concat(v,"pmtct/anc/exist/anc-number/").concat(a),r,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 4:!0===(c=t.sent).data?(o.b.error("ANC number already exist"),P(c.data)):P(!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}if("lmp"===e.target.name&&""!==e.target.value){var a;!function(){(a=a||Object(Se.a)(Object(Te.a)().mark((function t(){var a,r;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,f.a.get("".concat(v,"pmtct/anc/calculate-ga/").concat(a),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:(r=t.sent).data>0?(G.gaweeks=r.data,K(Object(h.a)(Object(h.a)({},G),{},Object(se.a)({},e.target.name,e.target.value)))):(G.gaweeks=r.data,o.b.error("Please select a validate date"),K(Object(h.a)(Object(h.a)({},G),{},Object(se.a)({},e.target.name,e.target.value))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}"parity"===e.target.name&&""!==e.target.value&&e.target.value<0||"gravida"===e.target.name&&""!==e.target.value&&e.target.value<=0||("testedSyphilis"===e.target.name&&""!==e.target.value&&"Yes"===e.target.value&&(G.testResultSyphilis="",G.referredSyphilisTreatment="",G.treatedSyphilis="",K(Object(h.a)(Object(h.a)({},G),{},Object(se.a)({},"testResultSyphilis",""))),K(Object(h.a)(Object(h.a)({},G),{},Object(se.a)({},"referredSyphilisTreatment",""))),K(Object(h.a)(Object(h.a)({},G),{},Object(se.a)({},"treatedSyphilis",""))),K(Object(h.a)(Object(h.a)({},G),{},Object(se.a)({},e.target.name,e.target.value)))),"testResultSyphilis"===e.target.name&&""!==e.target.value&&"Positive"===e.target.value&&(G.treatedSyphilis="",G.referredSyphilisTreatment="",K(Object(h.a)(Object(h.a)({},G),{},Object(se.a)({},"treatedSyphilis",""))),K(Object(h.a)(Object(h.a)({},G),{},Object(se.a)({},"referredSyphilisTreatment",""))),K(Object(h.a)(Object(h.a)({},G),{},Object(se.a)({},e.target.name,e.target.value)))),K(Object(h.a)(Object(h.a)({},G),{},Object(se.a)({},e.target.name,e.target.value))))};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsxs)("h4",{children:[" ",Object(le.jsx)(y.b,{to:"/",children:"PMTCT /"})," Patient Enrollment"]})})})}),Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)(bt.a,{className:V.root,children:Object(le.jsxs)(na.a,{children:[Object(le.jsx)(y.b,{to:{pathname:"/",state:"users"},children:Object(le.jsx)($.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(le.jsx)(ne.a,{}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back"})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)(ta.a,{children:[Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===F?"Basic Information":"Edit User Information"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsx)("div",{className:"basic-form",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"firstName",children:"Name"}),Object(le.jsx)(Fe.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:null!==s&&void 0!==s&&s.fullname?null===s||void 0===s?void 0:s.fullname:"".concat(s.firstName," ").concat(s.lastName),onChange:fe,style:{border:"none",backgroundColor:"transparent",outline:"none"}}),""!==B.firstName?Object(le.jsx)("span",{className:V.error,children:B.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"patientId",children:"Hospital Number "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:s.hospitalNumber,onChange:fe,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Sex "}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sexId",id:"sexId",onChange:fe,value:s.sexId,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-2",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"age",id:"age",value:s.age,disabled:S,onChange:function(e){var t=e.target.value.replace(/\D/g,"");if(!S&&t){""!==t&&t>=60&&ie(!ce),x(t<=1);var a=new Date;a.setDate(15),a.setMonth(5);var r=te(a.toISOString()).add(-1*t,"years");s.dob=te(r).format("YYYY-MM-DD")}d(Object(h.a)(Object(h.a)({},s),{},{age:t}))},style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})})]})})})]}),oe.showANC?Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"ANC Enrollment"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["ANC No ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"ancNo",id:"ancNo",onChange:ge,value:G.ancNo})}),""!==B.ancNo?Object(le.jsx)("span",{className:V.error,children:B.ancNo}):"",!0===A?Object(le.jsx)("span",{className:V.error,children:"ANC number already exist"}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date of Enrollment"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"firstAncDate",id:"firstAncDate",onChange:ge,value:G.firstAncDate,min:Q.dateOfRegistration,max:te(new Date).format("YYYY-MM-DD")})}),""!==B.firstAncDate?Object(le.jsx)("span",{className:V.error,children:B.firstAncDate}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Parity ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"parity",id:"parity",onChange:ge,value:G.parity,min:0})}),""!==B.parity?Object(le.jsx)("span",{className:V.error,children:B.parity}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Gravida ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"gravida",id:"gragravidavida",onChange:ge,value:G.gravida,min:"1"})}),""!==B.gravida?Object(le.jsx)("span",{className:V.error,children:B.gravida}):"",G.gravida<G.parity?Object(le.jsx)("span",{className:V.error,children:"Gravida should not be less Parity"}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date Of Last Menstrual Period"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"lmp",id:"lmp",onChange:ge,value:G.lmp,max:te(new Date).format("YYYY-MM-DD")})}),""!==B.lmp?Object(le.jsx)("span",{className:V.error,children:B.lmp}):"",0===G.gaweeks?Object(le.jsx)("span",{className:V.error,children:"Invalid date "}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Gestational Age (Weeks)"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"gaweeks",id:"gaweeks",onChange:ge,value:G.gaweeks,disabled:!0})}),""!==B.gaweeks?Object(le.jsx)("span",{className:V.error,children:B.gaweeks}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Source of Referral"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"sourceOfReferral",id:"sourceOfReferral",onChange:ge,value:G.sourceOfReferral,children:[Object(le.jsx)("option",{value:"",children:"Select"}),be.map((function(e,t){return Object(le.jsx)("option",{value:e.code,children:e.display},t)}))]})}),""!==B.sourceOfReferral?Object(le.jsx)("span",{className:V.error,children:B.sourceOfReferral}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Tested for syphilis"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"testedSyphilis",id:"testedSyphilis",onChange:ge,value:G.testedSyphilis,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==B.testedSyphilis?Object(le.jsx)("span",{className:V.error,children:B.testedSyphilis}):""]})}),"Yes"===G.testedSyphilis&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Syphilis test result"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"testResultSyphilis",id:"testResultSyphilis",onChange:ge,value:G.testResultSyphilis,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==B.testResultSyphilis?Object(le.jsx)("span",{className:V.error,children:B.testResultSyphilis}):""]})}),"Yes"===G.testedSyphilis&&"Positive"===G.testResultSyphilis&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Treated for syphilis (penicillin)"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"treatedSyphilis",id:"treatedSyphilis",onChange:ge,value:G.treatedSyphilis,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==B.treatedSyphilis?Object(le.jsx)("span",{className:V.error,children:B.treatedSyphilis}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Referred Syphilis +ve client"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"referredSyphilisTreatment",id:"referredSyphilisTreatment",onChange:ge,value:G.referredSyphilisTreatment,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==B.referredSyphilisTreatment?Object(le.jsx)("span",{className:V.error,children:B.referredSyphilisTreatment}):""]})})]})]}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["HIV Status ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"staticHivStatus",id:"staticHivStatus",onChange:ge,value:G.staticHivStatus,disabled:"Positive"===Q.dynamicHivStatus,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"}),Object(le.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==B.staticHivStatus?Object(le.jsx)("span",{className:V.error,children:B.staticHivStatus}):""]})})]})})]}):Object(le.jsx)(rt,{patientObj:Q,setActiveContent:z,activeContent:_,hideUpdateButton:!0,entrypointValue:oe.entrypointValue,ancEntryType:!!Q.ancNo,handleRoute:function(e){L.push({pathname:"/patient-history",state:{patientObj:e,postValue:"L&D"}})}}),console.log("patientObj",Q),u?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),oe.showANC&&Object(le.jsxs)(le.Fragment,{children:[G.gaweeks>0&&!0!==A&&G.gravida>=G.parity&&Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:V.button,startIcon:Object(le.jsx)(Le.a,{}),hidden:A,disabled:p,onClick:function(e){return(t=t||Object(Se.a)(Object(Te.a)().mark((function e(t){var a,r,c,n;return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("reading"),!xe()){e.next=32;break}if(!oe.showANC){e.next=19;break}return e.prev=4,G.entryPoint=oe.entrypointValue,G.person_uuid=Q.uuid,e.next=9,f.a.post("".concat(v,"pmtct/anc/anc-enrollement"),G,{headers:{Authorization:"Bearer ".concat(g)}});case 9:a=e.sent,o.b.success("Patient Register successful",{position:o.b.POSITION.BOTTOM_CENTER}),L.push({pathname:"/patient-history",state:{patientObj:a.data,postValue:oe.postValue,entrypointValue:oe.entrypointValue}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),e.t0.response&&e.t0.response.data?(r=e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.message?e.t0.response.data.apierror.message:"Something went wrong, please try again",e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.message&&e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.subErrors[0].message?o.b.error(e.t0.response.data.apierror.message+" : "+e.t0.response.data.apierror.subErrors[0].field+" "+e.t0.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(r,{position:o.b.POSITION.BOTTOM_CENTER})):o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER});case 17:e.next=32;break;case 19:return e.prev=19,G.person_uuid=Q.uuid,e.next=23,f.a.post("".concat(v,"pmtct/anc/pmtct-enrollment"),G,{headers:{Authorization:"Bearer ".concat(g)}});case 23:c=e.sent,console.log("i am here",c),L.push({pathname:"/patient-history",state:{patientObj:c.data,postValue:oe.postValue,entrypointValue:oe.entrypointValue}}),o.b.success("Patient Register successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(19),e.t1.response&&e.t1.response.data?(n=e.t1.response.data.apierror&&""!==e.t1.response.data.apierror.message?e.t1.response.data.apierror.message:"Something went wrong, please try again",e.t1.response.data.apierror&&""!==e.t1.response.data.apierror.message&&e.t1.response.data.apierror&&""!==e.t1.response.data.apierror.subErrors[0].message?o.b.error(e.t1.response.data.apierror.message+" : "+e.t1.response.data.apierror.subErrors[0].field+" "+e.t1.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(n,{position:o.b.POSITION.BOTTOM_CENTER})):o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER});case 32:case"end":return e.stop()}}),e,null,[[4,14],[19,29]])})))).apply(this,arguments)},children:u?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)($.a,{variant:"contained",className:V.button,startIcon:Object(le.jsx)(nt.a,{}),onClick:function(){L.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})]})})]})})]})};ra.b.add(ca.a,ca.b,ca.c,ca.d);var ba=Object(Ee.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),ua=function(e){var t,a,n,s,d,j,b=Object(r.useState)({fullname:"",sex:"",age:"",hospitalNumber:""}),u=Object(l.a)(b,2),O=u[0],m=u[1],p=Object(r.useState)(!1),x=Object(l.a)(p,2),N=x[0],T=(x[1],Object(r.useState)(!1)),S=Object(l.a)(T,2),C=S[0],R=S[1],D=Object(r.useState)(!0),w=Object(l.a)(D,2),I=w[0],A=(w[1],Object(r.useState)([])),P=Object(l.a)(A,2),k=(P[0],P[1]),E=Object(r.useState)(!1),B=Object(l.a)(E,2),Y=B[0],H=B[1],M=Object(r.useState)({}),_=Object(l.a)(M,2),z=_[0],F=_[1],V=e.location&&e.location.state?e.location.state.user:null,L=ba(),W=Object(i.g)(),U=Object(i.h)(),q=Object(r.useState)({ancNo:"",gaweeks:"",gravida:"",expectedDeliveryDate:"",firstAncDate:"",lmp:"",parity:"",person_uuid:"",hivDiognosicTime:"",referredSyphilisTreatment:"",testResultSyphilis:"",testedSyphilis:"",treatedSyphilis:"",personDto:{},pmtctHtsInfo:{},syphilisInfo:{},partnerNotification:{},sourceOfReferral:"",staticHivStatus:""}),G=Object(l.a)(q,2),K=G[0],X=G[1],Q=Object(r.useState)([]),J=Object(l.a)(Q,2),Z=(J[0],J[1]),ee=c.a.useState(!1),ae=Object(l.a)(ee,2),re=ae[0],ce=ae[1],ie=function(){return ce(!re)},de=U.state;console.log(de);var je,be,ue,Oe;je=de?de.patientId:null,ue=de?de.id:null,be=de?de.actionType:null,Oe=de?de.patientObj:{};var he=Object(r.useState)([]),me=Object(l.a)(he,2),pe=me[0],xe=me[1],fe=Object(r.useState)(!1),ve=Object(l.a)(fe,2),ge=ve[0],ye=ve[1],Ne=Object(r.useState)([]),Ce=Object(l.a)(Ne,2),Re=Ce[0],De=(Ce[1],Object(r.useState)({})),we=Object(l.a)(De,2),Ie=we[0],Ae=we[1];Object(r.useEffect)((function(){Be(),Ee(),Me(),Oe&&(ye("view"===be),X(Object(h.a)({},Oe)),O.fullname=Oe.fullname,O.age=Oe.age,O.hospitalNumber=Oe.hospitalNumber,O.sex=Oe.sex),Pe()}),[Oe,je,be]),Object(r.useEffect)((function(){ke(),de.entrypointValue&&Re.map((function(e,t){e.code===de.entrypointValue&&(Ae(e),console.log("location choosennn",e))}))}),[]);var Pe=function(){f.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){xe(e.data)})).catch((function(e){}))},ke=function(){f.a.get("".concat(v,"pmtct/anc/").concat(U.state.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){console.log(e.data),X(Object(h.a)({},e.data))})).catch((function(e){}))},Ee=function(){f.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){var t="";"female"!==Oe.sex&&"Female"!==Oe.sex&&"FEMALE"!==Oe.sex||(t="Female"),"Male"!==Oe.sex&&"male"!==Oe.sex&&"MALE"!==Oe.sex||(t="Male");var a=e.data.find((function(e){return e.display===t}));O.sexId=a.display})).catch((function(e){}))},Be=Object(r.useCallback)(Object(Se.a)(Object(Te.a)().mark((function e(){var t;return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}});case 3:t=e.sent,k(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Ye=function(){var e=Object(h.a)({},z);return e.gaweeks=K.gaweeks?"":"This field is required",e.gravida=K.gravida?"":"This field is required","Yes"===K.testResultSyphilis&&(e.referredSyphilisTreatment=K.referredSyphilisTreatment?"":"This field is required"),e.lmp=K.lmp?"":"This field is required",e.parity=""!==K.parity?"":"This field is required",e.testedSyphilis=K.testedSyphilis?"":"This field is required","Yes"===K.testResultSyphilis&&(e.treatedSyphilis=K.treatedSyphilis?"":"This field is required"),e.sourceOfReferral=K.sourceOfReferral?"":"This field is required","Yes"===K.testedSyphilis&&(e.testResultSyphilis=K.testResultSyphilis?"":"This field is required"),e.staticHivStatus=K.staticHivStatus?"":"This field is required",F(Object(h.a)({},e)),Object.values(e).every((function(e){return""==e}))},He=function(e){F(Object(h.a)(Object(h.a)({},z),{},Object(se.a)({},e.target.name,""))),m(Object(h.a)(Object(h.a)({},O),{},Object(se.a)({},e.target.name,e.target.value)))},Me=function(){f.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){Z(e.data)})).catch((function(e){}))},Ve=function(e){if(F(Object(h.a)(Object(h.a)({},z),{},Object(se.a)({},e.target.name,""))),"ancNo"===e.target.name&&""!==e.target.value){var t;!function(){(t=t||Object(Se.a)(Object(Te.a)().mark((function t(){var a,r,c;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,r={ancNo:a},t.next=4,f.a.post("".concat(v,"pmtct/anc/exist/anc-number/").concat(a),r,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 4:!0===(c=t.sent).data?(o.b.error("ANC number already exist"),H(c.data)):H(!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}if("lmp"===e.target.name&&""!==e.target.value){var a;!function(){(a=a||Object(Se.a)(Object(Te.a)().mark((function t(){var a,r;return Object(Te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,f.a.get("".concat(v,"pmtct/anc/calculate-ga/").concat(a),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:(r=t.sent).data>0?(K.gaweeks=r.data,X(Object(h.a)(Object(h.a)({},K),{},Object(se.a)({},e.target.name,e.target.value)))):(K.gaweeks=r.data,o.b.error("Please select a validate date"),X(Object(h.a)(Object(h.a)({},K),{},Object(se.a)({},e.target.name,e.target.value))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}"parity"===e.target.name&&""!==e.target.value&&e.target.value<0||"gravida"===e.target.name&&""!==e.target.value&&e.target.value<=0||("testedSyphilis"===e.target.name&&""!==e.target.value&&"Yes"===e.target.value&&(K.testResultSyphilis="",K.referredSyphilisTreatment="",K.treatedSyphilis="",X(Object(h.a)(Object(h.a)({},K),{},Object(se.a)({},"testResultSyphilis",""))),X(Object(h.a)(Object(h.a)({},K),{},Object(se.a)({},"referredSyphilisTreatment",""))),X(Object(h.a)(Object(h.a)({},K),{},Object(se.a)({},"treatedSyphilis",""))),X(Object(h.a)(Object(h.a)({},K),{},Object(se.a)({},e.target.name,e.target.value)))),"testResultSyphilis"===e.target.name&&""!==e.target.value&&"Positive"===e.target.value&&(K.treatedSyphilis="",K.referredSyphilisTreatment="",X(Object(h.a)(Object(h.a)({},K),{},Object(se.a)({},"treatedSyphilis",""))),X(Object(h.a)(Object(h.a)({},K),{},Object(se.a)({},"referredSyphilisTreatment",""))),X(Object(h.a)(Object(h.a)({},K),{},Object(se.a)({},e.target.name,e.target.value)))),X(Object(h.a)(Object(h.a)({},K),{},Object(se.a)({},e.target.name,e.target.value))))};return console.log(z),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsxs)("h4",{children:[" ",Object(le.jsx)(y.b,{to:"/",children:"PMTCT /"})," Patient Enrollment"]})})})}),Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)(bt.a,{className:L.root,children:Object(le.jsxs)(na.a,{children:[Object(le.jsx)(y.b,{to:{pathname:"/patient-history",state:{patientObj:Oe}},children:Object(le.jsx)($.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(le.jsx)(ne.a,{}),children:Object(le.jsxs)("span",{style:{textTransform:"capitalize",color:"#fff"},children:["Back"," "]})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)(ta.a,{children:[Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===V?"Basic Information":"Edit User Information"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsx)("div",{className:"basic-form",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"firstName",children:"Name"}),Object(le.jsx)(Fe.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:null!==(a=U.state)&&void 0!==a&&null!==(n=a.patientObj)&&void 0!==n&&n.fullName?null===U||void 0===U||null===(s=U.state.patientObj)||void 0===s?void 0:s.fullName:null===U||void 0===U||null===(d=U.state)||void 0===d||null===(j=d.patientObj)||void 0===j?void 0:j.fullname,onChange:He,style:{border:"none",backgroundColor:"transparent",outline:"none"}}),""!==z.firstName?Object(le.jsx)("span",{className:L.error,children:z.firstName}):""]})}),console.log(U.state.patientObj),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{for:"patientId",children:"Hospital Number "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:O.hospitalNumber,onChange:He,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Sex "}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sexId",id:"sexId",onChange:He,value:O.sex,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-2",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsx)(ze.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"age",id:"age",value:O.age,disabled:I,onChange:function(e){var t=e.target.value.replace(/\D/g,"");if(!I&&t){""!==t&&t>=60&&ie(),R(t<=1);var a=new Date;a.setDate(15),a.setMonth(5);var r=te(a.toISOString()).add(-1*t,"years");O.dob=te(r).format("YYYY-MM-DD")}m(Object(h.a)(Object(h.a)({},O),{},{age:t}))},style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})})]})})})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"ANC Enrollment"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["ANC No ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"text",name:"ancNo",id:"ancNo",onChange:Ve,value:K.ancNo,disabled:!0})}),""!==z.ancNo?Object(le.jsx)("span",{className:L.error,children:z.ancNo}):"",!0===Y?Object(le.jsx)("span",{className:L.error,children:"ANC number already exist"}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date of Enrollment"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"firstAncDate",id:"firstAncDate",onChange:Ve,value:K.firstAncDate,max:te(new Date).format("YYYY-MM-DD"),disabled:ge})}),""!==z.firstAncDate?Object(le.jsx)("span",{className:L.error,children:z.firstAncDate}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Parity ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"parity",id:"parity",onChange:Ve,value:K.parity,disabled:ge})}),""!==z.parity?Object(le.jsx)("span",{className:L.error,children:z.parity}):"",""!==K.parity&&K.parity<=0?Object(le.jsx)("span",{className:L.error,children:"Parity should not be less than 1"}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Gravida ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"gravida",id:"gravida",onChange:Ve,value:K.gravida,disabled:ge})}),""!==z.gravida?Object(le.jsx)("span",{className:L.error,children:z.gravida}):"",K.gravida<K.parity?Object(le.jsx)("span",{className:L.error,children:"Gravida should not be less Parity"}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Date Of Last Menstrual Period"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"date",name:"lmp",id:"lmp",onChange:Ve,value:K.lmp,max:te(new Date).format("YYYY-MM-DD"),disabled:!0})}),""!==z.lmp?Object(le.jsx)("span",{className:L.error,children:z.lmp}):"",0===K.gaweeks?Object(le.jsx)("span",{className:L.error,children:"Invalid date "}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Gestational Age (Weeks)"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsx)(Fe.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:Ve,value:K.gaweeks,disabled:ge})}),""!==z.gaweeks?Object(le.jsx)("span",{className:L.error,children:z.gaweeks}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Source of Referral"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"sourceOfReferral",id:"sourceOfReferral",onChange:Ve,value:K.sourceOfReferral,disabled:ge,children:[Object(le.jsx)("option",{value:"",children:"Select"}),pe.map((function(e,t){return Object(le.jsx)("option",{value:e.code,children:e.display},t)}))]})}),""!==z.sourceOfReferral?Object(le.jsx)("span",{className:L.error,children:z.sourceOfReferral}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Tested for syphilis"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"testedSyphilis",id:"testedSyphilis",onChange:Ve,value:K.testedSyphilis,disabled:ge,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==z.testedSyphilis?Object(le.jsx)("span",{className:L.error,children:z.testedSyphilis}):""]})}),"Yes"===K.testedSyphilis&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Syphilis test result"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"testResultSyphilis",id:"testResultSyphilis",onChange:Ve,value:K.testResultSyphilis,disabled:ge,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==z.testResultSyphilis?Object(le.jsx)("span",{className:L.error,children:z.testResultSyphilis}):""]})}),"Yes"===K.testedSyphilis&&"Positive"===K.testResultSyphilis&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Treated for syphilis (penicillin)"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"treatedSyphilis",id:"treatedSyphilis",onChange:Ve,value:K.encounterDate,disabled:ge,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==z.treatedSyphilis?Object(le.jsx)("span",{className:L.error,children:z.treatedSyphilis}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["Referred Syphilis +ve client"," ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"referredSyphilisTreatment",id:"referredSyphilisTreatment",onChange:Ve,value:K.referredSyphilisTreatment,disabled:ge,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})}),""!==z.referredSyphilisTreatment?Object(le.jsx)("span",{className:L.error,children:z.referredSyphilisTreatment}):""]})})]})]}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(_e.a,{children:[Object(le.jsxs)(ze.a,{children:["HIV Status ",Object(le.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(le.jsx)(Ge.a,{children:Object(le.jsxs)(Fe.a,{type:"select",name:"staticHivStatus",id:"staticHivStatus",onChange:Ve,value:K.staticHivStatus,disabled:ge,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"}),Object(le.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==z.staticHivStatus?Object(le.jsx)("span",{className:L.error,children:z.staticHivStatus}):""]})})]})})]}),N?Object(le.jsx)(tt.a,{}):"",Object(le.jsx)("br",{}),K.gaweeks>0&&!0!==Y&&K.gravida>=K.parity&&Object(le.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:ge,className:L.button,startIcon:Object(le.jsx)(Le.a,{}),disabled:C,onClick:function(e){return(t=t||Object(Se.a)(Object(Te.a)().mark((function e(t){var a;return Object(Te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Ye()){e.next=14;break}return e.prev=2,K.person_uuid=Oe.uuid,e.next=6,f.a.put("".concat(v,"pmtct/anc/update-anc/").concat(ue),K,{headers:{Authorization:"Bearer ".concat(g)}});case 6:e.sent,o.b.success("Record updated  successful",{position:o.b.POSITION.BOTTOM_CENTER}),W.push({pathname:"/patient-history",state:{patientObj:Oe,postValue:Ie.display,entrypointValue:Ie.code}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),e.t0.response&&e.t0.response.data?(a=e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.message?e.t0.response.data.apierror.message:"Something went wrong, please try again",e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.message&&e.t0.response.data.apierror&&""!==e.t0.response.data.apierror.subErrors[0].message?o.b.error(e.t0.response.data.apierror.message+" : "+e.t0.response.data.apierror.subErrors[0].field+" "+e.t0.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(a,{position:o.b.POSITION.BOTTOM_CENTER})):o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)},children:N?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})}),Object(le.jsx)($.a,{variant:"contained",className:L.button,startIcon:Object(le.jsx)(nt.a,{}),onClick:function(){W.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})]})}),Object(le.jsxs)(oe.a,{show:re,toggle:ie,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(le.jsx)(oe.a.Header,{children:Object(le.jsx)(oe.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(oe.a.Body,{children:Object(le.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(le.jsx)(oe.a.Footer,{children:Object(le.jsx)($.a,{onClick:ie,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};function Oa(){return Object(le.jsx)(i.a,{children:Object(le.jsxs)("div",{children:[Object(le.jsx)(o.a,{}),Object(le.jsxs)(i.d,{children:[Object(le.jsx)(i.b,{path:"/patient-history",children:Object(le.jsx)(ea,{})}),Object(le.jsx)(i.b,{path:"/register-patient",children:Object(le.jsx)(la,{})}),Object(le.jsx)(i.b,{path:"/enroll-patient",children:Object(le.jsx)(ja,{})}),Object(le.jsx)(i.b,{path:"/update-patient",children:Object(le.jsx)(ua,{})}),Object(le.jsx)(i.b,{path:"/",children:Object(le.jsx)(ve,{})})]})]})})}var ha=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,1057)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),r(e),c(e),n(e),s(e)}))},ma=a(624),pa="ltr",xa=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:pa},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:pa},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:pa},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:pa},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:pa},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:pa}],fa=Object(r.createContext)(),va=function(e){var t=Object(r.useState)({value:"full",label:"Full"}),a=Object(l.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)({value:"fixed",label:"Fixed"}),i=Object(l.a)(s,2),o=i[0],d=i[1],j=Object(r.useState)({value:"fixed",label:"Fixed"}),b=Object(l.a)(j,2),u=b[0],O=b[1],h=Object(r.useState)({value:"vertical",label:"Vertical"}),m=Object(l.a)(h,2),p=m[0],x=m[1],f=Object(r.useState)({value:"ltr",label:"LTR"}),v=Object(l.a)(f,2),g=v[0],y=v[1],N=Object(r.useState)("color_1"),T=Object(l.a)(N,2),S=T[0],C=T[1],R=Object(r.useState)("color_1"),D=Object(l.a)(R,2),w=D[0],I=D[1],A=Object(r.useState)("color_1"),P=Object(l.a)(A,2),k=P[0],E=P[1],B=Object(r.useState)("color_1"),Y=Object(l.a)(B,2),H=Y[0],M=Y[1],_=Object(r.useState)(!1),z=Object(l.a)(_,2),F=z[0],V=z[1],L=Object(r.useState)(!1),W=Object(l.a)(L,2),U=W[0],q=W[1],G=Object(r.useState)({value:"light",label:"Light"}),K=Object(l.a)(G,2),X=K[0],Q=K[1],J=Object(r.useState)({value:"wide-boxed",label:"Wide Boxed"}),Z=Object(l.a)(J,2),$=Z[0],ee=Z[1],te=document.querySelector("body"),ae=Object(r.useState)(0),re=Object(l.a)(ae,2),ce=re[0],ne=re[1],se=Object(r.useState)(0),ie=Object(l.a)(se,2),oe=ie[0],de=ie[1],je=function(e){C(e),te.setAttribute("data-primary",e)},be=function(e){I(e),te.setAttribute("data-nav-headerbg",e)},ue=function(e){E(e),te.setAttribute("data-headerbg",e)},Oe=function(e){M(e),te.setAttribute("data-sibebarbg",e)},he=function(e){d(e),te.setAttribute("data-sidebar-position",e.value)},me=function(e){y(e),te.setAttribute("direction",e.value);var t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},pe=function(e){"horizontal"===e.value&&"overlay"===c.value?(x(e),te.setAttribute("data-layout",e.value),n({value:"full",label:"Full"}),te.setAttribute("data-sidebar-style","full")):(x(e),te.setAttribute("data-layout",e.value))},xe=function(e){"horizontal"===p.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(n(e),V("icon-hover"===e.value?"_i-hover":""),te.setAttribute("data-sidebar-style",e.value))},fe=function(e){O(e),te.setAttribute("data-header-position",e.value)},ve=function(e){te.setAttribute("data-theme-version",e.value),Q(e)},ge=function(e){ee(e),te.setAttribute("data-container",e.value),"boxed"===e.value&&xe({value:"overlay",label:"Overlay"})};return Object(r.useEffect)((function(){var e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");var t=function(){ne(window.innerWidth),de(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),Object(le.jsx)(fa.Provider,{value:{body:te,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:o,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:S,navigationHader:w,windowWidth:ce,windowHeight:oe,changePrimaryColor:je,changeNavigationHader:be,changeSideBarStyle:xe,sideBarStyle:c,changeSideBarPostion:he,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:fe,headerposition:u,changeSideBarLayout:pe,sidebarLayout:p,changeDirectionLayout:me,changeContainerPosition:ge,direction:g,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:k,chnageHaderColor:ue,chnageSidebarColor:Oe,sidebarColor:H,iconHover:F,menuToggle:U,openMenuToggle:function(){"overly"===c.value?q(!0):q(!1)},changeBackground:ve,background:X,containerPosition_:$,setDemoTheme:function(e,t){var a={},r=xa[e];te.setAttribute("data-typography",r.typography),a.value=r.version,ve(a),a.value=r.layout,pe(a),je(r.primary),be(r.navheaderBg),ue(r.headerBg),a.value=r.sidebarStyle,xe(a),Oe(r.sidebarBg),a.value=r.sidebarPosition,he(a),a.value=r.headerPosition,fe(a),a.value=r.containerLayout,ge(a),a.value=t,me(a)}},children:e.children})};s.a.render(Object(le.jsx)(c.a.StrictMode,{children:Object(le.jsx)(ma.a,{children:Object(le.jsx)(y.a,{basename:"/",children:Object(le.jsx)(va,{children:Object(le.jsx)(Oa,{})})})})}),document.getElementById("root")),ha()}},[[795,1,2]]]);
//# sourceMappingURL=main.d83d8411.chunk.js.map